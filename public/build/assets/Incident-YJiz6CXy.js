import{A as he,C as Ce,N as Se}from"./NoData-lFASRSiv.js";import{_ as Te}from"./InputLabel-Z96phsIw.js";import{_ as Z}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{r as C,y as $,o,d as l,a as e,Q as ie,F as R,g as ee,e as r,t as c,E as P,T as re,C as ce,z,j as x,k as w,b as O,v as Y,N as B,x as me,f as I,A as X,G as F,c as q,w as Ve,O as De,n as L,P as le,B as Ue}from"./app-CFalFzNS.js";import{M as ne}from"./vue3-multiselect.umd.min-DTp1r4rh.js";import{U as je}from"./Upload-DI4PGhPt.js";import{P as Ae}from"./Pagination-exhcgR3m.js";import{V as Oe}from"./main-jXy0Ad9b.js";import"./DropdownLink-CwpI_Z47.js";const Re={components:{Label:Te},name:"IncidentAlert",emits:["show_edit"],setup(i,t){let p=C("Loading .."),s=C("Loading ..");const j=async()=>{let h="/incidentOverdue";console.log(h);try{return await(await fetch(h)).json()}catch(k){console.error(k)}},T=async()=>{let h="/incidentRemain";console.log(h);try{return await(await fetch(h)).json()}catch(k){console.error(k)}};function _(h){let k=h%3600/60,A=h%(24*3600)/3600,g=h/(24*3600),m=null;if(h>=86400){let a=g-Math.floor(g);g=g-a,a=a*24;let M=a-Math.floor(a);a=a-M,a!=0?m=g+" d, "+a+" hr":m=g+" d"}else if(h>1440){let a=A-Math.floor(A),M=A-a;a=Math.round(a*60),M!=0?m=M+" hr,"+a+" m":m=a+" m"}else m=Math.round(k)+" m";return m}function u(h){let k=2592e3;return k-h/100*k}function D(h){t.emit("show_edit",h)}function f(){j().then(h=>{p.value=h}),T().then(h=>{s.value=h})}return $(()=>{f()}),{bundle:p,remain:s,getList:f,getDay:_,percenttosecond:u,doEdit:D}}},Ie={class:"w-full flex justify-between text-sm px-2"},Pe={key:0},Me={class:"min-w-full divide-y divide-gray-200 mt-1 shadow-xl"},Ne={class:"bg-white rounded-b-lg divide-y divide-gray-200 text-sm text-center max-h-80 overflow-auto block scrollbar-thin scrollbar-thumb-gray-400 scrollbar-track-white w-full"},Le=["onClick"],Be={class:"px-2 py-2 whitespace-nowrap col-span-1"},Ee={class:"px-2 py-2 whitespace-nowrap col-span-1"},Fe={class:"px-2 py-2 whitespace-nowrap col-span-1"};function ze(i,t,p,s,j,T){return o(),l(R,null,[e("div",Ie,[t[2]||(t[2]=e("label",{class:"mt-5 uppercase text-md"}," Ticket Overdue Hours Chart",-1)),e("button",{onClick:t[0]||(t[0]=_=>s.getList()),class:"my-2 ml-2 align-right text-center items-center px-3 py-2 bg-indigo-500 border border-transparent rounded-sm font-semibold text-xs text-white uppercase tracking-widest hover:bg-indigo-400 active:bg-indigo-600 focus:outline-none focus:border-gray-900 disabled:opacity-25 transition mr-1"},t[1]||(t[1]=[e("i",{class:"fas fa-sync opacity-75 text-sm"},null,-1)]))]),s.bundle?(o(),l("div",Pe,[t[4]||(t[4]=e("h2",{class:"m-2 uppercase text-md"},null,-1)),e("div",Me,[t[3]||(t[3]=ie('<div class="bg-gray-50 text-center inline-grid grid-cols-4 gap-2rounded-t-lg w-full" data-v-11ba7e6d><div class="px-2 py-3 text-xs font-medium text-gray-500 uppercase tracking-wider col-span-1" data-v-11ba7e6d>Ticket ID</div><div class="px-2 py-3 text-xs font-medium text-gray-500 uppercase tracking-wider col-span-1" data-v-11ba7e6d>SLA Overdue</div><div class="px-2 py-3 text-xs font-medium text-gray-500 uppercase tracking-wider col-span-1" data-v-11ba7e6d>Actual Hrs</div><div class="px-2 py-3 text-xs font-medium text-gray-500 uppercase tracking-wider col-span-1" data-v-11ba7e6d>Based SLA</div></div>',1)),e("div",Ne,[(o(!0),l(R,null,ee(s.bundle,_=>(o(),l("div",{key:_.id,class:"cursor-pointer inline-grid grid-cols-4 gap-2 w-full"},[e("div",{class:"px-2 py-2 whitespace-nowrap col-span-1",onClick:u=>s.doEdit(_)},c(_.code),9,Le),e("div",Be,c(s.getDay(_.over)),1),e("div",Ee,c(s.getDay(_.diff)),1),e("div",Fe,c(_.percentage),1)]))),128))])])])):r("",!0)],64)}const We=Z(Re,[["render",ze],["__scopeId","data-v-11ba7e6d"]]),He={name:"IncidentDetail",emits:["loading"],emits:["selected_id"],components:{Multiselect:ne},props:{errors:Object,data:Object,parentform:Object},setup(i,t){const p=P("noc"),s=P("team"),j=P("user"),T=P("incidents"),_=P("customers"),u=P("townships"),D=P("packages"),f=P("parent_form");let h=C(),k=C(!1),A=C(!1),g=C(null);const m=re({id:null,code:null,priority:"normal",customer_id:null,incharge_id:s.filter(y=>y.id==j.id)[0],type:"default",topic:null,status:1,start_date:null,end_date:null,new_address:null,new_township:null,latitude:null,longitude:null,package_id:null,description:null,date:null,time:null,close_date:null,close_time:null,resolved_date:null,resolved_time:null});function a(){g.value=null,k.value=!1,m.id="",m.code="",m.priority="normal",m.customer_id="",m.incharge_id=s.filter(y=>y.id==j.id)[0],m.type="default",m.topic="",m.status=1,m.start_date="",m.end_date="",m.new_address="",m.new_township="",m.latitude="",m.longitude="",m.package_id="",m.description="",m.date="",m.time="",m.close_date="",m.close_time="",m.resolved_date="",m.resolved_time=""}function M(){k.value!=!0?(m._method="POST",B.post("/incident",m,{preserveState:!0,onSuccess:y=>{g.value=y.props.response.id;let V=T.data.filter(E=>E.id==g.value)[0];k.value=!0,t.emit("selected_id",g.value),t.emit("loading",!1),V!==void 0&&(console.log("response is : "+V),W(V)),Toast.fire({icon:"success",title:y.props.flash.message})},onError:y=>{t.emit("loading",!1),console.log("error ..")},onStart:y=>{t.emit("loading",!0)}})):(m._method="PUT",B.post("/incident/"+m.id,m,{onSuccess:y=>{Toast.fire({icon:"success",title:y.props.flash.message}),t.emit("loading",!1)},onError:y=>{t.emit("loading",!1),console.log("error .."+y)},onStart:y=>{t.emit("loading",!0)}}))}function W(y){let V=null;g.value=y.id,k.value=!0,y.location!=null&&(V=y.location.split(",",2),m.latitude=V[0],m.longitude=V[1]),m.id=y.id,m.code=y.code,m.priority=y.priority,m.customer_id=_.filter(E=>E.id==y.customer_id)[0],m.incharge_id=p.filter(E=>E.id==y.incharge_id)[0],m.type=y.type,m.topic=y.topic,m.status=y.status,m.start_date=y.start_date,m.end_date=y.end_date,m.new_address=y.new_address,m.new_township=u.filter(E=>E.id==y.new_township)[0],m.package_id=D.filter(E=>E.id==y.package_id)[0],m.description=y.description,m.date=y.date,m.time=y.time,m.close_date=y.close_date,m.close_time=y.close_time,m.resolved_date=y.resolved_date,m.resolved_time=y.resolved_time}function G(y){k.value=!0,m.priority=y.priority}function Q(y){let V="Open";return y==1?V="Open":y==2?V="Escalated":y==3?V="Closed":y==4?V="Deleted":y==5&&(V="Resolved"),V}function K(y){confirm("Are you sure want to remove?")&&(m._method="PUT",m.status=4,B.post("/incident/"+m.id,m,{onSuccess:V=>{Toast.fire({icon:"success",title:V.props.flash.message})},onError:V=>{console.log("error .."+V)}}))}const H=async()=>{let y="/getIncident/"+i.data;console.log(y);try{return t.emit("loading",!0),await(await fetch(y)).json()}catch(V){t.emit("loading",!1),console.error(V)}},n=()=>{H().then(y=>{h.value=y})};return $(()=>{console.log("Incident Detail - onMounted"),i.data&&(g.value=i.data,H().then(y=>{t.emit("loading",!1),y!==void 0?(console.log("appending response"),W(y),console.log("show parent form"),console.log(f),f&&G(f)):console.log("not appending response")})),D.map(function(y){return y.item_data=`${y.speed} Mbps - ${y.name} - ${y.contract_period} Months`})}),ce(()=>{console.log("Incident Detail - onUpdated"),D.map(function(y){return y.item_data=`${y.speed} Mbps - ${y.name} - ${y.contract_period} Months`})}),{loading:A,getIncident:H,calculate:n,deleteIncident:K,doSubmit:M,getStatus:Q,form:m,clearform:a,customers:_,team:s,townships:u,packages:D,openForm:G,editMode:k,edit:W}}},qe={class:"grid grid-cols-5 gap-2"},Ye={class:"py-2 col-span-2 sm:col-span-2"},Ge={class:"mt-1 flex rounded-md shadow-sm"},Ke={key:0,class:"mt-2 text-sm text-red-500"},Qe={class:"py-2 col-span-2 sm:col-span-2"},Je={class:"mt-1 flex rounded-md shadow-sm"},Xe={key:0,class:"mt-2 text-sm text-red-500"},Ze={class:"py-2 col-span-4 sm:col-span-4"},$e={key:0,class:"mt-1 flex rounded-md shadow-sm"},et={key:1,class:"mt-2 text-sm text-red-500"},tt={class:"py-2 col-span-4 sm:col-span-4"},st={key:0,class:"mt-1 flex rounded-md shadow-sm"},ot={key:1,class:"mt-2 text-sm text-red-500"},lt={class:"py-2 col-span-4 sm:col-span-4"},it={class:"mt-1 flex"},rt={key:0,class:"mt-2 text-sm text-red-500"},nt={key:0,class:"py-2 col-span-1 sm:col-span-1"},at={key:1,class:"py-2 col-span-4 sm:col-span-4"},dt={class:"mt-1 flex"},ct={key:0,class:"mt-2 text-sm text-red-500"},mt={class:"py-2 col-span-4 sm:col-span-4"},ut={class:"mt-1 flex"},pt={key:0,class:"mt-2 text-sm text-red-500"},ft={key:2,class:"py-2 col-span-1 sm:col-span-1"},gt={key:3,class:"py-2 col-span-2 sm:col-span-2"},yt={class:"mt-1 flex rounded-md shadow-sm"},bt={key:0,class:"mt-2 text-sm text-red-500"},xt={key:4,class:"py-2 col-span-2 sm:col-span-2"},_t={class:"mt-1 flex rounded-md shadow-sm"},vt={key:0,class:"mt-2 text-sm text-red-500"},wt={key:5,class:"py-2 col-span-1 sm:col-span-1"},kt={key:6,class:"py-2 col-span-2 sm:col-span-2"},ht={class:"mt-1 flex rounded-md shadow-sm"},Ct={key:0,class:"mt-2 text-sm text-red-500"},St={key:7,class:"py-2 col-span-2 sm:col-span-2"},Tt={class:"mt-1 flex rounded-md shadow-sm"},Vt={key:0,class:"mt-2 text-sm text-red-500"},Dt={key:8,class:"py-2 col-span-1 sm:col-span-1"},Ut={key:9,class:"py-2 col-span-4 sm:col-span-4"},jt={class:"grid grid-cols-2 gap-2"},At={class:"col-span-1 sm:col-span-1"},Ot={class:"mt-1 flex rounded-md shadow-sm"},Rt={key:0,class:"mt-2 text-sm text-red-500"},It={class:"col-span-1 sm:col-span-1"},Pt={class:"mt-1 flex rounded-md shadow-sm"},Mt={key:0,class:"mt-2 text-sm text-red-500"},Nt={key:10,class:"py-2 col-span-1 sm:col-span-1"},Lt={key:11,class:"py-2 col-span-4 sm:col-span-4"},Bt={class:"mt-1 flex rounded-md shadow-sm"},Et={key:0,class:"mt-2 text-sm text-red-500"},Ft={key:12,class:"py-2 col-span-1 sm:col-span-1"},zt={key:13,class:"py-2 col-span-4 sm:col-span-4"},Wt={class:"mt-1 flex rounded-md shadow-sm"},Ht={key:0,class:"mt-2 text-sm text-red-500"},qt={key:14,class:"py-2 col-span-1 sm:col-span-1"},Yt={key:15,class:"py-2 col-span-4 sm:col-span-4"},Gt={class:"mt-1 flex"},Kt={key:0,class:"mt-2 text-sm text-red-500"},Qt={key:16,class:"py-2 col-span-1 sm:col-span-1"},Jt={key:17,class:"py-2 col-span-4 sm:col-span-4"},Xt={key:0,class:"mt-1 flex rounded-md shadow-sm"},Zt={key:1,class:"mt-2 text-sm text-red-500"},$t={key:18,class:"py-2 col-span-1 sm:col-span-1"},es={key:19,class:"py-2 col-span-4 sm:col-span-4"},ts={class:"grid grid-cols-2 gap-2"},ss={class:"col-span-1 sm:col-span-1"},os={class:"mt-1 flex rounded-md shadow-sm"},ls={key:0,class:"mt-2 text-sm text-red-500"},is={class:"col-span-1 sm:col-span-1"},rs={class:"mt-1 flex rounded-md shadow-sm"},ns={key:0,class:"mt-2 text-sm text-red-500"},as={key:20,class:"py-2 col-span-1 sm:col-span-1"},ds={key:21,class:"py-2 col-span-4 sm:col-span-4"},cs={class:"mt-1 flex rounded-md shadow-sm"},ms={key:0,class:"mt-2 text-sm text-red-500"},us={key:22,class:"py-2 col-span-1 sm:col-span-1"},ps={key:23,class:"py-2 col-span-4 sm:col-span-4"},fs={key:0,class:"mt-1 flex rounded-md shadow-sm"},gs={key:1,class:"mt-2 text-sm text-red-500"},ys={key:24,class:"py-2 col-span-1 sm:col-span-1"},bs={key:25,class:"py-2 col-span-4 sm:col-span-4"},xs={class:"mt-1 flex rounded-md shadow-sm"},_s={key:0,class:"mt-2 text-sm text-red-500"},vs={class:"py-2 col-span-4 sm:col-span-4"},ws={class:"mt-1 flex"},ks={key:0,class:"mt-2 text-sm text-red-500"},hs={key:0,class:"fixed top-0 left-0 right-0 bottom-0 w-full h-screen z-50 overflow-hidden bg-gray-700 opacity-75 flex flex-col items-center justify-center"};function Cs(i,t,p,s,j,T){const _=z("multiselect");return o(),l(R,null,[e("div",qe,[t[46]||(t[46]=e("div",{class:"py-2 col-span-1 sm:col-span-1"},[e("div",{class:"mt-1 flex"},[e("label",{for:"date",class:"block text-sm font-medium text-gray-700 mt-2 mr-2"},"Incident Detail : ")])],-1)),e("div",Ye,[e("div",Ge,[x(e("input",{type:"date","onUpdate:modelValue":t[0]||(t[0]=u=>s.form.date=u),name:"date",id:"date",class:"form-input focus:ring-indigo-500 focus:border-indigo-500 flex-1 block w-full rounded-md sm:text-sm border-gray-300"},null,512),[[w,s.form.date]])]),i.$page.props.errors.date?(o(),l("p",Ke,c(i.$page.props.errors.date),1)):r("",!0)]),e("div",Qe,[e("div",Je,[x(e("input",{type:"time","onUpdate:modelValue":t[1]||(t[1]=u=>s.form.time=u),name:"time",class:"form-input focus:ring-indigo-500 focus:border-indigo-500 flex-1 block w-full rounded-md sm:text-sm border-gray-300"},null,512),[[w,s.form.time]])]),i.$page.props.errors.time?(o(),l("p",Xe,c(i.$page.props.errors.time),1)):r("",!0)]),t[47]||(t[47]=e("div",{class:"py-2 col-span-1 sm:col-span-1"},[e("div",{class:"mt-1 flex"},[e("label",{for:"first_name",class:"block text-sm font-medium text-gray-700 mt-2 mr-2"}," User ID : ")])],-1)),e("div",Ze,[s.customers.length!==0?(o(),l("div",$e,[O(_,{"deselect-label":"Selected already",options:s.customers,"track-by":"id",label:"ftth_id",modelValue:s.form.customer_id,"onUpdate:modelValue":t[2]||(t[2]=u=>s.form.customer_id=u),"allow-empty":!1},null,8,["options","modelValue"])])):r("",!0),i.$page.props.errors.customer?(o(),l("p",et,c(i.$page.props.errors.customer),1)):r("",!0)]),t[48]||(t[48]=e("div",{class:"py-2 col-span-1 sm:col-span-1"},[e("div",{class:"mt-1 flex"},[e("label",{for:"incharge",class:"block text-sm font-medium text-gray-700 mt-2 mr-2"}," Person Incharge : ")])],-1)),e("div",tt,[s.team.length!==0?(o(),l("div",st,[O(_,{"deselect-label":"Selected already",options:s.team,"track-by":"id",label:"name",modelValue:s.form.incharge_id,"onUpdate:modelValue":t[3]||(t[3]=u=>s.form.incharge_id=u),"allow-empty":!1,disabled:!0},null,8,["options","modelValue"])])):r("",!0),i.$page.props.errors.incharge?(o(),l("p",ot,c(i.$page.props.errors.incharge),1)):r("",!0)]),t[49]||(t[49]=e("div",{class:"py-2 col-span-1 sm:col-span-1"},[e("div",{class:"mt-1 flex"},[e("label",{for:"type",class:"block text-sm font-medium text-gray-700 mt-2 mr-2"}," Type : ")])],-1)),e("div",lt,[e("div",it,[x(e("select",{"onUpdate:modelValue":t[4]||(t[4]=u=>s.form.type=u),class:"focus:ring-indigo-500 focus:border-indigo-500 flex-1 block w-full rounded-md sm:text-sm border-gray-300",required:""},t[23]||(t[23]=[ie('<option value="default">Please Choose Ticket Type</option><option value="service_complaint">Service Complaint</option><option value="gaming_issue">Gaming Issue</option><option value="relocation">Relocation</option><option value="plan_change">Plan Change</option><option value="information_update">Information Update</option><option value="suspension">Suspension</option><option value="resume">Resume</option><option value="termination">Termination</option>',9)]),512),[[Y,s.form.type]])]),i.$page.props.errors.type?(o(),l("p",rt,c(i.$page.props.errors.type),1)):r("",!0)]),s.form.type=="service_complaint"?(o(),l("div",nt,t[24]||(t[24]=[e("div",{class:"mt-1 flex"},[e("label",{for:"topic",class:"block text-sm font-medium text-gray-700 mt-2 mr-2"}," Topic : ")],-1)]))):r("",!0),s.form.type=="service_complaint"?(o(),l("div",at,[e("div",dt,[x(e("select",{"onUpdate:modelValue":t[5]||(t[5]=u=>s.form.topic=u),class:"focus:ring-indigo-500 focus:border-indigo-500 flex-1 block w-full rounded-md sm:text-sm border-gray-300"},t[25]||(t[25]=[ie('<option value="no_internet">No Internet</option><option value="los_redlight">LOS Redlight</option><option value="slow_performance">Slow Performance</option><option value="wifi_issue">Wifi Issue</option><option value="onu_issue">ONU Issue</option><option value="password_change">Password Changed</option><option value="other">Other</option>',7)]),512),[[Y,s.form.topic]])]),i.$page.props.errors.topic?(o(),l("p",ct,c(i.$page.props.errors.topic),1)):r("",!0)])):r("",!0),t[50]||(t[50]=e("div",{class:"py-2 col-span-1 sm:col-span-1"},[e("div",{class:"mt-1 flex"},[e("label",{for:"first_name",class:"block text-sm font-medium text-gray-700 mt-2 mr-2"}," Status : ")])],-1)),e("div",mt,[e("div",ut,[x(e("select",{"onUpdate:modelValue":t[6]||(t[6]=u=>s.form.status=u),class:"focus:ring-indigo-500 focus:border-indigo-500 flex-1 block w-full rounded-md sm:text-sm border-gray-300"},t[26]||(t[26]=[e("option",{value:"1"},"Open",-1),e("option",{value:"2",disabled:""},"Escalated",-1),e("option",{value:"5",disabled:""},"Resolved",-1),e("option",{value:"3"},"Closed",-1)]),512),[[Y,s.form.status]])]),i.$page.props.errors.status?(o(),l("p",pt,c(i.$page.props.errors.status),1)):r("",!0)]),s.form.status==3?(o(),l("div",ft,t[27]||(t[27]=[e("div",{class:"mt-1 flex"},[e("label",{for:"date",class:"block text-sm font-medium text-gray-700 mt-2 mr-2"}," Incident Close Period : ")],-1)]))):r("",!0),s.form.status==3?(o(),l("div",gt,[e("div",yt,[x(e("input",{type:"date","onUpdate:modelValue":t[7]||(t[7]=u=>s.form.close_date=u),name:"close_date",id:"close_date",class:"form-input focus:ring-indigo-500 focus:border-indigo-500 flex-1 block w-full rounded-md sm:text-sm border-gray-300"},null,512),[[w,s.form.close_date]])]),i.$page.props.errors.close_date?(o(),l("p",bt,c(i.$page.props.errors.close_date),1)):r("",!0)])):r("",!0),s.form.status==3?(o(),l("div",xt,[e("div",_t,[x(e("input",{type:"time","onUpdate:modelValue":t[8]||(t[8]=u=>s.form.close_time=u),name:"close_time",class:"form-input focus:ring-indigo-500 focus:border-indigo-500 flex-1 block w-full rounded-md sm:text-sm border-gray-300"},null,512),[[w,s.form.close_time]])]),i.$page.props.errors.close_time?(o(),l("p",vt,c(i.$page.props.errors.close_time),1)):r("",!0)])):r("",!0),s.form.status==5?(o(),l("div",wt,t[28]||(t[28]=[e("div",{class:"mt-1 flex"},[e("label",{for:"date",class:"block text-sm font-medium text-gray-700 mt-2 mr-2"}," Incident Resolved Period : ")],-1)]))):r("",!0),s.form.status==5?(o(),l("div",kt,[e("div",ht,[x(e("input",{type:"date","onUpdate:modelValue":t[9]||(t[9]=u=>s.form.resolved_date=u),name:"close_date",id:"close_date",class:"form-input focus:ring-indigo-500 focus:border-indigo-500 flex-1 block w-full rounded-md sm:text-sm border-gray-300"},null,512),[[w,s.form.resolved_date]])]),i.$page.props.errors.resolved_date?(o(),l("p",Ct,c(i.$page.props.errors.resolved_date),1)):r("",!0)])):r("",!0),s.form.status==5?(o(),l("div",St,[e("div",Tt,[x(e("input",{type:"time","onUpdate:modelValue":t[10]||(t[10]=u=>s.form.resolved_time=u),name:"close_time",class:"form-input focus:ring-indigo-500 focus:border-indigo-500 flex-1 block w-full rounded-md sm:text-sm border-gray-300"},null,512),[[w,s.form.resolved_time]])]),i.$page.props.errors.resolved_time?(o(),l("p",Vt,c(i.$page.props.errors.resolved_time),1)):r("",!0)])):r("",!0),s.form.type=="suspension"?(o(),l("div",Dt,t[29]||(t[29]=[e("div",{class:"mt-1 flex"},[e("label",{for:"suspense",class:"block text-sm font-medium text-gray-700 mt-2 mr-2"}," Suspense Period : ")],-1)]))):r("",!0),s.form.type=="suspension"?(o(),l("div",Ut,[e("div",jt,[e("div",At,[e("div",Ot,[t[30]||(t[30]=e("span",{class:"-mt-1 z-10 leading-snug font-normal absolute text-center text-gray-300 absolute bg-transparent rounded text-base items-center justify-center w-8 pl-3 py-3"},[e("i",{class:"fas fa-pause"})],-1)),x(e("input",{type:"date","onUpdate:modelValue":t[11]||(t[11]=u=>s.form.start_date=u),name:"start_date",id:"start_date",class:"pl-10 form-input focus:ring-indigo-500 focus:border-indigo-500 flex-1 block w-full rounded-md sm:text-sm border-gray-300"},null,512),[[w,s.form.start_date]])]),i.$page.props.errors.start_date?(o(),l("p",Rt,c(i.$page.props.errors.start_date),1)):r("",!0)]),e("div",It,[e("div",Pt,[t[31]||(t[31]=e("span",{class:"-mt-1 z-10 leading-snug font-normal absolute text-center text-gray-300 absolute bg-transparent rounded text-base items-center justify-center w-8 pl-3 py-3"},[e("i",{class:"fas fa-play"})],-1)),x(e("input",{type:"date","onUpdate:modelValue":t[12]||(t[12]=u=>s.form.end_date=u),name:"end_date",id:"end_date",class:"pl-10 form-input focus:ring-indigo-500 focus:border-indigo-500 flex-1 block w-full rounded-md sm:text-sm border-gray-300"},null,512),[[w,s.form.end_date]])]),i.$page.props.errors.end_date?(o(),l("p",Mt,c(i.$page.props.errors.end_date),1)):r("",!0)])])])):r("",!0),s.form.type=="resume"?(o(),l("div",Nt,t[32]||(t[32]=[e("div",{class:"mt-1 flex"},[e("label",{for:"resume",class:"block text-sm font-medium text-gray-700 mt-2 mr-2"}," Resume Date : ")],-1)]))):r("",!0),s.form.type=="resume"?(o(),l("div",Lt,[e("div",Bt,[t[33]||(t[33]=e("span",{class:"z-10 -mt-1 leading-snug font-normal absolute text-center text-gray-300 absolute bg-transparent rounded text-base items-center justify-center w-8 pl-3 py-3"},[e("i",{class:"fas fa-play"})],-1)),x(e("input",{type:"date","onUpdate:modelValue":t[13]||(t[13]=u=>s.form.start_date=u),name:"start_date",id:"start_date",class:"pl-10 form-input focus:ring-indigo-500 focus:border-indigo-500 flex-1 block w-full rounded-md sm:text-sm border-gray-300"},null,512),[[w,s.form.start_date]])]),i.$page.props.errors.resume?(o(),l("p",Et,c(i.$page.props.errors.start_date),1)):r("",!0)])):r("",!0),s.form.type=="termination"?(o(),l("div",Ft,t[34]||(t[34]=[e("div",{class:"mt-1 flex"},[e("label",{for:"termination",class:"block text-sm font-medium text-gray-700 mt-2 mr-2"}," Termination Date : ")],-1)]))):r("",!0),s.form.type=="termination"?(o(),l("div",zt,[e("div",Wt,[t[35]||(t[35]=e("span",{class:"z-10 -mt-1 leading-snug font-normal absolute text-center text-gray-300 absolute bg-transparent rounded text-base items-center justify-center w-8 pl-3 py-3"},[e("i",{class:"fas fa-stop"})],-1)),x(e("input",{type:"date","onUpdate:modelValue":t[14]||(t[14]=u=>s.form.start_date=u),name:"start_date",id:"start_date",class:"pl-10 form-input focus:ring-indigo-500 focus:border-indigo-500 flex-1 block w-full rounded-md sm:text-sm border-gray-300"},null,512),[[w,s.form.start_date]])]),i.$page.props.errors.start_date?(o(),l("p",Ht,c(i.$page.props.errors.start_date),1)):r("",!0)])):r("",!0),s.form.type=="relocation"?(o(),l("div",qt,t[36]||(t[36]=[e("div",{class:"mt-1 flex"},[e("label",{for:"new_address",class:"block text-sm font-medium text-gray-700 mt-2 mr-2"}," New Address : ")],-1)]))):r("",!0),s.form.type=="relocation"?(o(),l("div",Yt,[e("div",Gt,[x(e("textarea",{"onUpdate:modelValue":t[15]||(t[15]=u=>s.form.new_address=u),name:"new_address",id:"new_address",class:"focus:ring-indigo-500 focus:border-indigo-500 flex-1 block w-full rounded-md sm:text-sm border-gray-300"}," ",512),[[w,s.form.new_address]])]),i.$page.props.errors.new_address?(o(),l("p",Kt,c(i.$page.props.errors.new_address),1)):r("",!0)])):r("",!0),s.form.type=="relocation"?(o(),l("div",Qt,t[37]||(t[37]=[e("div",{class:"mt-1 flex"},[e("label",{for:"new_address",class:"block text-sm font-medium text-gray-700 mt-2 mr-2"}," New Township : ")],-1)]))):r("",!0),s.form.type=="relocation"?(o(),l("div",Jt,[s.townships.length!==0?(o(),l("div",Xt,[O(_,{"deselect-label":"Selected already",options:s.townships,"track-by":"id",label:"name",modelValue:s.form.new_township,"onUpdate:modelValue":t[16]||(t[16]=u=>s.form.new_township=u),"allow-empty":!1},null,8,["options","modelValue"])])):r("",!0),i.$page.props.errors.new_township?(o(),l("p",Zt,c(i.$page.props.errors.new_township),1)):r("",!0)])):r("",!0),s.form.type=="relocation"?(o(),l("div",$t,t[38]||(t[38]=[e("div",{class:"mt-1 flex"},[e("label",{for:"new_latlong",class:"block text-sm font-medium text-gray-700 mt-2 mr-2"}," New Location : ")],-1)]))):r("",!0),s.form.type=="relocation"?(o(),l("div",es,[e("div",ts,[e("div",ss,[e("div",os,[t[39]||(t[39]=e("span",{class:"z-10 -mt-1 leading-snug font-normal absolute text-center text-gray-300 absolute bg-transparent rounded text-base items-center justify-center w-8 pl-3 py-3"},[e("i",{class:"fas fa-location-arrow"})],-1)),x(e("input",{type:"text","onUpdate:modelValue":t[17]||(t[17]=u=>s.form.latitude=u),name:"latitude",id:"latitude",class:"pl-10 form-input focus:ring-indigo-500 focus:border-indigo-500 flex-1 block w-full rounded-md sm:text-sm border-gray-300",placeholder:"Latitude"},null,512),[[w,s.form.latitude]])]),i.$page.props.errors.latitude?(o(),l("p",ls,c(i.$page.props.errors.latitude),1)):r("",!0)]),e("div",is,[e("div",rs,[t[40]||(t[40]=e("span",{class:"z-10 -mt-1 leading-snug font-normal absolute text-center text-gray-300 absolute bg-transparent rounded text-base items-center justify-center w-8 pl-3 py-3"},[e("i",{class:"fas fa-location-arrow"})],-1)),x(e("input",{type:"text","onUpdate:modelValue":t[18]||(t[18]=u=>s.form.longitude=u),name:"longitude",id:"longitude",class:"pl-10 form-input focus:ring-indigo-500 focus:border-indigo-500 flex-1 block w-full rounded-md sm:text-sm border-gray-300",placeholder:"Longitude"},null,512),[[w,s.form.longitude]])]),i.$page.props.errors.longitude?(o(),l("p",ns,c(i.$page.props.errors.longitude),1)):r("",!0)])])])):r("",!0),s.form.type=="relocation"?(o(),l("div",as,t[41]||(t[41]=[e("div",{class:"mt-1 flex"},[e("label",{for:"new_address",class:"block text-sm font-medium text-gray-700 mt-2 mr-2"}," Effective Date : ")],-1)]))):r("",!0),s.form.type=="relocation"?(o(),l("div",ds,[e("div",cs,[t[42]||(t[42]=e("span",{class:"z-10 -mt-1 leading-snug font-normal absolute text-center text-gray-300 absolute bg-transparent rounded text-base items-center justify-center w-8 pl-3 py-3"},[e("i",{class:"fas fa-truck"})],-1)),x(e("input",{type:"date","onUpdate:modelValue":t[19]||(t[19]=u=>s.form.start_date=u),name:"start_date",id:"start_date",class:"pl-10 form-input focus:ring-indigo-500 focus:border-indigo-500 flex-1 block w-full rounded-md sm:text-sm border-gray-300"},null,512),[[w,s.form.start_date]])]),i.$page.props.errors.start_date?(o(),l("p",ms,c(i.$page.props.errors.start_date),1)):r("",!0)])):r("",!0),s.form.type=="plan_change"?(o(),l("div",us,t[43]||(t[43]=[e("div",{class:"mt-1 flex"},[e("label",{for:"new_package",class:"block text-sm font-medium text-gray-700 mt-2 mr-2"}," New Package: ")],-1)]))):r("",!0),s.form.type=="plan_change"?(o(),l("div",ps,[s.packages.length!==0?(o(),l("div",fs,[O(_,{"deselect-label":"Selected already",options:s.packages,"track-by":"id",label:"item_data",modelValue:s.form.package_id,"onUpdate:modelValue":t[20]||(t[20]=u=>s.form.package_id=u),"allow-empty":!1},null,8,["options","modelValue"])])):r("",!0),i.$page.props.errors.package?(o(),l("p",gs,c(i.$page.props.errors.package),1)):r("",!0)])):r("",!0),s.form.type=="plan_change"?(o(),l("div",ys,t[44]||(t[44]=[e("div",{class:"mt-1 flex"},[e("label",{for:"new_address",class:"block text-sm font-medium text-gray-700 mt-2 mr-2"}," Effective Date : ")],-1)]))):r("",!0),s.form.type=="plan_change"?(o(),l("div",bs,[e("div",xs,[t[45]||(t[45]=e("span",{class:"z-10 -mt-1 leading-snug font-normal absolute text-center text-gray-300 absolute bg-transparent rounded text-base items-center justify-center w-8 pl-3 py-3"},[e("i",{class:"fas fa-random"})],-1)),x(e("input",{type:"date","onUpdate:modelValue":t[21]||(t[21]=u=>s.form.start_date=u),name:"start_date",id:"start_date",class:"pl-10 form-input focus:ring-indigo-500 focus:border-indigo-500 flex-1 block w-full rounded-md sm:text-sm border-gray-300"},null,512),[[w,s.form.start_date]])]),i.$page.props.errors.start_date?(o(),l("p",_s,c(i.$page.props.errors.start_date),1)):r("",!0)])):r("",!0),t[51]||(t[51]=e("div",{class:"py-2 col-span-1 sm:col-span-1"},[e("div",{class:"mt-1 flex"},[e("label",{for:"detail",class:"block text-sm font-medium text-gray-700 mt-2 mr-2"}," Detail : ")])],-1)),e("div",vs,[e("div",ws,[x(e("textarea",{"onUpdate:modelValue":t[22]||(t[22]=u=>s.form.description=u),name:"detail",id:"detail",class:"focus:ring-indigo-500 focus:border-indigo-500 flex-1 block w-full rounded-md sm:text-sm border-gray-300"}," ",512),[[w,s.form.description]])]),i.$page.props.errors.description?(o(),l("p",ks,c(i.$page.props.errors.description),1)):r("",!0)])]),s.loading?(o(),l("div",hs,t[52]||(t[52]=[e("div",{class:"loader ease-linear rounded-full border-4 border-t-4 border-gray-200 h-12 w-12 mb-4"},null,-1),e("h2",{class:"text-center text-white text-xl font-semibold"},"Loading...",-1),e("p",{class:"w-1/3 text-center text-white"},"This may take a few seconds, please don't close this page.",-1)]))):r("",!0)],64)}const Ss=Z(He,[["render",Cs]]),Ts={name:"Task",components:{Multiselect:ne},props:["data","errors"],setup(i){const t=P("noc"),p=P("subcons"),s=P("write_permission"),j=P("read_permission"),T=P("task_write"),_=P("pendingRootCause");P("subRootCause");const u=C({});let D=C([]),f=C(),h=C(!1),k=C(!1),A=C(!1);const g=re({id:null,assigned:null,target:null,status:1,description:null,comment:null,incident_id:null,root_causes:null,sub_root_causes:null,root_causes_id:null,sub_root_causes_id:null,complete_date:null});function m(){k.value=!0,g.incident_id=i.data}function a(){g.id=null,g.assigned=null,g.target=null,g.status=1,g.description=null,g.comment=null,g.incident_id=i.data,g.root_causes=null,g.sub_root_causes=null,g.root_causes_id=null,g.sub_root_causes_id=null,g.complete_date=null}function M(b){console.log(b),g.id=b.id,g.assigned=p.filter(S=>S.id==b.assigned)[0],g.description=b.description,g.incident_id=b.incident_id,g.status=b.status,g.target=b.target,g.comment=b.comment,g.root_causes=b.root_causes_id?_.filter(S=>S.id==b.root_causes_id)[0]:null,g.sub_root_causes="",g.root_causes_id=b.root_causes_id,g.sub_root_causes_id=b.sub_root_causes_id,g.complete_date=b.complete_date,A.value=!0,k.value=!0}function W(b){Toast.fire({title:"Are you sure?",text:"Once deleted, you will not be able to recover this data !",icon:"warning",timer:!1,position:"center",showCancelButton:!0,dangerMode:!0}).then(S=>{S.isConfirmed?G(b):Toast.fire("Your data is safe!")})}function G(b){g.id=b.id,g.assigned=p.filter(S=>S.id==b.assigned)[0],g.description=b.description,g.incident_id=b.incident_id,g.status=0,g.target=b.target,A.value=!0,k.value=!1,H()}function Q(b){b.status!=2?Toast.fire({title:"Are you sure?",text:"Do you want to mark as completed !",icon:"warning",timer:!1,position:"center",showCancelButton:!0,dangerMode:!0}).then(S=>{S.isConfirmed&&K(b,2)}):Toast.fire({title:"Are you sure?",text:"Do you want to mark as WIP !",icon:"warning",timer:!1,position:"center",showCancelButton:!0,dangerMode:!0}).then(S=>{S.isConfirmed&&K(b,1)})}function K(b,S){g.id=b.id,g.assigned=b.assigned,g.description=b.description,g.incident_id=b.incident_id,g.status=S,g.target=b.target,A.value=!0,k.value=!1,H()}function H(){A.value!=!0?(g._method="POST",B.post("/addTask",g,{preserveState:!0,onSuccess:b=>{k.value=!1,a(),te(),Toast.fire({icon:"success",title:b.props.flash.message})},onError:b=>{console.log("error ..",b)}})):(g._method="PUT",B.post("/editTask/"+g.id,g,{onSuccess:b=>{k.value=!1,A.value=!1,a(),te(),Toast.fire({icon:"success",title:b.props.flash.message}),closeModal()},onError:b=>{u.value=b,console.log("error ..",b)}}))}function n(){k.value=!1,preserveState=!0}const y=async()=>{let b="/getTask/"+i.data;console.log(b);try{return await(await fetch(b)).json()}catch(S){console.error(S)}},V=b=>{let S=p.filter(J=>J.id==b)[0];return S?S.name:""};function E(b){let S="WIP";return b==0?S="Deleted":b==1?S="WIP":b==2?S="Completed":b==3&&(S="Pending"),S}const te=()=>{y().then(b=>{f.value=b})};function se(b){var J;D.value=[];let S=_.filter(oe=>oe.id==b.id);D.value=(J=S[0])==null?void 0:J.sub_root_causes,g.sub_root_causes_id&&(g.sub_root_causes=D.value.filter(oe=>oe.id==g.sub_root_causes_id)[0],g.sub_root_causes||(g.sub_root_causes_id=null))}return me(()=>g.root_causes,b=>{b&&se(b)}),$(()=>{console.log(f.value),te()}),{loading:h,task_list:f,edit:k,editMode:A,newTask:m,saveTask:H,cancelTask:n,getName:V,getStatus:E,editTask:M,deleteTask:W,completeTask:Q,form:g,noc:t,subcons:p,write_permission:s,read_permission:j,task_write:T,pendingRootCause:_,subRCA:D,formErrors:u}}},Vs={class:"flex w-full justify-end"},Ds={key:0},Us={key:1},js={key:0,"wire:loading":"",class:"w-full flex flex-col items-center justify-center"},As={key:1},Os={class:"min-w-full divide-y divide-gray-200"},Rs={class:"bg-white text-sm scrollbar-thin scrollbar-thumb-gray-400 scrollbar-track-white text-left"},Is={class:"px-6 py-3 whitespace-nowrap"},Ps={class:"px-6 py-3 whitespace-nowrap"},Ms={class:"px-6 py-3 whitespace-nowrap"},Ns={class:"px-6 py-3 whitespace-nowrap"},Ls={class:"px-6 py-3 whitespace-nowrap"},Bs={class:"px-6 py-3 whitespace-nowrap"},Es={key:0,class:"px-6 py-3 whitespace-nowrap"},Fs=["onClick"],zs={key:0},Ws=["onClick"],Hs={key:1,class:"px-6 py-3 whitespace-nowrap"},qs=["onClick"],Ys={key:2},Gs={class:"grid grid-cols-1 md:grid-cols-4 gap-2 w-full"},Ks={class:"py-2 col-span-3 sm:col-span-3"},Qs={class:"flex rounded-md shadow-sm"},Js={key:0,class:"flex rounded-md shadow-sm w-full"},Xs={key:1,class:"mt-2 text-sm text-red-500"},Zs={class:"py-2 col-span-3 sm:col-span-3"},$s={class:"flex rounded-md shadow-sm"},eo={key:0,class:"mt-2 text-sm text-red-500"},to={class:"py-2 col-span-3 sm:col-span-3"},so={class:"flex rounded-md shadow-sm"},oo={key:0,class:"mt-2 text-sm text-red-500"},lo={class:"py-2 col-span-3 sm:col-span-3"},io={class:"flex rounded-md shadow-sm"},ro={class:"flex gap-4"},no={class:"inline-flex items-center"},ao={class:"inline-flex items-center"},co={class:"inline-flex items-center"},mo={class:"inline-flex items-center"},uo={key:0,class:"mt-2 text-sm text-red-500"},po={class:"py-2 col-span-3 sm:col-span-3"},fo={class:"flex rounded-md shadow-sm"},go={key:0,class:"mt-2 text-sm text-red-500"},yo={class:"py-2 col-span-3 sm:col-span-3"},bo={key:0,class:"flex rounded-md shadow-sm w-full"},xo={key:1,class:"mt-2 text-sm text-red-500"},_o={class:"py-2 col-span-3 sm:col-span-3"},vo={key:0,class:"flex rounded-md shadow-sm w-full"},wo={key:1,class:"mt-2 text-sm text-red-500"},ko={class:"py-2 col-span-3 sm:col-span-3"},ho={class:"flex rounded-md shadow-sm"},Co={key:0,class:"mt-2 text-sm text-red-500"};function So(i,t,p,s,j,T){var u,D;const _=z("multiselect");return o(),l(R,null,[e("div",Vs,[!s.edit&&s.write_permission==1&&s.task_write==1?(o(),l("a",{key:0,href:"#",onClick:t[0]||(t[0]=f=>s.newTask()),class:"-mt-2 mb-2 text-center items-center px-4 py-3 bg-indigo-500 border border-transparent rounded-sm font-semibold text-xs text-white uppercase tracking-widest hover:bg-indigo-400 active:bg-indigo-600 focus:outline-none focus:border-gray-900 disabled:opacity-25 transition mr-1"},t[16]||(t[16]=[I("Add Task"),e("i",{class:"fas fa-plus-circle opacity-75 lg:ml-1 text-sm"},null,-1)]))):r("",!0),s.edit&&s.write_permission==1&&s.task_write==1?(o(),l("a",{key:1,href:"#",onClick:t[1]||(t[1]=f=>s.saveTask()),class:"-mt-2 mb-2 text-center items-center px-4 py-3 bg-green-500 border border-transparent rounded-sm font-semibold text-xs text-white uppercase tracking-widest hover:bg-green-400 active:bg-green-600 focus:outline-none focus:border-gray-900 disabled:opacity-25 transition mr-1"},[s.editMode?r("",!0):(o(),l("span",Ds,"Save Task")),s.editMode?(o(),l("span",Us,"Update Task")):r("",!0),t[17]||(t[17]=e("i",{class:"fas fa-save opacity-75 lg:ml-1 text-sm"},null,-1))])):r("",!0),s.edit?(o(),l("a",{key:2,href:"#",onClick:t[2]||(t[2]=f=>s.cancelTask()),class:"-mt-2 mb-2 text-center items-center px-4 py-3 bg-gray-500 border border-transparent rounded-sm font-semibold text-xs text-white uppercase tracking-widest hover:bg-gray-400 active:bg-gray-600 focus:outline-none focus:border-gray-900 disabled:opacity-25 transition mr-1"},t[18]||(t[18]=[I("Cancel"),e("i",{class:"fas fa-save opacity-75 lg:ml-1 text-sm"},null,-1)]))):r("",!0)]),s.task_list?r("",!0):(o(),l("div",js,t[19]||(t[19]=[e("div",{class:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-purple-500"},null,-1),e("h2",{class:"text-center text-gray-600 text-sm font-semibold mt-2"},"Loading...",-1)]))),s.task_list&&!s.edit?(o(),l("div",As,[e("table",Os,[t[25]||(t[25]=e("thead",{class:"bg-gray-50 text-xs"},[e("tr",null,[e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"No. "),e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"}," Instruction"),e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"}," Assigned"),e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"}," Target"),e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"}," Complete At"),e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"}," Status"),e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"}," Action")])],-1)),e("tbody",Rs,[(o(!0),l(R,null,ee(s.task_list,(f,h)=>(o(),l("tr",{key:f.id},[e("td",Is,c(h+1),1),e("td",Ps,c(f.description.length>50?f.description.substring(0,50)+" ...":f.description),1),e("td",Ms,c(s.getName(f.assigned)),1),e("td",Ns,c(f.target),1),e("td",Ls,c(f.complete_date??"N/A"),1),e("td",Bs,c(s.getStatus(f.status)),1),s.write_permission==1?(o(),l("td",Es,[e("a",{href:"#",onClick:k=>s.editTask(f),class:"text-blue-600"},t[20]||(t[20]=[e("i",{class:"fa fa-edit"},null,-1)]),8,Fs),t[23]||(t[23]=I()),s.task_write?(o(),l("span",zs,[t[22]||(t[22]=I(" | ")),e("a",{href:"#",onClick:k=>s.deleteTask(f),class:"text-red-600"},t[21]||(t[21]=[e("i",{class:"fa fa-trash"},null,-1)]),8,Ws)])):r("",!0)])):(o(),l("td",Hs,[e("a",{href:"#",onClick:k=>s.editTask(f),class:"text-blue-600"},t[24]||(t[24]=[e("i",{class:"fa fa-eye"},null,-1)]),8,qs)]))]))),128))])])])):r("",!0),s.edit?(o(),l("div",Ys,[e("div",Gs,[t[33]||(t[33]=e("div",{class:"py-2 col-span-1 sm:col-span-1"},[e("div",{class:"flex"},[e("label",{for:"assigned",class:"block text-sm font-medium text-gray-700 mt-2 mr-2"}," Assigned : ")])],-1)),e("div",Ks,[e("div",Qs,[s.subcons.length!==0?(o(),l("div",Js,[O(_,{"deselect-label":"Selected already",options:s.subcons,"track-by":"id",label:"name",modelValue:s.form.assigned,"onUpdate:modelValue":t[3]||(t[3]=f=>s.form.assigned=f),"allow-empty":!1,multiple:!1},null,8,["options","modelValue"])])):r("",!0),i.$page.props.errors.assigned?(o(),l("p",Xs,c(i.$page.props.errors.assigned),1)):r("",!0)])]),t[34]||(t[34]=e("div",{class:"py-2 col-span-1 sm:col-span-1"},[e("div",{class:"flex"},[e("label",{for:"target",class:"block text-sm font-medium text-gray-700 mt-2 mr-2"}," Target : ")])],-1)),e("div",Zs,[e("div",$s,[x(e("input",{type:"date","onUpdate:modelValue":t[4]||(t[4]=f=>s.form.target=f),name:"target",id:"target",class:"form-input focus:ring-indigo-500 focus:border-indigo-500 flex-1 block w-full rounded-md sm:text-sm border-gray-300"},null,512),[[w,s.form.target]])]),i.$page.props.errors.target?(o(),l("p",eo,c(i.$page.props.errors.target),1)):r("",!0)]),t[35]||(t[35]=e("div",{class:"py-2 col-span-1 sm:col-span-1"},[e("div",{class:"flex"},[e("label",{for:"description",class:"block text-sm font-medium text-gray-700 mt-2 mr-2"}," Instruction : ")])],-1)),e("div",to,[e("div",so,[x(e("textarea",{"onUpdate:modelValue":t[5]||(t[5]=f=>s.form.description=f),name:"description",id:"description",class:"form-input focus:ring-indigo-500 focus:border-indigo-500 flex-1 block w-full rounded-md sm:text-sm border-gray-300"},null,512),[[w,s.form.description]])]),i.$page.props.errors.description?(o(),l("p",oo,c(i.$page.props.errors.description),1)):r("",!0)]),t[36]||(t[36]=e("div",{class:"py-2 col-span-1 sm:col-span-1"},[e("div",{class:"flex"},[e("label",{for:"status",class:"block text-sm font-medium text-gray-700 mt-2 mr-2"}," Status : ")])],-1)),e("div",lo,[e("div",io,[e("div",ro,[e("label",no,[x(e("input",{type:"radio","onUpdate:modelValue":t[6]||(t[6]=f=>s.form.status=f),value:"1",class:"form-radio text-yellow-500"},null,512),[[X,s.form.status]]),t[26]||(t[26]=e("span",{class:"ml-2"},"WIP",-1))]),e("label",ao,[x(e("input",{type:"radio","onUpdate:modelValue":t[7]||(t[7]=f=>s.form.status=f),value:"3",class:"form-radio text-red-500"},null,512),[[X,s.form.status]]),t[27]||(t[27]=e("span",{class:"ml-2"},"Pending",-1))]),e("label",co,[x(e("input",{type:"radio","onUpdate:modelValue":t[8]||(t[8]=f=>s.form.status=f),value:"2",class:"form-radio text-green-500"},null,512),[[X,s.form.status]]),t[28]||(t[28]=e("span",{class:"ml-2"},"Completed",-1))]),e("label",mo,[x(e("input",{type:"radio","onUpdate:modelValue":t[9]||(t[9]=f=>s.form.status=f),value:"0",class:"form-radio text-indigo-500"},null,512),[[X,s.form.status]]),t[29]||(t[29]=e("span",{class:"ml-2"},"Deleted",-1))])])]),i.$page.props.errors.status?(o(),l("p",uo,c(i.$page.props.errors.status),1)):r("",!0)]),s.form.status==2?(o(),l(R,{key:0},[t[30]||(t[30]=e("div",{class:"py-2 col-span-1 sm:col-span-1"},[e("div",{class:"flex"},[e("label",{for:"complete_date",class:"block text-sm font-medium text-gray-700 mt-2 mr-2"}," Complete Date : ")])],-1)),e("div",po,[e("div",fo,[x(e("input",{type:"date","onUpdate:modelValue":t[10]||(t[10]=f=>s.form.complete_date=f),name:"complete_date",id:"complete_date",class:"form-input focus:ring-indigo-500 focus:border-indigo-500 flex-1 block w-full rounded-md sm:text-sm border-gray-300"},null,512),[[w,s.form.complete_date]])]),i.$page.props.errors.complete_date?(o(),l("p",go,c(i.$page.props.errors.complete_date),1)):r("",!0)])],64)):r("",!0),s.form.status==3?(o(),l(R,{key:1},[t[31]||(t[31]=e("div",{class:"py-2 col-span-1 sm:col-span-1"},[e("div",{class:"flex"},[e("label",{for:"root_causes_id",class:"block text-sm font-medium text-gray-700 mt-2 mr-2"}," Root Cause for Pending : ")])],-1)),e("div",yo,[((u=s.pendingRootCause)==null?void 0:u.length)!==0?(o(),l("div",bo,[O(_,{"deselect-label":"Selected already",options:s.pendingRootCause,"track-by":"id",label:"name",modelValue:s.form.root_causes,"onUpdate:modelValue":[t[11]||(t[11]=f=>s.form.root_causes=f),t[12]||(t[12]=f=>s.form.root_causes_id=f==null?void 0:f.id)],"allow-empty":!1,multiple:!1},null,8,["options","modelValue"])])):r("",!0),i.$page.props.errors.root_causes_id?(o(),l("p",xo,c(i.$page.props.errors.root_causes_id),1)):r("",!0)]),t[32]||(t[32]=e("div",{class:"py-2 col-span-1 sm:col-span-1"},[e("div",{class:"flex"},[e("label",{for:"sub_root_causes",class:"block text-sm font-medium text-gray-700 mt-2 mr-2"},"Sub Root Cause : ")])],-1)),e("div",_o,[((D=s.subRCA)==null?void 0:D.length)!==0?(o(),l("div",vo,[O(_,{"deselect-label":"Selected already",options:s.subRCA,"track-by":"id",label:"name",modelValue:s.form.sub_root_causes,"onUpdate:modelValue":[t[13]||(t[13]=f=>s.form.sub_root_causes=f),t[14]||(t[14]=f=>s.form.sub_root_causes_id=f==null?void 0:f.id)],"allow-empty":!1,multiple:!1},null,8,["options","modelValue"])])):r("",!0),i.$page.props.errors.sub_root_causes_id?(o(),l("p",wo,c(i.$page.props.errors.sub_root_causes_id),1)):r("",!0)])],64)):r("",!0),t[37]||(t[37]=e("div",{class:"py-2 col-span-1 sm:col-span-1"},[e("div",{class:"flex"},[e("label",{for:"comment",class:"block text-sm font-medium text-gray-700 mt-2 mr-2"}," Comments : ")])],-1)),e("div",ko,[e("div",ho,[x(e("textarea",{"onUpdate:modelValue":t[15]||(t[15]=f=>s.form.comment=f),name:"comment",id:"comment",class:"form-input focus:ring-indigo-500 focus:border-indigo-500 flex-1 block w-full rounded-md sm:text-sm border-gray-300"},null,512),[[w,s.form.comment]])]),i.$page.props.errors.comment?(o(),l("p",Co,c(i.$page.props.errors.comment),1)):r("",!0)])])])):r("",!0)],64)}const To=Z(Ts,[["render",So]]),Vo={name:"Log",props:["data"],setup(i){const t=C(""),p=async()=>{let j="/getLog/"+i.data;try{return await(await fetch(j)).json()}catch(T){console.error(T)}},s=()=>{p().then(j=>{t.value=j})};return $(()=>{s()}),{logs:t}}},Do={key:0,"wire:loading":"",class:"w-full flex flex-col items-center justify-center"},Uo={key:1},jo={class:"min-w-full divide-y divide-gray-200 table-auto"},Ao={class:"bg-white divide-y divide-gray-200 text-sm max-h-64 w-full overflow-auto scrollbar-thin scrollbar-thumb-gray-400 scrollbar-track-white block text-left"},Oo={class:"px-3 py-3 text-xs font-medium whitespace-wrap tracking-wider w-1/12 flex"},Ro={class:"px-3 py-3 text-xs font-medium whitespace-wrap tracking-wider w-1/4 flex-1"},Io={class:"px-3 py-3 text-xs font-medium whitespace-wrap tracking-wider w-1/3 flex-1"},Po={class:"px-3 py-3 text-xs font-medium whitespace-wrap tracking-wider w-full flex-1"};function Mo(i,t,p,s,j,T){return o(),l(R,null,[s.logs?r("",!0):(o(),l("div",Do,t[0]||(t[0]=[e("div",{class:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-purple-500"},null,-1),e("h2",{class:"text-center text-gray-600 text-sm font-semibold mt-2"},"Loading...",-1)]))),s.logs?(o(),l("div",Uo,[e("table",jo,[t[1]||(t[1]=e("thead",{class:"bg-gray-50 w-full flex block table text-left"},[e("tr",null,[e("th",{scope:"col",class:"px-6 py-3 text-xs font-medium text-gray-500 uppercase tracking-wider w-1/12 flex"},"No."),e("th",{scope:"col",class:"px-6 py-3 text-xs font-medium text-gray-500 uppercase tracking-wider w-1/4 flex-1"},"Date"),e("th",{scope:"col",class:"px-6 py-3 text-xs font-medium text-gray-500 uppercase tracking-wider w-1/3 flex-1"},"Actor"),e("th",{scope:"col",class:"px-6 py-3 text-xs font-medium text-gray-500 uppercase tracking-wider w-full flex-1"},"Action")])],-1)),e("tbody",Ao,[(o(!0),l(R,null,ee(s.logs,(_,u)=>(o(),l("tr",{key:_.id,class:"flex"},[e("td",Oo,c(u+1),1),e("td",Ro,c(_.created_at),1),e("td",Io,c(_.name),1),e("td",Po,c(_.action),1)]))),128))])])])):r("",!0)],64)}const No=Z(Vo,[["render",Mo]]),Lo={name:"History",props:["data"],setup(i){const t=C(),p=async()=>{let j="/getHistory/"+i.data;try{return await(await fetch(j)).json()}catch(T){console.error(T)}},s=()=>{p().then(j=>{t.value=j})};return $(()=>{s()}),{logs:t}}},Bo={key:0,"wire:loading":"",class:"w-full flex flex-col items-center justify-center"},Eo={key:1},Fo={class:"min-w-full divide-y divide-gray-200 table-auto"},zo={class:"bg-white divide-y divide-gray-200 text-sm max-h-64 w-full overflow-auto scrollbar-thin scrollbar-thumb-gray-400 scrollbar-track-white block text-left"},Wo={class:"px-3 py-3 text-xs font-medium tracking-wider w-1/7 flex"},Ho={class:"px-3 py-3 text-xs font-medium tracking-wider w-1/7 flex-1"},qo={class:"px-3 py-3 text-xs font-medium tracking-wider w-1/7 flex-1"},Yo={class:"px-3 py-3 text-xs font-medium tracking-wider w-1/7 flex-1"},Go={class:"px-3 py-3 text-xs font-medium tracking-wider w-1/7 flex-1"},Ko={class:"px-3 py-3 text-xs font-medium tracking-wider w-1/7 flex-1"},Qo={class:"px-3 py-3 text-xs font-medium tracking-wider w-1/7 flex-1"};function Jo(i,t,p,s,j,T){return o(),l(R,null,[s.logs?r("",!0):(o(),l("div",Bo,t[0]||(t[0]=[e("div",{class:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-purple-500"},null,-1),e("h2",{class:"text-center text-gray-600 text-sm font-semibold mt-2"},"Loading...",-1)]))),s.logs?(o(),l("div",Eo,[e("table",Fo,[t[1]||(t[1]=e("thead",{class:"bg-gray-50 w-full flex block table text-left"},[e("tr",null,[e("th",{scope:"col",class:"px-6 py-3 text-xs font-medium text-gray-500 uppercase tracking-wider w-1/7 flex"},"No."),e("th",{scope:"col",class:"px-6 py-3 text-xs font-medium text-gray-500 uppercase tracking-wider w-1/7 flex-1"},"Date"),e("th",{scope:"col",class:"px-6 py-3 text-xs font-medium text-gray-500 uppercase tracking-wider w-1/7 flex-1"},"Ticket ID"),e("th",{scope:"col",class:"px-6 py-3 text-xs font-medium text-gray-500 uppercase tracking-wider w-1/7 flex-1"},"Customer ID"),e("th",{scope:"col",class:"px-6 py-3 text-xs font-medium text-gray-500 uppercase tracking-wider w-1/7 flex-1"},"Ticket Type"),e("th",{scope:"col",class:"px-6 py-3 text-xs font-medium text-gray-500 uppercase tracking-wider w-1/7 flex-1"},"Ticket Topic (if exists)"),e("th",{scope:"col",class:"px-6 py-3 text-xs font-medium text-gray-500 uppercase tracking-wider w-1/7 flex-1"},"Opened By")])],-1)),e("tbody",zo,[(o(!0),l(R,null,ee(s.logs,(_,u)=>(o(),l("tr",{key:_.id,class:"flex"},[e("td",Wo,c(u+1),1),e("td",Ho,c(_.date+" "+_.time),1),e("td",qo,c(_.code),1),e("td",Yo,c(_.ftth_id),1),e("td",Go,c(_.type),1),e("td",Ko,c(_.topic?_.topic:"N/A"),1),e("td",Qo,c(_.name),1)]))),128))])])])):r("",!0)],64)}const Xo=Z(Lo,[["render",Jo]]),Zo={name:"File",components:{Upload:je},props:["data"],setup(i){let t=C(!1),p=C();const s=P("write_permission"),j=P("read_permission");let T=C(!1),_=C("");function u(){T.value=!0,_.value={incident_id:i.data}}function D(){T.value=!1,g()}function f(m){Toast.fire({title:"Are you sure?",text:"Once deleted, you will not be able to recover this data !",icon:"warning",timer:!1,position:"center",showCancelButton:!0,dangerMode:!0}).then(a=>{a.isConfirmed?h(m):Toast.fire("Your data is safe!")})}function h(m){m._method="DELETE",B.post("/deleteFile/"+m.id,m,{onSuccess(a){Toast.fire({icon:"success",title:"Your File has been Deleted !"}),g()}})}const k=async()=>{let m="/getFile/"+i.data;console.log(m);try{return await(await fetch(m)).json()}catch(a){console.error(a)}},A=m=>{m&&(T.value=!1,g(),Toast.fire({icon:"success",title:"Successfully Uploaded the File"}))},g=()=>{k().then(m=>{p.value=m})};return $(()=>{g()}),{file_list:p,add:T,deleteFile:f,addFile:u,closeFile:D,checkUpload:A,incident_id:_,write_permission:s,read_permission:j,loading:t}}},$o={class:"flex w-full justify-end"},el={key:0,"wire:loading":"",class:"w-full flex flex-col items-center justify-center"},tl={key:1},sl={class:"min-w-full divide-y divide-gray-200 table-auto"},ol={class:"bg-white divide-y divide-gray-200 text-sm max-h-64 w-full overflow-auto scrollbar-thin scrollbar-thumb-gray-400 scrollbar-track-white block text-left"},ll={class:"px-6 py-3 whitespace-nowrap tracking-wider w-1/12"},il={class:"px-6 py-3 whitespace-nowrap tracking-wider w-full"},rl={key:0,class:"px-6 py-3 whitespace-nowrap tracking-wider text-right w-1/12 mr-4"},nl=["href"],al=["onClick"],dl={key:1,class:"px-6 py-3 whitespace-nowrap tracking-wider text-right w-1/12 mr-4"},cl=["href"],ml={key:2};function ul(i,t,p,s,j,T){const _=z("upload");return o(),l(R,null,[e("div",$o,[!s.add&&s.write_permission==1?(o(),l("a",{key:0,href:"#",onClick:t[0]||(t[0]=u=>s.addFile()),class:"-mt-2 mb-2 text-center items-center px-4 py-3 bg-indigo-500 border border-transparent rounded-sm font-semibold text-xs text-white uppercase tracking-widest hover:bg-indigo-400 active:bg-indigo-600 focus:outline-none focus:border-gray-900 disabled:opacity-25 transition mr-1"},t[2]||(t[2]=[I("Add File"),e("i",{class:"fas fa-plus-circle opacity-75 lg:ml-1 text-sm"},null,-1)]))):r("",!0),s.add?(o(),l("a",{key:1,href:"#",onClick:t[1]||(t[1]=u=>s.closeFile()),class:"-mt-2 mb-2 text-center items-center px-4 py-3 bg-indigo-500 border border-transparent rounded-sm font-semibold text-xs text-white uppercase tracking-widest hover:bg-indigo-400 active:bg-indigo-600 focus:outline-none focus:border-gray-900 disabled:opacity-25 transition mr-1"},t[3]||(t[3]=[I("Close"),e("i",{class:"fas fa-times-circle opacity-75 lg:ml-1 text-sm"},null,-1)]))):r("",!0)]),s.file_list?r("",!0):(o(),l("div",el,t[4]||(t[4]=[e("div",{class:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-purple-500"},null,-1),e("h2",{class:"text-center text-gray-600 text-sm font-semibold mt-2"},"Loading...",-1)]))),s.file_list&&!s.add?(o(),l("div",tl,[e("table",sl,[t[9]||(t[9]=e("thead",{class:"bg-gray-50 w-full flex block table text-left"},[e("tr",null,[e("th",{scope:"col",class:"px-6 py-3 text-xs font-medium text-gray-500 uppercase tracking-wider w-1/12"},"ID"),e("th",{scope:"col",class:"px-6 py-3 text-xs font-medium text-gray-500 uppercase tracking-wider w-full"},"File"),e("th",{scope:"col",class:"px-6 py-3 text-xs font-medium text-gray-500 uppercase tracking-wider w-1/12"}," Action ")])],-1)),e("tbody",ol,[(o(!0),l(R,null,ee(s.file_list,(u,D)=>(o(),l("tr",{key:u.id,class:"flex"},[e("td",ll,c(D+1),1),e("td",il,c(u.name),1),s.write_permission==1?(o(),l("td",rl,[e("a",{href:u.path,target:"_blank"},t[5]||(t[5]=[e("i",{class:"fas fa-eye text-indigo-600"},null,-1)]),8,nl),t[7]||(t[7]=I(" | ")),e("a",{href:"#",onClick:f=>s.deleteFile(u),class:"text-red-600"},t[6]||(t[6]=[e("i",{class:"fa fa-trash"},null,-1)]),8,al)])):(o(),l("td",dl,[e("a",{href:u.path,target:"_blank"},t[8]||(t[8]=[e("i",{class:"fas fa-eye text-indigo-600"},null,-1)]),8,cl)]))]))),128))])])])):r("",!0),s.add?(o(),l("div",ml,[O(_,{data:s.incident_id,onStatus:s.checkUpload},null,8,["data","onStatus"])])):r("",!0)],64)}const pl=Z(Zo,[["render",ul]]),fl={name:"Incident",components:{AppLayout:he,Pagination:Ae,IncidentAlert:We,IncidentDetail:Ss,Multiselect:ne,VueDatePicker:Oe,Task:To,File:pl,Log:No,History:Xo,CustomerDetail:Ce,NoData:Se},props:{incidents:Object,incidents_2:Object,noc:Object,team:Object,townships:Object,customers:Object,packages:Object,critical:Object,high:Object,normal:Object,errors:Object,read_permission:Boolean,write_permission:Boolean,task_write:Boolean,user:Object,subcons:Object,rootCause:Object,subRootCause:Object,pendingRootCause:Object,relocationServices:Object,supervisors:Object,ticketRequest:Object,teamAssign:Object,supervisorAssign:Object,close:Object,suspensionTickets:Object,maintenanceServices:Object},setup(i){const t=C(""),p=C(""),s=C(1);let j=C(!1),T=C(!1),_=C(""),u=C(0),D=C("default"),f=C("default"),h=C([]),k=C([]);const A=C({date:"YYYY-MM-DD",month:"MMM"});let g=C(!1),m=C(!1);F("noc",i.noc),F("subcons",i.subcons),F("team",i.team),F("townships",i.townships),F("user",i.user),F("packages",i.packages),F("read_permission",i.read_permission),F("write_permission",i.write_permission),F("task_write",i.task_write),F("customers",i.customers),F("pendingRootCause",i.pendingRootCause),F("rootCause",i.rootCause),F("subRootCause",i.subRootCause);const a=re({id:null,code:null,edge_code:null,suspension_incident:null,suspension_incident_id:null,priority:null,customer:null,customer_id:null,incharge_id:i.team.filter(d=>d.id==i.user.id)[0],supervisor_id:null,supervisor:null,type:"default",topic:null,status:1,start_date:null,end_date:null,new_address:null,new_township:null,latitude:null,longitude:null,package_id:null,description:null,date:null,time:null,close_date:null,close_time:null,resolved_date:null,resolved_time:null,rca:null,sub_rca:null,root_cause_id:null,sub_root_cause_id:null,rca_notes:null,relocation_service:null,relocation_service_id:null,current_bandwidth:null,current_maintenance_plan:null,new_bandwidth:null,new_maintenance_plan:null,new_maintenance_plan_id:null,partner_id:null,customer_partner_id:null,customer_partner_name:null});let M=C([]),W=C(!0),G=C("");function Q(d){G.value=d}function K(d){if(_.value!=null&&(W.value=d,d==1)){let v=i.incidents.data.filter(N=>N.id==_.value)[0];b(v)}}C([{id:1,name:"Request",$isDisabled:!0},{id:2,name:"Team Assign"},{id:3,name:"Close"},{id:4,name:"Deleted"},{id:5,name:"Resolved Open",$isDisabled:!0},{id:6,name:"Supervisor Assign",$isDisabled:!0},{id:7,name:"Waiting to Suspend"},{id:8,name:"Waiting to Reopen"},{id:9,name:"Waiting To Terminate"},{id:10,name:"Waiting to Plan Change"}]);function H(){return i.user.user_type==="internal"?!1:i.write_permission==!1?!0:a.status==1||a.status==""?(console.log("status is 1 or empty"),!1):!0}function n(){return i.user.user_type=="partner"?(console.log("user type is partner"),!(a.status==10||a.status==5)):i.user.user_type==="internal"||i.user.user_type==="isp"&&(a.status==1||a.status==""||a.status==5)?!1:i.write_permission==!1?!0:a.status==1||a.status==""?(console.log("status is 1 or empty"),!1):!0}function y(){const d=new Date;var v=d.getFullYear()+"-"+(d.getMonth()+1)+"-"+d.getDate(),N=d.getHours()+":"+d.getMinutes();!a.close_date&&u.value!=3&&(a.close_date=v),!a.close_time&&u.value!=3&&(a.close_time=N),W.value=1,g.value=!0}function V(){g.value=!1,_.value=null}function E(){S(),y()}function te(d){let v=i.incidents_2.filter(N=>N.id==d.id)[0];b(v)}const se=C("");function b(d){let v=null;_.value=d.id,T.value=!0,d.location!=null&&(v=d.location.split(",",2),a.latitude=v[0],a.longitude=v[1]),d.maintenance_service_type&&(M.value=i.maintenanceServices.filter(U=>U.service_type==d.maintenance_service_type));let N=i.customers.filter(U=>U.id==d.customer_id)[0];a.id=d.id,a.code=d.code,a.edge_code=d.edge_code,a.suspension_incident=i.suspensionTickets.filter(U=>U.id==d.suspension_incident_id)[0],a.suspension_incident_id=d.suspension_incident_id,a.priority=d.priority,a.customer=i.customers.filter(U=>U.id==d.customer_id)[0],a.customer_id=d.customer_id,a.incharge_id=i.noc.filter(U=>U.id==d.incharge_id)[0],a.type=d.type,a.topic=d.topic,a.status=d.status,a.start_date=d.start_date,a.end_date=d.end_date,a.new_address=d.new_address,a.supervisor=i.supervisors.filter(U=>U.id==d.supervisor_id)[0],a.supervisor_id=d.supervisor_id,a.new_township=i.townships.filter(U=>U.id==d.new_township)[0],a.package_id=i.packages.filter(U=>U.id==d.package_id)[0],a.description=d.description,a.date=d.date,a.time=d.time,a.partner_id=d.partner_id,a.close_date=d.close_date,a.close_time=d.close_time,a.resolved_date=d.resolved_date,a.resolved_time=d.resolved_time,a.rca=i.rootCause.filter(U=>U.id==d.root_cause_id)[0],a.sub_rca="",a.root_cause_id=d.root_cause_id,a.sub_root_cause_id=d.sub_root_cause_id,a.rca_notes=d.rca_notes,a.relocation_service=d.relocation_service_id?i.relocationServices.find(U=>U.id==d.relocation_service_id):null,a.relocation_service_id=d.relocation_service_id,a.current_bandwidth=N.bandwidth,a.current_maintenance_plan=d.maintenance_service_name,a.new_bandwidth=d.new_bandwidth,a.new_maintenance_plan=i.maintenanceServices.filter(U=>U.id==d.new_maintenance_service_id)[0],a.new_maintenance_plan_id=d.new_maintenance_service_id,a.customer_partner_id=d.customer_partner_id,a.customer_partner_name=d.customer_partner_name,console.log("maintenance service id : "+d.new_maintenance_service_id),y()}function S(){_.value=null,T.value=!1,a.id="",a.code="",a.edge_code="",a.suspension_incident="",a.suspension_incident_id="",a.priority="normal",a.customer="",a.customer_id="",a.incharge_id=i.team.filter(d=>d.id==i.user.id)[0],a.type="default",a.topic="",a.status=1,a.start_date="",a.end_date="",a.new_address="",a.new_township="",a.latitude="",a.longitude="",a.package_id="",a.description="",a.date="",a.time="",a.close_date="",a.close_time="",a.resolved_date="",a.resolved_time="",a.rca="",a.sub_rca="",a.rca_notes="",a.root_cause_id=null,a.sub_root_cause_id=null,a.relocation_service="",a.relocation_service_id=null,a.partner_id=null,a.supervisor=null,a.supervisor_id=null}function J(d){d!=null?(a.current_bandwidth=a.customer.bandwidth,a.current_maintenance_plan=a.customer.maintenance_service_name,console.log("updateCustomer : "+a.customer.maintenance_service_type),M.value=i.maintenanceServices.filter(v=>v.service_type==a.customer.maintenance_service_type)):(a.current_bandwidth=null,a.current_maintenance_plan=null)}function oe(d){let v="Request";return d==1?v="Request":d==2?v="Team Assign":d==3?v="Closed":d==4?v="Deleted":d==5?v="Resolved Open":d==6?v="Supervisor Assign":d==7?v="Waiting to Suspend":d==8?v="Waiting to Reopen":d==9?v="Waiting to Terminate":d==10&&(v="Waiting to Plan Change"),v}function ue(d){confirm("Are you sure want to remove?")&&(a._method="PUT",a.status=4,B.post("/incident/"+a.id,a,{onSuccess:v=>{s.value+=1,Toast.fire({icon:"success",title:v.props.flash.message}),V()},onError:v=>{console.log("error ..".errors)}}))}const pe=()=>{let d="/incident/";u.value!=null&&(d=d+"?status="+u.value),B.get(d,{keyword:t.value},{preserveState:!0})},fe=d=>{if(console.log("changeType : "+d),d=="plan_change"){const v=new Date,N=6.5*60,U=v.getTime()+v.getTimezoneOffset()*6e4,de=new Date(U+N*6e4),ke=new Date(de.getFullYear(),de.getMonth()+1,2).toISOString().split("T")[0];se.value=ke,a.start_date=se.value}},ge=()=>{let d="/incident/";t.value!=null&&(d=d+"?keyword="+t.value),D.value!="default"&&(d=d+"&type="+D.value),f.value!="default"&&(d=d+"&member="+f.value),h.value!=""&&(d=d+"&date="+h.value),B.get(d,{status:u.value},{preserveState:!0})};function ye(d){console.log("clickStatus : "+d);let v="/incident/";t.value!=null&&(v=v+"?keyword="+t.value),d!=null&&(v=v+"&status="+d),D.value!="default"&&(v=v+"&type="+D.value),f.value!="default"&&(v=v+"&member="+f.value),h.value!=""&&(v=v+"&date="+h.value),B.get(v,{status:d},{preserveState:!1})}const be=d=>{let v="/incident";d!="all"?B.get(v,{priority:d},{preserveState:!0}):B.get(v,{},{preserveState:!0})},xe=d=>{let v="/incident/?";p.value=d,p.order=p.order!=="asc"?"asc":"desc";let N=_e();B.get(v+N,{sort:p.value,order:p.order},{preserveState:!0})},_e=()=>{let d="";return t.value!=null&&(d="&keyword="+t.value),D.value!="default"&&(d+="&type="+D.value),f.value!="default"&&(d+="&member="+f.value),u.value!=null&&(d+="&status="+u.value),h.value!=""&&(d+="&date="+h.value),d};function ae(){i.incidents.data.map(function(d){d.priority=="high"?d.color=d.status!=3&&d.status!=4?"yellow-600":"gray-200":d.priority=="critical"?d.color=d.status!=3&&d.status!=4?"red-600":"gray-200":d.color=d.status!=3&&d.status!=4?"yellow-300":"gray-200"})}function ve(){T.value!=!0?(a._method="POST",B.post("/incident",a,{preserveState:!0,onSuccess:d=>{_.value=d.props.response.id;let v=i.incidents.data.filter(N=>N.id==_.value)[0];T.value=!0,m.value=!1,v!==void 0&&(console.log("response is : "+v),b(v)),Toast.fire({icon:"success",title:d.props.flash.message}),V()},onError:d=>{m.value=!1,console.log("error ..")},onStart:d=>{m.value=!0}})):(a._method="PUT",B.post("/incident/"+a.id,a,{onSuccess:d=>{Toast.fire({icon:"success",title:d.props.flash.message}),m.value=!1,V()},onError:d=>{m.value=!1,console.log("error .."+d)},onStart:d=>{m.value=!0}}))}$(()=>{console.log("Incident - On Mounted"),i.packages.map(function(d){return d.item_data=`${d.name}`}),ae()});function we(d){var N;k.value=[];let v=i.rootCause.filter(U=>U.id==d.id);k.value=(N=v[0])==null?void 0:N.sub_root_causes,a.sub_root_cause_id&&(a.sub_rca=k.value.filter(U=>U.id==a.sub_root_cause_id)[0],a.sub_rca||(a.sub_root_cause_id=null))}return me(()=>a.rca,d=>{d&&we(d)}),ce(()=>{console.log("Incident - On Updated"),i.packages.map(function(d){return d.item_data=`${d.name}`}),ae()}),{loading:m,form:a,openModal:y,closeModal:V,newTicket:E,isOpen:g,deleteIncident:ue,searchIncident:pe,edit:b,sortBy:xe,getStatus:oe,changeStatus:ge,sort:p,search:t,show:j,tabClick:K,tab:W,selection:G,selected_id:_,editMode:T,typeChange:Q,showPriority:be,incidentStatus:u,page_update:s,alert_edit:te,submit:ve,clearform:S,incidentType:D,incidentBy:f,incidentDate:h,formatter:A,subRCA:k,clickStatus:ye,checkDisable:H,updateCustomer:J,filteredMaintenanceServices:M,checkDisableType:n,nextMonthFirstDay:se,changeType:fe}}},gl={class:"py-1"},yl={class:"mx-auto sm:px-6 lg:px-8"},bl={class:"py-2 md:inline-flex justify-between w-full gap-4"},xl={class:"flex w-full"},_l={class:"flex w-full"},vl={class:"flex w-full"},wl={class:"flex w-full self-center"},kl={class:"flex w-full md:w-1/4"},hl={class:"flex w-full md:w-1/2 md:justify-end"},Cl={class:"mt-2 grid grid-cols-1 md:grid-cols-5 gap-6 w-full"},Sl={class:"col-span-2"},Tl={class:"bg-white rounded-lg w-full mx-auto mt-1 shadow-xl divide-y divide-gray-200 py-2 px-2"},Vl={class:"grid grid-cols-4 gap-2"},Dl={class:"col-span-1"},Ul={class:"col-span-1"},jl={class:"col-span-3"},Al={class:"bg-white rounded-lg w-full mx-auto mt-1 shadow-xl divide-y divide-gray-200 py-2 px-2"},Ol={class:"grid grid-cols-5 gap-2"},Rl={class:"col-span-1"},Il={class:"col-span-1"},Pl={class:"col-span-1"},Ml={key:0,class:"w-full"},Nl={key:0,class:"bg-white overflow-auto md:overflow-hidden shadow-xl sm:rounded-lg mt-1"},Ll={class:"min-w-full divide-y divide-gray-200"},Bl={class:"bg-gray-50"},El={class:"bg-white divide-y divide-gray-200 text-sm"},Fl=["onClick"],zl={class:"px-2 py-3 whitespace-nowrap"},Wl={class:"px-2 py-3 whitespace-nowrap"},Hl={class:"px-2 py-3 whitespace-nowrap"},ql={class:"px-2 py-3 whitespace-nowrap"},Yl={class:"px-2 py-3 whitespace-nowrap"},Gl={key:0,class:"px-2 py-3 whitespace-nowrap"},Kl={key:1,class:"px-2 py-3 whitespace-nowrap"},Ql={class:"px-2 py-3 whitespace-nowrap capitalize"},Jl={class:"px-2 py-3 whitespace-nowrap"},Xl={class:"px-2 py-3 whitespace-nowrap"},Zl={key:1,class:"w-full block mt-4"},$l={class:"text-xs text-gray-600"},ei={key:2},ti={key:3,class:"bg-white overflow-hidden shadow-xl sm:rounded-lg mt-1 py-4 flex flex-col items-center"},si={key:1,class:"flex justify-center"},oi={key:0,ref:"isOpen",class:"fixed z-10 inset-0 overflow-y-auto ease-out duration-400"},li={class:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0"},ii={class:"bg-gray-50 rounded-sm pt-1 inline-block align-bottom overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-5xl sm:w-full",role:"dialog","aria-modal":"true","aria-labelledby":"modal-headline"},ri={class:""},ni={class:""},ai={class:"py-2 divide-y divide-yellow-500"},di={class:"mt-1 px-3 flex w-full justify-between"},ci={class:"flex"},mi={class:"flex col-span-1"},ui={class:"px-2 lg:px-3"},pi={class:"px-2 lg:px-3"},fi={class:"px-2 lg:px-3"},gi={class:"bg-white rounded-t-lg w-full mx-auto mt-1 shadow-xl divide-y divide-gray-200"},yi={class:"inline-flex w-full bg-gray-50 rounded-t-lg"},bi={id:"tabs",class:"flex"},xi={id:"tab-contents"},_i={class:"grid grid-cols-5 gap-2"},vi={class:"py-2 col-span-2 sm:col-span-2"},wi={class:"mt-1 flex rounded-md shadow-sm"},ki=["disabled"],hi={key:0,class:"mt-2 text-sm text-red-500"},Ci={class:"py-2 col-span-2 sm:col-span-2"},Si={class:"mt-1 flex rounded-md shadow-sm"},Ti=["disabled"],Vi={key:0,class:"mt-2 text-sm text-red-500"},Di={class:"py-2 col-span-4 sm:col-span-4"},Ui={key:0,class:"mt-1 flex rounded-md shadow-sm"},ji={key:1,class:"mt-2 text-sm text-red-500"},Ai={class:"py-2 col-span-4 sm:col-span-4"},Oi={key:0,class:"mt-1 flex rounded-md shadow-sm"},Ri={key:1,class:"mt-2 text-sm text-red-500"},Ii={class:"py-2 col-span-1 sm:col-span-1"},Pi={class:"mt-1 flex"},Mi={for:"incharge",class:"block text-sm font-medium text-gray-700 mt-2 mr-2"},Ni={key:0},Li={key:1},Bi={key:0,class:"py-2 col-span-4 sm:col-span-4"},Ei={key:0,class:"mt-1 flex rounded-md shadow-sm"},Fi={key:1,class:"mt-2 text-sm text-red-500"},zi={key:1,class:"py-2 col-span-4 sm:col-span-4"},Wi={class:"mt-1 flex rounded-md shadow-sm"},Hi=["value"],qi={key:0,class:"mt-2 text-sm text-red-500"},Yi={class:"py-2 col-span-4 sm:col-span-4"},Gi={class:"mt-1 flex"},Ki=["disabled"],Qi={key:0,class:"mt-2 text-sm text-red-500"},Ji={key:1,class:"py-2 col-span-1 sm:col-span-1"},Xi={key:2,class:"py-2 col-span-4 sm:col-span-4"},Zi={class:"mt-1 flex"},$i=["disabled"],er={key:0,class:"mt-2 text-sm text-red-500"},tr={key:3,class:"py-2 col-span-4 sm:col-span-4"},sr={class:"mt-1 flex"},or=["disabled"],lr={key:0,class:"mt-2 text-sm text-red-500"},ir={key:4,class:"py-2 col-span-4 sm:col-span-4"},rr={class:"mt-1 flex"},nr=["disabled"],ar={key:0,class:"mt-2 text-sm text-red-500"},dr={class:"py-2 col-span-4 sm:col-span-4"},cr={class:"mt-1 flex"},mr=["disabled"],ur=["disabled"],pr=["disabled"],fr=["disabled"],gr={key:0,class:"mt-2 text-sm text-red-500"},yr={key:5,class:"py-2 col-span-1 sm:col-span-1"},br={key:6,class:"py-2 col-span-2 sm:col-span-2"},xr={class:"mt-1 flex rounded-md shadow-sm"},_r=["disabled"],vr={key:0,class:"mt-2 text-sm text-red-500"},wr={key:7,class:"py-2 col-span-2 sm:col-span-2"},kr={class:"mt-1 flex rounded-md shadow-sm"},hr=["disabled"],Cr={key:0,class:"mt-2 text-sm text-red-500"},Sr={key:8,class:"py-2 col-span-1 sm:col-span-1"},Tr={key:9,class:"py-2 col-span-2 sm:col-span-2"},Vr={class:"mt-1 flex rounded-md shadow-sm"},Dr=["disabled"],Ur={key:0,class:"mt-2 text-sm text-red-500"},jr={key:10,class:"py-2 col-span-2 sm:col-span-2"},Ar={class:"mt-1 flex rounded-md shadow-sm"},Or=["disabled"],Rr={key:0,class:"mt-2 text-sm text-red-500"},Ir={key:11,class:"py-2 col-span-1 sm:col-span-1"},Pr={key:12,class:"py-2 col-span-4 sm:col-span-4"},Mr={class:"mt-1 flex rounded-md shadow-sm"},Nr=["disabled"],Lr={key:0,class:"mt-2 text-sm text-red-500"},Br={class:"py-2 col-span-4 sm:col-span-4"},Er={key:0,class:"mt-1 flex rounded-md shadow-sm"},Fr={key:1,class:"mt-2 text-sm text-red-500"},zr={key:0,class:"py-2 col-span-4 sm:col-span-4"},Wr={class:"mt-1 flex rounded-md shadow-sm"},Hr=["disabled"],qr={key:0,class:"mt-2 text-sm text-red-500"},Yr={key:14,class:"py-2 col-span-1 sm:col-span-1"},Gr={key:15,class:"py-2 col-span-4 sm:col-span-4"},Kr={class:"mt-1 flex rounded-md shadow-sm"},Qr=["disabled"],Jr={key:0,class:"mt-2 text-sm text-red-500"},Xr={key:16,class:"py-2 col-span-1 sm:col-span-1"},Zr={key:17,class:"py-2 col-span-4 sm:col-span-4"},$r={class:"mt-1 flex"},en=["disabled"],tn={key:0,class:"mt-2 text-sm text-red-500"},sn={key:18,class:"py-2 col-span-1 sm:col-span-1"},on={key:19,class:"py-2 col-span-4 sm:col-span-4"},ln={key:0,class:"mt-1 flex rounded-md shadow-sm"},rn={key:1,class:"mt-2 text-sm text-red-500"},nn={key:20,class:"py-2 col-span-1 sm:col-span-1"},an={key:21,class:"py-2 col-span-4 sm:col-span-4"},dn={class:"grid grid-cols-2 gap-2"},cn={class:"col-span-1 sm:col-span-1"},mn={class:"mt-1 flex rounded-md shadow-sm"},un=["disabled"],pn={key:0,class:"mt-2 text-sm text-red-500"},fn={class:"col-span-1 sm:col-span-1"},gn={class:"mt-1 flex rounded-md shadow-sm"},yn=["disabled"],bn={key:0,class:"mt-2 text-sm text-red-500"},xn={key:22,class:"py-2 col-span-1 sm:col-span-1"},_n={key:23,class:"py-2 col-span-4 sm:col-span-4"},vn={class:"mt-1 flex rounded-md shadow-sm"},wn=["disabled"],kn={key:0,class:"mt-2 text-sm text-red-500"},hn={key:24,class:"py-2 col-span-1 sm:col-span-1"},Cn={key:25,class:"py-2 col-span-4 sm:col-span-4"},Sn={class:"mt-1 flex rounded-md shadow-sm"},Tn={key:0,class:"mt-2 text-sm text-red-500"},Vn={class:"py-2 col-span-4 sm:col-span-4"},Dn={class:"mt-1 flex rounded-md shadow-sm"},Un={key:0,class:"mt-2 text-sm text-red-500"},jn={class:"py-2 col-span-4 sm:col-span-4"},An={class:"mt-1 flex rounded-md shadow-sm"},On={key:0,class:"mt-2 text-sm text-red-500"},Rn={class:"py-2 col-span-4 sm:col-span-4"},In={class:"mt-1 flex rounded-md shadow-sm"},Pn=["disabled"],Mn={key:0,class:"mt-2 text-sm text-red-500"},Nn={class:"py-2 col-span-4 sm:col-span-4"},Ln={key:0,class:"mt-1 flex rounded-md shadow-sm"},Bn={key:1,class:"mt-2 text-sm text-red-500"},En={key:27,class:"py-2 col-span-1 sm:col-span-1"},Fn={key:28,class:"py-2 col-span-4 sm:col-span-4"},zn={class:"mt-1 flex rounded-md shadow-sm"},Wn=["min","max","disabled"],Hn={key:0,class:"mt-2 text-sm text-red-500"},qn={class:"py-2 col-span-4 sm:col-span-4"},Yn={class:"mt-1 flex"},Gn=["disabled"],Kn={key:0,class:"mt-2 text-sm text-red-500"},Qn={class:"py-2 col-span-4 sm:col-span-4"},Jn={key:0,class:"mt-1 flex rounded-md shadow-sm"},Xn={key:1,class:"mt-2 text-sm text-red-500"},Zn={class:"py-2 col-span-4 sm:col-span-4"},$n={key:0,class:"mt-1 flex rounded-md shadow-sm"},ea={key:1,class:"mt-2 text-sm text-red-500"},ta={class:"py-2 col-span-4 sm:col-span-4"},sa={class:"mt-1 flex"},oa=["disabled"],la={key:0,class:"mt-2 text-sm text-red-500"},ia={key:0,class:"flex"},ra={key:0},na={key:1},aa={class:"flex"},da={key:1,class:"fixed top-0 left-0 right-0 bottom-0 w-full h-screen z-50 overflow-hidden bg-gray-700 opacity-75 flex flex-col items-center justify-center"};function ca(i,t,p,s,j,T){const _=z("VueDatePicker"),u=z("pagination"),D=z("no-data"),f=z("multiselect"),h=z("task"),k=z("file"),A=z("customer-detail"),g=z("log"),m=z("history"),a=z("app-layout");return o(),q(a,null,{default:Ve(()=>{var M,W,G,Q,K,H;return[e("div",gl,[e("div",yl,[e("div",bl,[e("div",xl,[t[85]||(t[85]=e("span",{class:"z-10 font-normal text-gray-400 absolute selection:rounded text-base items-center justify-center self-center p-2"},[e("i",{class:"fas fa-search"})],-1)),x(e("input",{type:"text",placeholder:"Ticket/Customer",class:"relative self-center block w-full pr-12 py-2 rounded-md text-gray-400 text-sm border-gray-300 focus:ring focus:ring-indigo-500 focus:border-indigo-500 focus:ring-opacity-10 focus:outline-none pl-10",id:"search",tabindex:"1","onUpdate:modelValue":t[0]||(t[0]=n=>s.search=n),onKeyup:t[1]||(t[1]=De((...n)=>s.searchIncident&&s.searchIncident(...n),["enter"]))},null,544),[[w,s.search]])]),e("div",_l,[t[87]||(t[87]=e("span",{class:"z-10 font-normal text-gray-400 absolute bg-transparent rounded text-base items-center justify-center self-center p-2"},[e("i",{class:"fas fa-sliders-h"})],-1)),x(e("select",{"onUpdate:modelValue":t[2]||(t[2]=n=>s.incidentType=n),class:"relative self-center block w-full pr-12 py-2 rounded-md text-gray-400 text-sm border-gray-300 focus:ring focus:ring-indigo-500 focus:border-indigo-500 focus:ring-opacity-10 focus:outline-none pl-10",tabindex:"3",onChange:t[3]||(t[3]=(...n)=>s.changeStatus&&s.changeStatus(...n))},t[86]||(t[86]=[e("option",{value:"default"},"All Ticket",-1),e("option",{value:"service_complaint"},"Service Complaint",-1),e("option",{value:"plan_change"},"Plan Change",-1),e("option",{value:"suspension"},"Suspension",-1),e("option",{value:"resume"},"Reopen",-1),e("option",{value:"termination"},"Termination",-1)]),544),[[Y,s.incidentType]])]),e("div",vl,[t[89]||(t[89]=e("span",{class:"z-10 font-normal text-gray-400 absolute bg-transparent rounded text-base items-center justify-center self-center p-2"},[e("i",{class:"fas fa-sliders-h"})],-1)),x(e("select",{"onUpdate:modelValue":t[4]||(t[4]=n=>s.incidentStatus=n),class:"relative self-center block w-full pr-12 py-2 rounded-md text-gray-400 text-sm border-gray-300 focus:ring focus:ring-indigo-500 focus:border-indigo-500 focus:ring-opacity-10 focus:outline-none pl-10",tabindex:"5",onChange:t[5]||(t[5]=(...n)=>s.changeStatus&&s.changeStatus(...n))},t[88]||(t[88]=[e("option",{value:"0"},"All Status",-1),e("option",{value:"1"},"Request",-1),e("option",{value:"6"},"Supervisor Assign",-1),e("option",{value:"2"},"Team Assign",-1),e("option",{value:"5"},"Resolved Open",-1),e("option",{value:"3"},"Closed",-1),e("option",{value:"4"},"Deleted",-1)]),544),[[Y,s.incidentStatus]])]),e("div",wl,[O(_,{modelValue:s.incidentDate,"onUpdate:modelValue":t[6]||(t[6]=n=>s.incidentDate=n),range:{partialRange:!0},placeholder:"Ticket Date","enable-time-picker":!1,"model-type":"yyyy-MM-dd",id:"order_date",class:"text-gray-400 text-sm focus:ring focus:ring-indigo-500 focus:border-indigo-500 focus:ring-opacity-10 focus:outline-none"},null,8,["modelValue"])]),e("div",kl,[e("button",{onClick:t[7]||(t[7]=(...n)=>s.changeStatus&&s.changeStatus(...n)),class:"text-center self-center w-full mt-2 md:w-auto md:mt-0 items-center px-4 py-3 bg-indigo-500 border border-transparent rounded-sm font-semibold text-xs text-white uppercase tracking-widest hover:bg-indigo-400 active:bg-indigo-600 focus:border-litepie-primary-300 focus:ring focus:ring-litepie-primary-500 focus:ring-opacity-10 focus:outline-none disabled:opacity-25 transition mr-1"},t[90]||(t[90]=[e("i",{class:"fas fa-search opacity-75 lg:ml-1 text-sm"},null,-1)]))]),e("div",hl,[p.write_permission?(o(),l("button",{key:0,onClick:t[8]||(t[8]=n=>s.newTicket()),class:"text-center self-center w-full mt-2 md:w-auto md:mt-0 items-center px-4 py-3 bg-indigo-500 border border-transparent rounded-sm font-semibold text-xs text-white uppercase tracking-widest hover:bg-indigo-400 active:bg-indigo-600 focus:border-litepie-primary-300 focus:ring focus:ring-litepie-primary-500 focus:ring-opacity-10 focus:outline-none disabled:opacity-25 transition mr-1",tabindex:"7"},t[91]||(t[91]=[I("Ticket"),e("i",{class:"fas fa-plus-circle opacity-75 lg:ml-1 text-sm"},null,-1)]))):r("",!0)])]),e("div",Cl,[e("div",Sl,[e("div",Tl,[e("div",Vl,[e("div",Dl,[t[92]||(t[92]=e("label",{class:"block text-sm font-normal text-center"},"Critical",-1)),e("button",{class:"block py-2 px-2 w-full bg-red-500 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-red-400 active:bg-red-600 focus:border-red-300 focus:ring focus:ring-red-500 focus:ring-opacity-10 focus:outline-none disabled:opacity-25 transition",onClick:t[9]||(t[9]=n=>s.showPriority("critical"))},c(p.critical),1)]),e("div",{class:"col-span-1",onClick:t[11]||(t[11]=n=>s.showPriority("high"))},[t[93]||(t[93]=e("label",{class:"block text-sm font-normal text-center"},"High",-1)),e("button",{class:"block py-2 px-2 w-full bg-yellow-600 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-yellow-500 active:bg-yellow-700 focus:border-yellow-300 focus:ring focus:ring-yellow-500 focus:ring-opacity-10 focus:outline-none disabled:opacity-25 transition",onClick:t[10]||(t[10]=n=>s.showPriority("high"))},c(p.high),1)]),e("div",{class:"col-span-1",onClick:t[13]||(t[13]=n=>s.showPriority("normal"))},[t[94]||(t[94]=e("label",{class:"block text-sm font-normal text-center"},"Normal",-1)),e("button",{class:"block py-2 px-2 w-full bg-yellow-400 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-yellow-300 active:bg-yellow-500 focus:border-yellow-300 focus:ring focus:ring-yellow-500 focus:ring-opacity-10 focus:outline-none disabled:opacity-25 transition",onClick:t[12]||(t[12]=n=>s.showPriority("normal"))},c(p.normal),1)]),e("div",Ul,[t[95]||(t[95]=e("label",{class:"block text-sm font-normal text-center"},"All",-1)),e("button",{class:"block py-2 px-2 w-full bg-indigo-500 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-indigo-400 active:bg-indigo-600 focus:border-indigo-300 focus:ring focus:ring-indigo-500 focus:ring-opacity-10 focus:outline-none disabled:opacity-25 transition",onClick:t[14]||(t[14]=n=>s.showPriority("all"))},c(p.critical+p.high+p.normal),1)])])])]),e("div",jl,[e("div",Al,[e("div",Ol,[e("div",Rl,[t[96]||(t[96]=e("label",{class:"block text-sm font-normal text-center"},"Ticket Request",-1)),e("button",{class:"block py-2 px-2 w-full bg-green-600 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-green-500 active:bg-green-700 focus:border-green-300 focus:ring focus:ring-green-500 focus:ring-opacity-10 focus:outline-none disabled:opacity-25 transition",onClick:t[15]||(t[15]=n=>s.clickStatus(1))},c(p.ticketRequest),1)]),e("div",{class:"col-span-1",onClick:t[17]||(t[17]=n=>s.clickStatus("6"))},[t[97]||(t[97]=e("label",{class:"block text-sm font-normal text-center"},"Supervisor Assign",-1)),e("button",{class:"block py-2 px-2 w-full bg-green-600 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-green-500 active:bg-green-700 focus:border-green-300 focus:ring focus:ring-green-500 focus:ring-opacity-10 focus:outline-none disabled:opacity-25 transition",onClick:t[16]||(t[16]=n=>s.clickStatus("6"))},c(p.supervisorAssign),1)]),e("div",{class:"col-span-1",onClick:t[19]||(t[19]=n=>s.clickStatus("2"))},[t[98]||(t[98]=e("label",{class:"block text-sm font-normal text-center"},"Team Assign",-1)),e("button",{class:"block py-2 px-2 w-full bg-green-600 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-green-500 active:bg-green-700 focus:border-green-300 focus:ring focus:ring-green-500 focus:ring-opacity-10 focus:outline-none disabled:opacity-25 transition",onClick:t[18]||(t[18]=n=>s.clickStatus("2"))},c(p.teamAssign),1)]),e("div",Il,[t[99]||(t[99]=e("label",{class:"block text-sm font-normal text-center"},"Close",-1)),e("button",{class:"block py-2 px-2 w-full bg-green-600 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-green-500 active:bg-green-700 focus:border-green-300 focus:ring focus:ring-green-500 focus:ring-opacity-10 focus:outline-none disabled:opacity-25 transition",onClick:t[20]||(t[20]=n=>s.clickStatus("3"))},c(p.close),1)]),e("div",Pl,[t[100]||(t[100]=e("label",{class:"block text-sm font-normal text-center"},"All",-1)),e("button",{class:"block py-2 px-2 w-full bg-green-600 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-green-500 active:bg-green-700 focus:border-green-300 focus:ring focus:ring-green-500 focus:ring-opacity-10 focus:outline-none disabled:opacity-25 transition",onClick:t[21]||(t[21]=n=>s.clickStatus(""))},c(p.ticketRequest+p.teamAssign+p.supervisorAssign+p.close),1)])])])])]),p.write_permission||p.read_permission?(o(),l("div",Ml,[p.incidents.data?(o(),l("div",Nl,[e("table",Ll,[e("thead",Bl,[e("tr",null,[t[108]||(t[108]=e("th",{scope:"col",class:"px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},null,-1)),t[109]||(t[109]=e("th",{scope:"col",class:"px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"No.",-1)),e("th",{scope:"col",class:"px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer",onClick:t[22]||(t[22]=n=>s.sortBy("date"))},t[101]||(t[101]=[I("Open Date "),e("i",{class:"fas fa-sort text-gray-400"},null,-1)])),e("th",{scope:"col",class:"px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer",onClick:t[23]||(t[23]=n=>s.sortBy("code"))},t[102]||(t[102]=[I("Customer Ticket "),e("i",{class:"fas fa-sort text-gray-400"},null,-1)])),e("th",{scope:"col",class:"px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer",onClick:t[24]||(t[24]=n=>s.sortBy("edge_code"))},t[103]||(t[103]=[I("EDGE Ticket "),e("i",{class:"fas fa-sort text-gray-400"},null,-1)])),e("th",{scope:"col",class:"px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer",onClick:t[25]||(t[25]=n=>s.sortBy("ftth_id"))},t[104]||(t[104]=[I("User "),e("i",{class:"fas fa-sort text-gray-400"},null,-1)])),e("th",{scope:"col",class:"px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer",onClick:t[26]||(t[26]=n=>s.sortBy("township_id"))},t[105]||(t[105]=[I("TSP "),e("i",{class:"fas fa-sort text-gray-400"},null,-1)])),e("th",{scope:"col",class:"px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer",onClick:t[27]||(t[27]=n=>s.sortBy("type"))},t[106]||(t[106]=[I("Type "),e("i",{class:"fas fa-sort text-gray-400"},null,-1)])),e("th",{scope:"col",class:"px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer",onClick:t[28]||(t[28]=n=>s.sortBy("incharge"))},t[107]||(t[107]=[I("Created "),e("i",{class:"fas fa-sort text-gray-400"},null,-1)])),t[110]||(t[110]=e("th",{scope:"col",class:"px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Status",-1))])]),e("tbody",El,[(o(!0),l(R,null,ee(p.incidents.data,(n,y)=>(o(),l("tr",{key:n.id,class:L([[n.id==s.selected_id?"bg-indigo-200":""],"cursor-pointer"]),onClick:V=>s.edit(n)},[e("td",zl,[e("i",{class:L("fa fa-circle text-"+n.color)},null,2)]),e("td",Wl,c(y+=p.incidents.from),1),e("td",Hl,c(n.date)+" "+c(n.time),1),e("td",ql,c(n.code),1),e("td",Yl,c(n.edge_code),1),n.ftth_id?(o(),l("td",Gl,c(n.ftth_id),1)):r("",!0),n.township_short?(o(),l("td",Kl,c(n.township_short),1)):r("",!0),e("td",Ql,c(n.type.replace("_"," ")),1),e("td",Jl,c(n.incharge.match(/\b\w/g).join("")),1),e("td",Xl,c(s.getStatus(n.status)),1)],10,Fl))),128))])])])):r("",!0),p.incidents.total?(o(),l("span",Zl,[e("label",$l,c(p.incidents.data.length)+" Tickets in Current Page. Total Number of Tickets : "+c(p.incidents.total),1)])):r("",!0),p.incidents.links?(o(),l("span",ei,[O(u,{class:"mt-4",links:p.incidents.links},null,8,["links"])])):r("",!0),p.incidents.data?r("",!0):(o(),l("div",ti,[O(D)]))])):(o(),l("div",si,t[111]||(t[111]=[e("span",{class:"px-20 py-10 center bg-white inline-flex"},[e("i",{class:"fa fas fa-exclamation-triangle fa-2x text-yellow-600 mr-2"}),e("label",{class:"font-bold mt-2 text-sm"}," You Don't Have Permission To Access This Page")],-1)])))])]),s.isOpen?(o(),l("div",oi,[e("div",li,[t[166]||(t[166]=e("div",{class:"fixed inset-0 transition-opacity"},[e("div",{class:"absolute inset-0 bg-gray-500 opacity-75"})],-1)),t[167]||(t[167]=I(" ​ ")),e("div",ii,[e("div",ri,[e("div",ni,[e("div",ai,[e("div",di,[t[117]||(t[117]=e("div",{class:"flex"},[e("h2",{class:"font-semibold text-xl text-gray-800 leading-tight mt-2"},"Ticket Detail")],-1)),e("div",ci,[t[115]||(t[115]=e("span",{class:"border-0 px-3 py-3 placeholder-gray-300 text-gray-600 relative bg-white rounded-l-md text-sm shadow outline-none focus:outline-none"}," Customer Ticket ID ",-1)),x(e("input",{type:"text","onUpdate:modelValue":t[29]||(t[29]=n=>s.form.code=n),name:"code",id:"code",class:"mr-2 border-0 px-3 py-3 placeholder-gray-300 text-gray-600 relative bg-white rounded-r-md text-sm shadow outline-none focus:outline-none",disabled:""},null,512),[[w,s.form.code]]),t[116]||(t[116]=e("span",{class:"border-0 px-3 py-3 placeholder-gray-300 text-gray-600 relative bg-white rounded-l-md text-sm shadow outline-none focus:outline-none"}," EDGE Ticket ID ",-1)),x(e("input",{type:"text","onUpdate:modelValue":t[30]||(t[30]=n=>s.form.edge_code=n),name:"edge_code",id:"edge_code",class:"mr-2 border-0 px-3 py-3 placeholder-gray-300 text-gray-600 relative bg-white rounded-r-md text-sm shadow outline-none focus:outline-none",disabled:""},null,512),[[w,s.form.edge_code]]),e("ul",mi,[e("li",ui,[t[112]||(t[112]=e("label",{class:"block text-sm"},"Critical",-1)),x(e("input",{"onUpdate:modelValue":t[31]||(t[31]=n=>s.form.priority=n),name:"priority",value:"critical",type:"radio",class:"form-radio h-5 w-5 text-red-600 bg-red-600",title:"(1-4hrs)"},null,512),[[X,s.form.priority]])]),e("li",pi,[t[113]||(t[113]=e("label",{class:"block text-sm"},"High",-1)),x(e("input",{"onUpdate:modelValue":t[32]||(t[32]=n=>s.form.priority=n),name:"priority",value:"high",type:"radio",class:"form-radio h-5 w-5 text-yellow-600 bg-yellow-600",title:"(1-12hrs)"},null,512),[[X,s.form.priority]])]),e("li",fi,[t[114]||(t[114]=e("label",{class:"block text-sm"},"Normal",-1)),x(e("input",{"onUpdate:modelValue":t[33]||(t[33]=n=>s.form.priority=n),name:"priority",value:"normal",type:"radio",class:"form-radio h-5 w-5 text-yellow-300 bg-yellow-300",title:"(1-48hrs)"},null,512),[[X,s.form.priority]])])])])])]),e("div",gi,[e("div",yi,[e("ul",bi,[e("li",{class:L(["px-2 lg:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",[s.tab==1?"border-b-2 border-indigo-400 -mb-px":"opacity-50"]])},[e("a",{href:"#",onClick:t[34]||(t[34]=n=>s.tabClick(1)),"preserve-state":""},"Genaral")],2),s.checkDisable()==!1?(o(),l("li",{key:0,class:L(["px-2 lg:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",[s.tab==2?"border-b-2 border-indigo-400 -mb-px":"opacity-50"]])},[e("a",{href:"#",onClick:t[35]||(t[35]=n=>s.tabClick(2)),"preserve-state":""},"Tasks")],2)):r("",!0),e("li",{class:L(["px-2 lg:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",[s.tab==3?"border-b-2 border-indigo-400 -mb-px":"opacity-50"]])},[e("a",{href:"#",onClick:t[36]||(t[36]=n=>s.tabClick(3)),"preserve-state":""},"Files")],2),e("li",{class:L(["px-2 lg:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",[s.tab==4?"border-b-2 border-indigo-400 -mb-px":"opacity-50"]])},[e("a",{href:"#",onClick:t[37]||(t[37]=n=>s.tabClick(4)),"preserve-state":""},"Customer Info")],2),e("li",{class:L(["px-2 lg:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",[s.tab==5?"border-b-2 border-indigo-400 -mb-px":"opacity-50"]])},[e("a",{href:"#",onClick:t[38]||(t[38]=n=>s.tabClick(5)),"preserve-state":""},"LOGS")],2),e("li",{class:L(["px-2 lg:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",[s.tab==6?"border-b-2 border-indigo-400 -mb-px":"opacity-50"]])},[e("a",{href:"#",onClick:t[39]||(t[39]=n=>s.tabClick(6)),"preserve-state":""},"History")],2)])]),e("div",xi,[e("div",{class:L(["p-4",[s.tab==1?"":"hidden"]])},[e("div",_i,[t[157]||(t[157]=e("div",{class:"py-2 col-span-1 sm:col-span-1"},[e("div",{class:"mt-1 flex"},[e("label",{for:"date",class:"block text-sm font-medium text-gray-700 mt-2 mr-2"},"Incident Detail : ")])],-1)),e("div",vi,[e("div",wi,[x(e("input",{type:"date","onUpdate:modelValue":t[40]||(t[40]=n=>s.form.date=n),name:"date",id:"date",class:"form-input focus:ring-indigo-500 focus:border-indigo-500 flex-1 block w-full rounded-md sm:text-sm border-gray-300",disabled:s.checkDisable()},null,8,ki),[[w,s.form.date]])]),i.$page.props.errors.date?(o(),l("p",hi,c(i.$page.props.errors.date),1)):r("",!0)]),e("div",Ci,[e("div",Si,[x(e("input",{type:"time","onUpdate:modelValue":t[41]||(t[41]=n=>s.form.time=n),name:"time",class:"form-input focus:ring-indigo-500 focus:border-indigo-500 flex-1 block w-full rounded-md sm:text-sm border-gray-300",disabled:s.checkDisable()},null,8,Ti),[[w,s.form.time]])]),i.$page.props.errors.time?(o(),l("p",Vi,c(i.$page.props.errors.time),1)):r("",!0)]),t[158]||(t[158]=e("div",{class:"py-2 col-span-1 sm:col-span-1"},[e("div",{class:"mt-1 flex"},[e("label",{for:"first_name",class:"block text-sm font-medium text-gray-700 mt-2 mr-2"}," User ID : ")])],-1)),e("div",Di,[p.customers.length!==0?(o(),l("div",Ui,[O(f,{"deselect-label":"Selected already",options:p.customers,"track-by":"id",label:"ftth_id",modelValue:s.form.customer,"onUpdate:modelValue":[t[42]||(t[42]=n=>s.form.customer=n),t[43]||(t[43]=n=>{s.form.customer_id=n==null?void 0:n.id,s.updateCustomer(n==null?void 0:n.id)})],"allow-empty":!1,disabled:s.checkDisable()},null,8,["options","modelValue","disabled"])])):r("",!0),i.$page.props.errors.customer?(o(),l("p",ji,c(i.$page.props.errors.customer),1)):r("",!0)]),t[159]||(t[159]=e("div",{class:"py-2 col-span-1 sm:col-span-1"},[e("div",{class:"mt-1 flex"},[e("label",{for:"incharge",class:"block text-sm font-medium text-gray-700 mt-2 mr-2"}," Person Incharge : ")])],-1)),e("div",Ai,[p.team.length!==0?(o(),l("div",Oi,[O(f,{"deselect-label":"Selected already",options:p.team,"track-by":"id",label:"name",modelValue:s.form.incharge_id,"onUpdate:modelValue":t[44]||(t[44]=n=>s.form.incharge_id=n),"allow-empty":!1,disabled:!0},null,8,["options","modelValue"])])):r("",!0),i.$page.props.errors.incharge?(o(),l("p",Ri,c(i.$page.props.errors.incharge),1)):r("",!0)]),(M=p.user.role)!=null&&M.incident_oss?(o(),l(R,{key:0},[e("div",Ii,[e("div",Pi,[e("label",Mi,[s.form.type!="plan_change"?(o(),l("span",Ni,"Assign Supervisor : ")):(o(),l("span",Li,"Assign Team : "))])])]),s.form.type!="plan_change"?(o(),l("div",Bi,[((W=p.supervisors)==null?void 0:W.length)!==0?(o(),l("div",Ei,[O(f,{"deselect-label":"Selected already",options:p.supervisors,"track-by":"id",label:"name",modelValue:s.form.supervisor,"onUpdate:modelValue":[t[45]||(t[45]=n=>s.form.supervisor=n),t[46]||(t[46]=n=>s.form.supervisor_id=n==null?void 0:n.id)],"allow-empty":!0},null,8,["options","modelValue"])])):r("",!0),i.$page.props.errors.supervisor_id?(o(),l("p",Fi,c(i.$page.props.errors.supervisor_id),1)):r("",!0)])):r("",!0),s.form.type=="plan_change"?(o(),l("div",zi,[e("div",Wi,[x(e("select",{name:"partner",id:"partner","onUpdate:modelValue":t[47]||(t[47]=n=>s.form.partner_id=n),class:"form-input focus:ring-indigo-500 focus:border-indigo-500 flex-1 block w-full rounded-md sm:text-sm border-gray-300"},[t[118]||(t[118]=e("option",{value:"default"},"Please Assign Partner",-1)),e("option",{value:s.form.customer_partner_id},c(s.form.customer_partner_name),9,Hi)],512),[[Y,s.form.partner_id]])]),i.$page.props.errors.supervisor_id?(o(),l("p",qi,c(i.$page.props.errors.supervisor_id),1)):r("",!0)])):r("",!0)],64)):r("",!0),t[160]||(t[160]=e("div",{class:"py-2 col-span-1 sm:col-span-1"},[e("div",{class:"mt-1 flex"},[e("label",{for:"type",class:"block text-sm font-medium text-gray-700 mt-2 mr-2"}," Type : ")])],-1)),e("div",Yi,[e("div",Gi,[x(e("select",{"onUpdate:modelValue":t[48]||(t[48]=n=>s.form.type=n),class:"focus:ring-indigo-500 focus:border-indigo-500 flex-1 block w-full rounded-md sm:text-sm border-gray-300",required:"",onChange:t[49]||(t[49]=n=>(s.form.topic=null,s.changeType(s.form.type))),disabled:s.checkDisable()},t[119]||(t[119]=[e("option",{value:"default"},"Please Choose Ticket Type",-1),e("option",{value:"service_complaint"},"Service Complaint",-1),e("option",{value:"plan_change"},"Plan Change",-1),e("option",{value:"suspension"},"Suspension",-1),e("option",{value:"resume"},"Reopen",-1),e("option",{value:"termination"},"Termination",-1)]),40,Ki),[[Y,s.form.type]])]),i.$page.props.errors.type?(o(),l("p",Qi,c(i.$page.props.errors.type),1)):r("",!0)]),s.form.type=="service_complaint"||s.form.type=="onsite_complaint"|s.form.type=="technical_complaint"?(o(),l("div",Ji,t[120]||(t[120]=[e("div",{class:"mt-1 flex"},[e("label",{for:"topic",class:"block text-sm font-medium text-gray-700 mt-2 mr-2"}," Topic : ")],-1)]))):r("",!0),s.form.type=="service_complaint"?(o(),l("div",Xi,[e("div",Zi,[x(e("select",{"onUpdate:modelValue":t[50]||(t[50]=n=>s.form.topic=n),class:"focus:ring-indigo-500 focus:border-indigo-500 flex-1 block w-full rounded-md sm:text-sm border-gray-300",disabled:s.checkDisable()},t[121]||(t[121]=[e("option",{value:"los_redlight"},"LOS Redlight",-1),e("option",{value:"pon_blinking"},"PON Blinking",-1),e("option",{value:"high_loss"},"High Loss",-1),e("option",{value:"dn_down"},"DN Down",-1),e("option",{value:"sn_down"},"SN Down",-1),e("option",{value:"relocation"},"Relocation",-1),e("option",{value:"maintenance"},"Maintenance",-1),e("option",{value:"other"},"Other",-1)]),8,$i),[[Y,s.form.topic]])]),i.$page.props.errors.topic?(o(),l("p",er,c(i.$page.props.errors.topic),1)):r("",!0)])):r("",!0),s.form.type=="onsite_complaint"?(o(),l("div",tr,[e("div",sr,[x(e("select",{"onUpdate:modelValue":t[51]||(t[51]=n=>s.form.topic=n),class:"focus:ring-indigo-500 focus:border-indigo-500 flex-1 block w-full rounded-md sm:text-sm border-gray-300",disabled:s.checkDisable()},t[122]||(t[122]=[e("option",{value:"no_internet"},"No Internet",-1),e("option",{value:"slow_performance"},"Slow Performance",-1),e("option",{value:"wifi_issue"},"Wifi Issue",-1),e("option",{value:"coverage_issue"},"Coverage Issue",-1),e("option",{value:"onu_issue"},"ONU issue",-1),e("option",{value:"home_router_issue"},"Home Router Issue",-1),e("option",{value:"password_change"},"Password Change",-1),e("option",{value:"other"},"Other",-1)]),8,or),[[Y,s.form.topic]])]),i.$page.props.errors.topic?(o(),l("p",lr,c(i.$page.props.errors.topic),1)):r("",!0)])):r("",!0),s.form.type=="technical_complaint"?(o(),l("div",ir,[e("div",rr,[x(e("select",{"onUpdate:modelValue":t[52]||(t[52]=n=>s.form.topic=n),class:"focus:ring-indigo-500 focus:border-indigo-500 flex-1 block w-full rounded-md sm:text-sm border-gray-300",disabled:s.checkDisable()},t[123]||(t[123]=[e("option",{value:"website_delay_issue"},"Website Delay Issue",-1),e("option",{value:"gaming_delay_issue"},"Gaming Delay Issue",-1),e("option",{value:"application_delay_issue"},"Application Delay Issue",-1),e("option",{value:"other"},"Other",-1)]),8,nr),[[Y,s.form.topic]])]),i.$page.props.errors.topic?(o(),l("p",ar,c(i.$page.props.errors.topic),1)):r("",!0)])):r("",!0),t[161]||(t[161]=e("div",{class:"py-2 col-span-1 sm:col-span-1"},[e("div",{class:"mt-1 flex"},[e("label",{for:"first_name",class:"block text-sm font-medium text-gray-700 mt-2 mr-2"},[I(" Status : "),e("span",{class:"text-red-500"},"*")])])],-1)),e("div",dr,[e("div",cr,[x(e("select",{"onUpdate:modelValue":t[53]||(t[53]=n=>s.form.status=n),class:"focus:ring-indigo-500 focus:border-indigo-500 flex-1 block w-full rounded-md sm:text-sm border-gray-300",disabled:s.checkDisableType()},[t[124]||(t[124]=e("option",{value:"1"},"Request",-1)),e("option",{value:"6",disabled:p.user.user_type!="internal"||s.form.type=="plan_change"},"Supervisor Assign",8,ur),t[125]||(t[125]=e("option",{value:"2",disabled:""},"Team Assign",-1)),e("option",{value:"5",disabled:p.user.user_type!="partner"},"Resolved Open",8,pr),t[126]||(t[126]=e("option",{value:"7",disabled:""},"Waiting to Suspend",-1)),t[127]||(t[127]=e("option",{value:"8",disabled:""},"Waiting to Reopen",-1)),t[128]||(t[128]=e("option",{value:"9",disabled:""},"Waiting to Terminate",-1)),e("option",{value:"10",disabled:p.user.user_type!="partner"},"Waiting to Plan Change",8,fr),t[129]||(t[129]=e("option",{value:"3"},"Closed",-1))],8,mr),[[Y,s.form.status]])]),i.$page.props.errors.status?(o(),l("p",gr,c(i.$page.props.errors.status),1)):r("",!0)]),s.form.status==3?(o(),l("div",yr,t[130]||(t[130]=[e("div",{class:"mt-1 flex"},[e("label",{for:"date",class:"block text-sm font-medium text-gray-700 mt-2 mr-2"}," Incident Close Period : ")],-1)]))):r("",!0),s.form.status==3?(o(),l("div",br,[e("div",xr,[x(e("input",{type:"date","onUpdate:modelValue":t[54]||(t[54]=n=>s.form.close_date=n),name:"close_date",id:"close_date",class:"form-input focus:ring-indigo-500 focus:border-indigo-500 flex-1 block w-full rounded-md sm:text-sm border-gray-300",disabled:s.checkDisable()},null,8,_r),[[w,s.form.close_date]])]),i.$page.props.errors.close_date?(o(),l("p",vr,c(i.$page.props.errors.close_date),1)):r("",!0)])):r("",!0),s.form.status==3?(o(),l("div",wr,[e("div",kr,[x(e("input",{type:"time","onUpdate:modelValue":t[55]||(t[55]=n=>s.form.close_time=n),name:"close_time",class:"form-input focus:ring-indigo-500 focus:border-indigo-500 flex-1 block w-full rounded-md sm:text-sm border-gray-300",disabled:s.checkDisable()},null,8,hr),[[w,s.form.close_time]])]),i.$page.props.errors.close_time?(o(),l("p",Cr,c(i.$page.props.errors.close_time),1)):r("",!0)])):r("",!0),s.form.status==5?(o(),l("div",Sr,t[131]||(t[131]=[e("div",{class:"mt-1 flex"},[e("label",{for:"date",class:"block text-sm font-medium text-gray-700 mt-2 mr-2"}," Incident Resolved Period : ")],-1)]))):r("",!0),s.form.status==5?(o(),l("div",Tr,[e("div",Vr,[x(e("input",{type:"date","onUpdate:modelValue":t[56]||(t[56]=n=>s.form.resolved_date=n),name:"close_date",id:"close_date",class:"form-input focus:ring-indigo-500 focus:border-indigo-500 flex-1 block w-full rounded-md sm:text-sm border-gray-300",disabled:s.checkDisableType()},null,8,Dr),[[w,s.form.resolved_date]])]),i.$page.props.errors.resolved_date?(o(),l("p",Ur,c(i.$page.props.errors.resolved_date),1)):r("",!0)])):r("",!0),s.form.status==5?(o(),l("div",jr,[e("div",Ar,[x(e("input",{type:"time","onUpdate:modelValue":t[57]||(t[57]=n=>s.form.resolved_time=n),name:"close_time",class:"form-input focus:ring-indigo-500 focus:border-indigo-500 flex-1 block w-full rounded-md sm:text-sm border-gray-300",disabled:s.checkDisableType()},null,8,Or),[[w,s.form.resolved_time]])]),i.$page.props.errors.resolved_time?(o(),l("p",Rr,c(i.$page.props.errors.resolved_time),1)):r("",!0)])):r("",!0),s.form.type=="suspension"?(o(),l("div",Ir,t[132]||(t[132]=[e("div",{class:"mt-1 flex"},[e("label",{for:"suspense",class:"block text-sm font-medium text-gray-700 mt-2 mr-2"}," Suspense From : ")],-1)]))):r("",!0),s.form.type=="suspension"?(o(),l("div",Pr,[e("div",Mr,[t[133]||(t[133]=e("span",{class:"-mt-1 z-10 leading-snug font-normal text-center text-gray-300 absolute bg-transparent rounded text-base items-center justify-center w-8 pl-3 py-3"},[e("i",{class:"fas fa-pause"})],-1)),x(e("input",{type:"date","onUpdate:modelValue":t[58]||(t[58]=n=>s.form.start_date=n),name:"start_date",id:"start_date",class:"pl-10 form-input focus:ring-indigo-500 focus:border-indigo-500 flex-1 block w-full rounded-md sm:text-sm border-gray-300",disabled:s.checkDisable()},null,8,Nr),[[w,s.form.start_date]])]),i.$page.props.errors.start_date?(o(),l("p",Lr,c(i.$page.props.errors.start_date),1)):r("",!0)])):r("",!0),s.form.type=="resume"?(o(),l(R,{key:13},[t[135]||(t[135]=e("div",{class:"py-2 col-span-1 sm:col-span-1"},[e("div",{class:"mt-1 flex"},[e("label",{for:"resume",class:"block text-sm font-medium text-gray-700 mt-2 mr-2"}," Suspension Ticket : ")])],-1)),e("div",Br,[((G=p.suspensionTickets)==null?void 0:G.length)!==0?(o(),l("div",Er,[O(f,{"deselect-label":"Selected already",options:p.suspensionTickets,"track-by":"id",label:"edge_code",modelValue:s.form.suspension_incident,"onUpdate:modelValue":[t[59]||(t[59]=n=>s.form.suspension_incident=n),t[60]||(t[60]=n=>s.form.suspension_incident_id=n==null?void 0:n.id)],"allow-empty":!1,disabled:s.checkDisable()},null,8,["options","modelValue","disabled"])])):r("",!0),i.$page.props.errors.suspension_incident_id?(o(),l("p",Fr,c(i.$page.props.errors.suspension_incident_id),1)):r("",!0)]),t[136]||(t[136]=e("div",{class:"py-2 col-span-1 sm:col-span-1"},[e("div",{class:"mt-1 flex"},[e("label",{for:"resume",class:"block text-sm font-medium text-gray-700 mt-2 mr-2"}," Resume Date : ")])],-1)),s.form.type=="resume"?(o(),l("div",zr,[e("div",Wr,[t[134]||(t[134]=e("span",{class:"z-10 -mt-1 leading-snug font-normal text-center text-gray-300 absolute bg-transparent rounded text-base items-center justify-center w-8 pl-3 py-3"},[e("i",{class:"fas fa-play"})],-1)),x(e("input",{type:"date","onUpdate:modelValue":t[61]||(t[61]=n=>s.form.start_date=n),name:"start_date",id:"start_date",class:"pl-10 form-input focus:ring-indigo-500 focus:border-indigo-500 flex-1 block w-full rounded-md sm:text-sm border-gray-300",disabled:s.checkDisable()},null,8,Hr),[[w,s.form.start_date]])]),i.$page.props.errors.resume?(o(),l("p",qr,c(i.$page.props.errors.start_date),1)):r("",!0)])):r("",!0)],64)):r("",!0),s.form.type=="termination"?(o(),l("div",Yr,t[137]||(t[137]=[e("div",{class:"mt-1 flex"},[e("label",{for:"termination",class:"block text-sm font-medium text-gray-700 mt-2 mr-2"}," Termination Date : ")],-1)]))):r("",!0),s.form.type=="termination"?(o(),l("div",Gr,[e("div",Kr,[t[138]||(t[138]=e("span",{class:"z-10 -mt-1 leading-snug font-normal text-center text-gray-300 absolute bg-transparent rounded text-base items-center justify-center w-8 pl-3 py-3"},[e("i",{class:"fas fa-stop"})],-1)),x(e("input",{type:"date","onUpdate:modelValue":t[62]||(t[62]=n=>s.form.start_date=n),name:"start_date",id:"start_date",class:"pl-10 form-input focus:ring-indigo-500 focus:border-indigo-500 flex-1 block w-full rounded-md sm:text-sm border-gray-300",disabled:s.checkDisable()},null,8,Qr),[[w,s.form.start_date]])]),i.$page.props.errors.start_date?(o(),l("p",Jr,c(i.$page.props.errors.start_date),1)):r("",!0)])):r("",!0),s.form.type=="relocation"?(o(),l("div",Xr,t[139]||(t[139]=[e("div",{class:"mt-1 flex"},[e("label",{for:"new_address",class:"block text-sm font-medium text-gray-700 mt-2 mr-2"}," New Address : ")],-1)]))):r("",!0),s.form.type=="relocation"?(o(),l("div",Zr,[e("div",$r,[x(e("textarea",{"onUpdate:modelValue":t[63]||(t[63]=n=>s.form.new_address=n),name:"new_address",id:"new_address",class:"focus:ring-indigo-500 focus:border-indigo-500 flex-1 block w-full rounded-md sm:text-sm border-gray-300",disabled:s.checkDisable()}," ",8,en),[[w,s.form.new_address]])]),i.$page.props.errors.new_address?(o(),l("p",tn,c(i.$page.props.errors.new_address),1)):r("",!0)])):r("",!0),s.form.type=="relocation"?(o(),l("div",sn,t[140]||(t[140]=[e("div",{class:"mt-1 flex"},[e("label",{for:"new_address",class:"block text-sm font-medium text-gray-700 mt-2 mr-2"}," New Township : ")],-1)]))):r("",!0),s.form.type=="relocation"?(o(),l("div",on,[p.townships.length!==0?(o(),l("div",ln,[O(f,{"deselect-label":"Selected already",options:p.townships,"track-by":"id",label:"name",modelValue:s.form.new_township,"onUpdate:modelValue":t[64]||(t[64]=n=>s.form.new_township=n),"allow-empty":!1,disabled:s.checkDisable()},null,8,["options","modelValue","disabled"])])):r("",!0),i.$page.props.errors.new_township?(o(),l("p",rn,c(i.$page.props.errors.new_township),1)):r("",!0)])):r("",!0),s.form.type=="relocation"?(o(),l("div",nn,t[141]||(t[141]=[e("div",{class:"mt-1 flex"},[e("label",{for:"new_latlong",class:"block text-sm font-medium text-gray-700 mt-2 mr-2"}," New Location : ")],-1)]))):r("",!0),s.form.type=="relocation"?(o(),l("div",an,[e("div",dn,[e("div",cn,[e("div",mn,[t[142]||(t[142]=e("span",{class:"z-10 -mt-1 leading-snug font-normal text-center text-gray-300 absolute bg-transparent rounded text-base items-center justify-center w-8 pl-3 py-3"},[e("i",{class:"fas fa-location-arrow"})],-1)),x(e("input",{type:"text","onUpdate:modelValue":t[65]||(t[65]=n=>s.form.latitude=n),name:"latitude",id:"latitude",class:"pl-10 form-input focus:ring-indigo-500 focus:border-indigo-500 flex-1 block w-full rounded-md sm:text-sm border-gray-300",placeholder:"Latitude",disabled:s.checkDisable()},null,8,un),[[w,s.form.latitude]])]),i.$page.props.errors.latitude?(o(),l("p",pn,c(i.$page.props.errors.latitude),1)):r("",!0)]),e("div",fn,[e("div",gn,[t[143]||(t[143]=e("span",{class:"z-10 -mt-1 leading-snug font-normal text-center text-gray-300 absolute bg-transparent rounded text-base items-center justify-center w-8 pl-3 py-3"},[e("i",{class:"fas fa-location-arrow"})],-1)),x(e("input",{type:"text","onUpdate:modelValue":t[66]||(t[66]=n=>s.form.longitude=n),name:"longitude",id:"longitude",class:"pl-10 form-input focus:ring-indigo-500 focus:border-indigo-500 flex-1 block w-full rounded-md sm:text-sm border-gray-300",placeholder:"Longitude",disabled:s.checkDisable()},null,8,yn),[[w,s.form.longitude]])]),i.$page.props.errors.longitude?(o(),l("p",bn,c(i.$page.props.errors.longitude),1)):r("",!0)])])])):r("",!0),s.form.type=="relocation"?(o(),l("div",xn,t[144]||(t[144]=[e("div",{class:"mt-1 flex"},[e("label",{for:"new_address",class:"block text-sm font-medium text-gray-700 mt-2 mr-2"}," Effective Date : ")],-1)]))):r("",!0),s.form.type=="relocation"?(o(),l("div",_n,[e("div",vn,[t[145]||(t[145]=e("span",{class:"z-10 -mt-1 leading-snug font-normal text-center text-gray-300 absolute bg-transparent rounded text-base items-center justify-center w-8 pl-3 py-3"},[e("i",{class:"fas fa-truck"})],-1)),x(e("input",{type:"date","onUpdate:modelValue":t[67]||(t[67]=n=>s.form.start_date=n),name:"start_date",id:"start_date",class:"pl-10 form-input focus:ring-indigo-500 focus:border-indigo-500 flex-1 block w-full rounded-md sm:text-sm border-gray-300",disabled:s.checkDisable()},null,8,wn),[[w,s.form.start_date]])]),i.$page.props.errors.start_date?(o(),l("p",kn,c(i.$page.props.errors.start_date),1)):r("",!0)])):r("",!0),s.form.type=="relocation"?(o(),l("div",hn,t[146]||(t[146]=[e("div",{class:"mt-1 flex"},[e("label",{for:"new_address",class:"block text-sm font-medium text-gray-700 mt-2 mr-2"}," Relocation Service : ")],-1)]))):r("",!0),s.form.type=="relocation"?(o(),l("div",Cn,[e("div",Sn,[O(f,{"deselect-label":"Selected already",options:p.relocationServices,"track-by":"id",label:"name",modelValue:s.form.relocation_service,"onUpdate:modelValue":[t[68]||(t[68]=n=>s.form.relocation_service=n),t[69]||(t[69]=n=>s.form.relocation_service_id=n==null?void 0:n.id)],"allow-empty":!1,disabled:s.checkDisable()},null,8,["options","modelValue","disabled"])]),i.$page.props.errors.relocation_service_id?(o(),l("p",Tn,c(i.$page.props.errors.relocation_service_id),1)):r("",!0)])):r("",!0),s.form.type=="plan_change"?(o(),l(R,{key:26},[t[147]||(t[147]=e("div",{class:"py-2 col-span-1 sm:col-span-1"},[e("div",{class:"mt-1 flex"},[e("label",{for:"current_bandwidth",class:"block text-sm font-medium text-gray-700 mt-2 mr-2"}," Current Bandwidth : ")])],-1)),e("div",Vn,[e("div",Dn,[x(e("input",{type:"text","onUpdate:modelValue":t[70]||(t[70]=n=>s.form.current_bandwidth=n),name:"current_bandwidth",id:"current_bandwidth",class:"form-input focus:ring-indigo-500 focus:border-indigo-500 flex-1 block w-full rounded-md sm:text-sm border-gray-300",disabled:""},null,512),[[w,s.form.current_bandwidth]])]),i.$page.props.errors.current_bandwidth?(o(),l("p",Un,c(i.$page.props.errors.current_bandwidth),1)):r("",!0)]),t[148]||(t[148]=e("div",{class:"py-2 col-span-1 sm:col-span-1"},[e("div",{class:"mt-1 flex"},[e("label",{for:"current_maintenance_plan",class:"block text-sm font-medium text-gray-700 mt-2 mr-2"}," Current Maintenance Plan : ")])],-1)),e("div",jn,[e("div",An,[x(e("input",{type:"text","onUpdate:modelValue":t[71]||(t[71]=n=>s.form.current_maintenance_plan=n),name:"current_maintenance_plan",id:"current_maintenance_plan",class:"form-input focus:ring-indigo-500 focus:border-indigo-500 flex-1 block w-full rounded-md sm:text-sm border-gray-300",disabled:""},null,512),[[w,s.form.current_maintenance_plan]])]),i.$page.props.errors.current_maintenance_plan?(o(),l("p",On,c(i.$page.props.errors.current_maintenance_plan),1)):r("",!0)]),t[149]||(t[149]=e("div",{class:"mt-1 flex"},[e("label",{for:"new_bandwidth",class:"block text-sm font-medium text-gray-700 mt-2 mr-2"}," New Bandwidth: ")],-1)),e("div",Rn,[e("div",In,[x(e("input",{type:"integer","onUpdate:modelValue":t[72]||(t[72]=n=>s.form.new_bandwidth=n),name:"new_bandwidth",id:"new_bandwidth",class:"form-input focus:ring-indigo-500 focus:border-indigo-500 flex-1 block w-full rounded-md sm:text-sm border-gray-300",disabled:s.checkDisable()},null,8,Pn),[[w,s.form.new_bandwidth]])]),i.$page.props.errors.new_bandwidth?(o(),l("p",Mn,c(i.$page.props.errors.new_bandwidth),1)):r("",!0)]),t[150]||(t[150]=e("div",{class:"mt-1 flex"},[e("label",{for:"new_bandwidth",class:"block text-sm font-medium text-gray-700 mt-2 mr-2"}," New Maintenance Plan: ")],-1)),e("div",Nn,[s.filteredMaintenanceServices.length!==0?(o(),l("div",Ln,[O(f,{"deselect-label":"Selected already",options:s.filteredMaintenanceServices,"track-by":"id",label:"name",modelValue:s.form.new_maintenance_plan,"onUpdate:modelValue":[t[73]||(t[73]=n=>s.form.new_maintenance_plan=n),t[74]||(t[74]=n=>s.form.new_maintenance_plan_id=n==null?void 0:n.id)],"allow-empty":!1,disabled:s.checkDisable()},null,8,["options","modelValue","disabled"])])):r("",!0),i.$page.props.errors.new_maintenance_plan_id?(o(),l("p",Bn,c(i.$page.props.errors.new_maintenance_plan_id),1)):r("",!0)])],64)):r("",!0),s.form.type=="plan_change"?(o(),l("div",En,t[151]||(t[151]=[e("div",{class:"mt-1 flex"},[e("label",{for:"new_address",class:"block text-sm font-medium text-gray-700 mt-2 mr-2"}," Effective Date : ")],-1)]))):r("",!0),s.form.type=="plan_change"?(o(),l("div",Fn,[e("div",zn,[t[152]||(t[152]=e("span",{class:"z-10 -mt-1 leading-snug font-normal text-center text-gray-300 absolute bg-transparent rounded text-base items-center justify-center w-8 pl-3 py-3"},[e("i",{class:"fas fa-random"})],-1)),x(e("input",{type:"date","onUpdate:modelValue":t[75]||(t[75]=n=>s.form.start_date=n),min:s.nextMonthFirstDay,max:s.nextMonthFirstDay,class:"pl-10 form-input focus:ring-indigo-500 focus:border-indigo-500 flex-1 block w-full rounded-md sm:text-sm border-gray-300",disabled:!((Q=p.user.role)!=null&&Q.system_setting)},null,8,Wn),[[w,s.form.start_date]])]),i.$page.props.errors.start_date?(o(),l("p",Hn,c(i.$page.props.errors.start_date),1)):r("",!0)])):r("",!0),t[162]||(t[162]=e("div",{class:"py-2 col-span-1 sm:col-span-1"},[e("div",{class:"mt-1 flex"},[e("label",{for:"detail",class:"block text-sm font-medium text-gray-700 mt-2 mr-2"}," Detail : ")])],-1)),e("div",qn,[e("div",Yn,[x(e("textarea",{"onUpdate:modelValue":t[76]||(t[76]=n=>s.form.description=n),name:"detail",id:"detail",class:"focus:ring-indigo-500 focus:border-indigo-500 flex-1 block w-full rounded-md sm:text-sm border-gray-300",disabled:s.checkDisable()}," ",8,Gn),[[w,s.form.description]])]),i.$page.props.errors.description?(o(),l("p",Kn,c(i.$page.props.errors.description),1)):r("",!0)]),s.editMode&&s.form.status==3?(o(),l(R,{key:29},[t[156]||(t[156]=e("div",{class:"col-span-5"},[e("hr")],-1)),s.form.type==="service_complaint"?(o(),l(R,{key:0},[t[153]||(t[153]=e("div",{class:"py-2 col-span-1 sm:col-span-1"},[e("div",{class:"mt-1 flex"},[e("label",{for:"rca",class:"block text-sm font-medium text-gray-700 mt-2 mr-2"}," RCA : ")])],-1)),e("div",Qn,[((K=p.rootCause)==null?void 0:K.length)!==0?(o(),l("div",Jn,[O(f,{"deselect-label":"Selected already",options:p.rootCause,"track-by":"id",label:"name",modelValue:s.form.rca,"onUpdate:modelValue":[t[77]||(t[77]=n=>s.form.rca=n),t[78]||(t[78]=n=>s.form.root_cause_id=n==null?void 0:n.id)],"allow-empty":!1,disabled:s.checkDisable()},null,8,["options","modelValue","disabled"])])):r("",!0),i.$page.props.errors.root_cause_id?(o(),l("p",Xn,c(i.$page.props.errors.root_cause_id),1)):r("",!0)]),t[154]||(t[154]=e("div",{class:"py-2 col-span-1 sm:col-span-1"},[e("div",{class:"mt-1 flex"},[e("label",{for:"sub_rca",class:"block text-sm font-medium text-gray-700 mt-2 mr-2"}," Sub RCA : ")])],-1)),e("div",Zn,[((H=s.subRCA)==null?void 0:H.length)!==0?(o(),l("div",$n,[O(f,{"deselect-label":"Selected already",options:s.subRCA,"track-by":"id",label:"name",modelValue:s.form.sub_rca,"onUpdate:modelValue":[t[79]||(t[79]=n=>s.form.sub_rca=n),t[80]||(t[80]=n=>s.form.sub_root_cause_id=n==null?void 0:n.id)],"allow-empty":!1,disabled:s.checkDisable()},null,8,["options","modelValue","disabled"])])):r("",!0),i.$page.props.errors.sub_root_cause_id?(o(),l("p",ea,c(i.$page.props.errors.sub_root_cause_id),1)):r("",!0)])],64)):r("",!0),s.checkDisable()==!1?(o(),l(R,{key:1},[t[155]||(t[155]=e("div",{class:"py-2 col-span-1 sm:col-span-1"},[e("div",{class:"mt-1 flex"},[e("label",{for:"rca_notes",class:"block text-sm font-medium text-gray-700 mt-2 mr-2"}," RCA Note : ")])],-1)),e("div",ta,[e("div",sa,[x(e("textarea",{"onUpdate:modelValue":t[81]||(t[81]=n=>s.form.rca_notes=n),name:"rca_notes",id:"rca_notes",class:"focus:ring-indigo-500 focus:border-indigo-500 flex-1 block w-full rounded-md sm:text-sm border-gray-300",disabled:!p.write_permission}," ",8,oa),[[w,s.form.rca_notes]])]),i.$page.props.errors.rca_notes?(o(),l("p",la,c(i.$page.props.errors.rca_notes),1)):r("",!0)])],64)):r("",!0)],64)):r("",!0)])],2),s.checkDisable()==!1?(o(),l("div",{key:0,class:L(["p-4",[s.tab==2?"":"hidden"]])},[(o(),q(le,null,[s.tab==2?(o(),q(h,{data:s.selected_id,errors:i.$page.props.errors,key:s.page_update},null,8,["data","errors"])):r("",!0)],1024))],2)):r("",!0),e("div",{class:L(["p-4",[s.tab==3?"":"hidden"]])},[(o(),q(le,null,[s.tab==3?(o(),q(k,{data:s.selected_id,key:s.page_update},null,8,["data"])):r("",!0)],1024))],2),e("div",{class:L(["p-4",[s.tab==4?"":"hidden"]])},[(o(),q(le,null,[s.tab==4?(o(),q(A,{data:s.selected_id,user:p.user,key:s.page_update},null,8,["data","user"])):r("",!0)],1024))],2),e("div",{class:L(["p-4",[s.tab==5?"":"hidden"]])},[(o(),q(le,null,[s.tab==5?(o(),q(g,{data:s.selected_id,key:s.page_update},null,8,["data"])):r("",!0)],1024))],2),e("div",{class:L(["p-4",[s.tab==6?"":"hidden"]])},[(o(),q(le,null,[s.tab==6?(o(),q(m,{data:s.selected_id,key:s.page_update},null,8,["data"])):r("",!0)],1024))],2)])])])]),e("div",{class:L(["bg-indigo-50 px-3 py-3 sm:px-6 sm:flex sm:flex-row",[s.tab==1?"justify-between":"justify-end"]])},[s.tab==1&&(p.write_permission||p.user.user_type=="partner")?(o(),l("div",ia,[e("button",{class:"inline-flex items-center px-4 py-3 bg-indigo-500 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-indigo-400 active:bg-indigo-600 focus:outline-none focus:border-indigo-900 disabled:opacity-25 transition mr-1",onClick:t[82]||(t[82]=n=>s.submit())},[s.editMode?(o(),l("span",ra,"Update")):r("",!0),s.editMode==!1?(o(),l("span",na,"Save")):r("",!0),t[163]||(t[163]=e("i",{class:"fas fa-save opacity-75 lg:ml-1 text-sm"},null,-1))]),x(e("button",{onClick:t[83]||(t[83]=(...n)=>s.deleteIncident&&s.deleteIncident(...n)),class:"inline-flex items-center px-4 py-3 bg-red-500 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-red-400 active:bg-red-600 focus:outline-none focus:border-gray-500 disabled:opacity-25 transition mr-1"},t[164]||(t[164]=[I("Delete"),e("i",{class:"lg:ml-1 fas fa-trash opacity-75 text-sm"},null,-1)]),512),[[Ue,s.selected_id]])])):r("",!0),e("div",aa,[e("button",{onClick:t[84]||(t[84]=(...n)=>s.closeModal&&s.closeModal(...n)),type:"button",class:"inline-flex items-center px-4 py-3 bg-gray-200 border border-transparent rounded-md font-semibold text-xs text-gray-600 uppercase tracking-widest hover:bg-gray-300 active:bg-gray-400 focus:outline-none focus:border-gray-500 disabled:opacity-25 transition"},t[165]||(t[165]=[I("Close "),e("i",{class:"lg:ml-1 fas fa-times-circle opacity-75 text-sm"},null,-1)]))])],2)])])],512)):r("",!0),s.loading?(o(),l("div",da,t[168]||(t[168]=[e("div",{class:"loader ease-linear rounded-full border-4 border-t-4 border-gray-200 h-12 w-12 mb-4"},null,-1),e("h2",{class:"text-center text-white text-xl font-semibold"},"Loading...",-1),e("p",{class:"w-1/3 text-center text-white"},"This may take a few seconds, please don't close this page.",-1)]))):r("",!0)]}),_:1})}const wa=Z(fl,[["render",ca]]);export{wa as default};
