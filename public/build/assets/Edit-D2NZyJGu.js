import{T as U,r as C,c as A,w as f,o as a,a as t,b as u,f as p,u as l,m as F,i as T,d as i,t as b,e as n,j as _,v as w,k as V,g as L,F as N}from"./app-CUc8g28W.js";import{A as M}from"./AppLayout-C5kTv2Li.js";import{M as m}from"./vue3-multiselect.umd.min-oBwQjjqr.js";import"./DropdownLink-BW-_ZUfw.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const O={class:"py-12"},j={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},E={class:"bg-white overflow-hidden shadow-xl sm:rounded-lg"},I={class:"p-6 bg-white border-b border-gray-200"},q={class:"mb-4"},G={class:"grid sm:grid-cols-4 gap-6"},R={key:0,class:"text-red-500 text-sm mt-1"},W={key:0,class:"text-red-500 text-sm mt-1"},Y={key:0,class:"text-red-500 text-sm mt-1"},z={key:0,class:"text-red-500 text-sm mt-1"},H={key:0,class:"text-red-500 text-sm mt-1"},J={key:0,class:"text-red-500 text-sm mt-1"},K={class:"grid sm:grid-cols-4 gap-6"},Q={key:0,class:"text-red-500 text-sm mt-1"},X={key:0,class:"text-red-500 text-sm mt-1"},Z={key:0,class:"text-red-500 text-sm mt-1"},h=["value"],$={key:0,class:"text-red-500 text-sm mt-1"},ee={class:"col-span-4"},le={key:0,class:"text-red-500 text-sm mt-1"},oe={class:"flex justify-end space-x-3 mt-4"},te=["disabled"],be={__name:"Edit",props:{odbFiberCable:Object,odbs:Array,odfs:Array,popDevices:Array,fiberCables:Array},setup(v){var g,k;const s=v,c=Array.from({length:96},(d,e)=>({value:e+1,label:`Port ${e+1}`})),o=U({odf:s.odfs.find(d=>{var e;return d.id===((e=s.odbFiberCable.odb)==null?void 0:e.odf_id)}),odf_id:(g=s.odbFiberCable.odb)==null?void 0:g.odf_id,odb:s.odbs.find(d=>d.id===s.odbFiberCable.odb_id),odb_id:s.odbFiberCable.odb_id,fiber_cable:s.fiberCables.find(d=>d.id===s.odbFiberCable.fiber_cable_id),fiber_cable_id:s.odbFiberCable.fiber_cable_id,fiber_cable_color:s.odbFiberCable.fiber_cable_color||"",fiber_cable_port:s.odbFiberCable.fiber_cable_port,fiber_cable_port_all:s.odbFiberCable.fiber_cable_port?{value:s.odbFiberCable.fiber_cable_port,label:`Port ${s.odbFiberCable.fiber_cable_port}`}:null,pop_device:(k=s.popDevices)==null?void 0:k.filter(d=>d.id==s.odbFiberCable.pop_device_id),pop_device_id:s.odbFiberCable.pop_device_id,odb_port_all:s.odbFiberCable.odb_port?{value:s.odbFiberCable.odb_port,label:`Port ${s.odbFiberCable.odb_port}`}:null,odb_port:s.odbFiberCable.odb_port,olt_port_all:s.odbFiberCable.olt_port?{value:s.odbFiberCable.olt_port,label:`Port ${s.odbFiberCable.olt_port}`}:null,olt_port:s.odbFiberCable.olt_port,olt_cable_label:s.odbFiberCable.olt_cable_label,description:s.odbFiberCable.description,status:s.odbFiberCable.status}),x=C([]),y=C([]),D=d=>{o.odf=d,o.odf_id=d==null?void 0:d.id,o.pop_device=null,o.pop_device_id=null,o.odb=null,o.odb_id=null,d&&s.popDevices?x.value=s.popDevices.filter(e=>d.pop_device_id.includes(e.id)):x.value=[],d&&s.odbs?y.value=s.odbs.filter(e=>e.odf_id===d.id):y.value=[]},P=d=>{o.odb=d,o.odb_id=d==null?void 0:d.id},S=[{value:"active",label:"Active"},{value:"inactive",label:"Inactive"},{value:"maintenance",label:"Maintenance"},{value:"plan",label:"Plan"}],B=()=>{o.put(route("odb-fiber-cables.update",s.odbFiberCable.id),{onSuccess:d=>{Toast.fire({icon:"success",title:d.props.flash.message})},transform:d=>{var e,r;return{...d,odf_port:(e=d.odf_port)==null?void 0:e.value,olt_port:(r=d.olt_port)==null?void 0:r.value}}})};return(d,e)=>(a(),A(M,null,{header:f(()=>e[16]||(e[16]=[t("h2",{class:"font-semibold text-xl text-white leading-tight"},"Edit ODB Details",-1)])),default:f(()=>[t("div",O,[t("div",j,[t("div",E,[t("div",I,[t("div",q,[u(l(F),{href:d.route("odb-fiber-cables.index"),class:"text-indigo-600 hover:text-indigo-900"},{default:f(()=>e[17]||(e[17]=[t("i",{class:"fas fa-arrow-left"},null,-1),p(" Back to List ")])),_:1},8,["href"])]),t("form",{onSubmit:T(B,["prevent"])},[e[32]||(e[32]=t("h6",{class:"md:min-w-full text-indigo-700 text-xs uppercase font-bold block pt-1 no-underline mb-2"}," Feeder Connection Information ",-1)),t("div",G,[t("div",null,[e[18]||(e[18]=t("label",{class:"block text-sm font-medium text-gray-700"},[p("ODF "),t("span",{class:"text-red-600"},"*")],-1)),u(l(m),{modelValue:l(o).odf,"onUpdate:modelValue":[e[0]||(e[0]=r=>l(o).odf=r),D],options:v.odfs,"track-by":"id",label:"name",placeholder:"Select ODF",searchable:!0,"allow-empty":!1},null,8,["modelValue","options"]),l(o).errors.odf_id?(a(),i("div",R,b(l(o).errors.odf_id),1)):n("",!0)]),t("div",null,[e[19]||(e[19]=t("label",{class:"block text-sm font-medium text-gray-700"},[p("ODB "),t("span",{class:"text-red-600"},"*")],-1)),u(l(m),{modelValue:l(o).odb,"onUpdate:modelValue":[e[1]||(e[1]=r=>l(o).odb=r),P],options:y.value,"track-by":"id",label:"name",placeholder:"Select ODB",searchable:!0,"allow-empty":!1,disabled:!l(o).odf_id},null,8,["modelValue","options","disabled"]),l(o).errors.odb_id?(a(),i("div",W,b(l(o).errors.odb_id),1)):n("",!0)]),t("div",null,[e[20]||(e[20]=t("label",{class:"block text-sm font-medium text-gray-700"},[p("Fiber Cable (Feeder) "),t("span",{class:"text-red-600"},"*")],-1)),u(l(m),{modelValue:l(o).fiber_cable,"onUpdate:modelValue":[e[2]||(e[2]=r=>l(o).fiber_cable=r),e[3]||(e[3]=r=>{l(o).fiber_cable_id=r==null?void 0:r.id})],options:v.fiberCables,"track-by":"id",label:"name",placeholder:"Select Fiber Cable",searchable:!0,"allow-empty":!1},null,8,["modelValue","options"]),l(o).errors.fiber_cable_id?(a(),i("div",Y,b(l(o).errors.fiber_cable_id),1)):n("",!0)]),t("div",null,[e[22]||(e[22]=t("label",{class:"block text-sm font-medium text-gray-700"},"Fiber Cable Color",-1)),_(t("select",{"onUpdate:modelValue":e[4]||(e[4]=r=>l(o).fiber_cable_color=r),class:"block w-full rounded-md border-gray-200 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"},e[21]||(e[21]=[t("option",{value:""},"Select Color",-1),t("option",{value:"blue"},"Blue",-1),t("option",{value:"orange"},"Orange",-1),t("option",{value:"green"},"Green",-1),t("option",{value:"brown"},"Brown",-1),t("option",{value:"gray"},"Gray",-1),t("option",{value:"white"},"White",-1),t("option",{value:"red"},"Red",-1),t("option",{value:"black"},"Black",-1),t("option",{value:"yellow"},"Yellow",-1),t("option",{value:"purple"},"Purple",-1),t("option",{value:"pink"},"Pink",-1),t("option",{value:"aqua"},"Aqua",-1)]),512),[[w,l(o).fiber_cable_color]]),l(o).errors.fiber_cable_color?(a(),i("div",z,b(l(o).errors.fiber_cable_color),1)):n("",!0)]),t("div",null,[e[23]||(e[23]=t("label",{class:"block text-sm font-medium text-gray-700"},[p("Fiber Cable Port No. "),t("span",{class:"text-red-600"},"*")],-1)),u(l(m),{modelValue:l(o).fiber_cable_port_all,"onUpdate:modelValue":[e[5]||(e[5]=r=>l(o).fiber_cable_port_all=r),e[6]||(e[6]=r=>l(o).fiber_cable_port=r==null?void 0:r.value)],options:l(c),"track-by":"value",label:"label",placeholder:"Select Port",searchable:!0,"allow-empty":!1},null,8,["modelValue","options"]),l(o).errors.fiber_cable_port?(a(),i("div",H,b(l(o).errors.fiber_cable_port),1)):n("",!0)]),t("div",null,[e[24]||(e[24]=t("label",{class:"block text-sm font-medium text-gray-700"},[p("ODB Port No. "),t("span",{class:"text-red-600"},"*")],-1)),u(l(m),{modelValue:l(o).odb_port_all,"onUpdate:modelValue":[e[7]||(e[7]=r=>l(o).odb_port_all=r),e[8]||(e[8]=r=>l(o).odb_port=r==null?void 0:r.value)],options:l(c),"track-by":"value",label:"label",placeholder:"Select Port",searchable:!0,"allow-empty":!1},null,8,["modelValue","options"]),l(o).errors.odb_port?(a(),i("div",J,b(l(o).errors.odb_port),1)):n("",!0)])]),e[33]||(e[33]=t("hr",{class:"my-4 md:min-w-full"},null,-1)),e[34]||(e[34]=t("h6",{class:"md:min-w-full text-indigo-700 text-xs uppercase font-bold block pt-1 no-underline mb-2"}," OLT Information ",-1)),t("div",K,[t("div",null,[e[25]||(e[25]=t("label",{class:"block text-sm font-medium text-gray-700"},"POP Device (OLT)",-1)),u(l(m),{modelValue:l(o).pop_device,"onUpdate:modelValue":[e[9]||(e[9]=r=>l(o).pop_device=r),e[10]||(e[10]=r=>{l(o).pop_device_id=r==null?void 0:r.id})],options:x.value,"track-by":"id",label:"device_name",placeholder:"Select POP Device",searchable:!0,"allow-empty":!1,disabled:!l(o).odf_id},null,8,["modelValue","options","disabled"]),l(o).errors.pop_device_id?(a(),i("div",Q,b(l(o).errors.pop_device_id),1)):n("",!0)]),t("div",null,[e[26]||(e[26]=t("label",{class:"block text-sm font-medium text-gray-700"},"OLT Port No.",-1)),u(l(m),{modelValue:l(o).olt_port_all,"onUpdate:modelValue":[e[11]||(e[11]=r=>l(o).olt_port_all=r),e[12]||(e[12]=r=>l(o).olt_port=r==null?void 0:r.value)],options:l(c),"track-by":"value",label:"label",placeholder:"Select Port",searchable:!0,"allow-empty":!0},null,8,["modelValue","options"]),l(o).errors.olt_port?(a(),i("div",X,b(l(o).errors.olt_port),1)):n("",!0)]),t("div",null,[e[27]||(e[27]=t("label",{class:"block text-sm font-medium text-gray-700"},"OLT To ODF Label",-1)),_(t("input",{type:"text","onUpdate:modelValue":e[13]||(e[13]=r=>l(o).olt_cable_label=r),class:"block w-full rounded-md border-gray-200 shadow-xsfocus:border-indigo-500 focus:ring-indigo-500"},null,512),[[V,l(o).olt_cable_label]]),l(o).errors.olt_cable_label?(a(),i("div",Z,b(l(o).errors.olt_cable_label),1)):n("",!0)]),t("div",null,[e[29]||(e[29]=t("label",{class:"block text-sm font-medium text-gray-700"},"Status",-1)),_(t("select",{"onUpdate:modelValue":e[14]||(e[14]=r=>l(o).status=r),class:"block w-full rounded-md border-gray-200 shadow-xsfocus:border-indigo-500 focus:ring-indigo-500"},[e[28]||(e[28]=t("option",{value:""},"Select Status",-1)),(a(),i(N,null,L(S,r=>t("option",{key:r.value,value:r.value},b(r.label),9,h)),64))],512),[[w,l(o).status]]),l(o).errors.status?(a(),i("div",$,b(l(o).errors.status),1)):n("",!0)]),t("div",ee,[e[30]||(e[30]=t("label",{class:"block text-sm font-medium text-gray-700"},"Description",-1)),_(t("textarea",{"onUpdate:modelValue":e[15]||(e[15]=r=>l(o).description=r),rows:"3",class:"block w-full rounded-md border-gray-200 shadow-xsfocus:border-indigo-500 focus:ring-indigo-500"},null,512),[[V,l(o).description]]),l(o).errors.description?(a(),i("div",le,b(l(o).errors.description),1)):n("",!0)])]),t("div",oe,[u(l(F),{href:d.route("odb-fiber-cables.index"),class:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50"},{default:f(()=>e[31]||(e[31]=[p(" Cancel ")])),_:1},8,["href"]),t("button",{type:"submit",class:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",disabled:l(o).processing}," Update ",8,te)])],32)])])])])]),_:1}))}};export{be as default};
