import{A as _}from"./AppLayout-W1Zz9yNo.js";import{m as h,T as k,z as c,c as T,w as u,o as i,a as o,i as z,j as l,v as b,d,g as x,F as g,t as n,e as a,k as y,l as V,b as C,f as U}from"./app-D6CVw1H4.js";import{_ as A}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./DropdownLink-EPEBtceR.js";const L={components:{AppLayout:_,Link:h},props:{zone:Object,cities:Array,townships:Array},setup(r){return{form:k({name:r.zone.name,description:r.zone.description,is_active:r.zone.is_active,city_id:r.zone.city_id||"",township_ids:r.zone.townships.map(f=>f.id)})}},data(){return{filteredTownships:[]}},mounted(){this.filterTownships()},methods:{submit(){this.form.put(route("zone.update",this.zone.id))},filterTownships(){this.form.city_id?this.filteredTownships=this.townships.filter(r=>r.city_id==this.form.city_id):(this.filteredTownships=[],this.form.township_ids=[])}}},N={class:"py-12"},S={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},B={class:"bg-white overflow-hidden shadow-xl sm:rounded-lg p-6"},M={class:"grid grid-cols-1 gap-6"},j=["value"],D={key:0,class:"text-red-500 text-xs mt-1"},E={key:0,class:"text-red-500 text-xs mt-1"},F={key:0,class:"text-red-500 text-xs mt-1"},Z={class:"mt-1"},O=["disabled"],P=["value"],q={key:0,class:"text-sm text-gray-500 mt-1"},G={key:0,class:"text-red-500 text-xs mt-1"},H={class:"mt-2"},I={class:"inline-flex items-center"},J={class:"mt-6 flex items-center justify-end"};function K(r,t,f,s,p,m){const w=c("Link"),v=c("app-layout");return i(),T(v,null,{header:u(()=>t[7]||(t[7]=[o("h2",{class:"font-semibold text-xl text-white leading-tight"},"Edit Zone",-1)])),default:u(()=>[o("div",N,[o("div",S,[o("div",B,[o("form",{onSubmit:t[6]||(t[6]=z((...e)=>m.submit&&m.submit(...e),["prevent"]))},[o("div",M,[o("div",null,[t[9]||(t[9]=o("label",{class:"block text-sm font-medium text-gray-700"},"City",-1)),l(o("select",{"onUpdate:modelValue":t[0]||(t[0]=e=>s.form.city_id=e),onChange:t[1]||(t[1]=(...e)=>m.filterTownships&&m.filterTownships(...e)),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"},[t[8]||(t[8]=o("option",{value:""},"Select a City",-1)),(i(!0),d(g,null,x(f.cities,e=>(i(),d("option",{key:e.id,value:e.id},n(e.name),9,j))),128))],544),[[b,s.form.city_id]]),s.form.errors.city_id?(i(),d("div",D,n(s.form.errors.city_id),1)):a("",!0)]),o("div",null,[t[10]||(t[10]=o("label",{class:"block text-sm font-medium text-gray-700"},"Name",-1)),l(o("input",{type:"text","onUpdate:modelValue":t[2]||(t[2]=e=>s.form.name=e),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"},null,512),[[y,s.form.name]]),s.form.errors.name?(i(),d("div",E,n(s.form.errors.name),1)):a("",!0)]),o("div",null,[t[11]||(t[11]=o("label",{class:"block text-sm font-medium text-gray-700"},"Description",-1)),l(o("textarea",{"onUpdate:modelValue":t[3]||(t[3]=e=>s.form.description=e),rows:"3",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"},null,512),[[y,s.form.description]]),s.form.errors.description?(i(),d("div",F,n(s.form.errors.description),1)):a("",!0)]),o("div",null,[t[12]||(t[12]=o("label",{class:"block text-sm font-medium text-gray-700"},"Townships",-1)),o("div",Z,[l(o("select",{"onUpdate:modelValue":t[4]||(t[4]=e=>s.form.township_ids=e),multiple:"",disabled:!s.form.city_id,class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 disabled:bg-gray-100 disabled:cursor-not-allowed"},[(i(!0),d(g,null,x(p.filteredTownships,e=>(i(),d("option",{key:e.id,value:e.id},n(e.name),9,P))),128))],8,O),[[b,s.form.township_ids]]),s.form.city_id?a("",!0):(i(),d("p",q,"Please select a city first"))]),s.form.errors.township_ids?(i(),d("div",G,n(s.form.errors.township_ids),1)):a("",!0)]),o("div",null,[t[14]||(t[14]=o("label",{class:"block text-sm font-medium text-gray-700"},"Status",-1)),o("div",H,[o("label",I,[l(o("input",{type:"checkbox","onUpdate:modelValue":t[5]||(t[5]=e=>s.form.is_active=e),class:"rounded border-gray-300 text-indigo-600 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"},null,512),[[V,s.form.is_active]]),t[13]||(t[13]=o("span",{class:"ml-2"},"Active",-1))])])])]),o("div",J,[C(w,{href:r.route("zone.index"),class:"bg-gray-300 hover:bg-gray-400 text-black font-bold py-2 px-4 rounded mr-2"},{default:u(()=>t[15]||(t[15]=[U(" Cancel ")])),_:1},8,["href"]),t[16]||(t[16]=o("button",{type:"submit",class:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded"}," Update Zone ",-1))])],32)])])])]),_:1})}const Y=A(L,[["render",K]]);export{Y as default};
