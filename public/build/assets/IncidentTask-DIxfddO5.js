import{A as q,N as H,C as Q}from"./NoData-BpjQL7CG.js";import{P as X}from"./Pagination-Bkq41PLZ.js";import{m as Z,r as f,D as $,h as ee,J as te,y as B,c as K,w as se,N as z,o as d,a as e,d as i,j as y,k as j,O as oe,t as r,n as p,e as n,F as W,g as J,b as E,f as G,M as L}from"./app-3iY26lDK.js";import{M as le}from"./vue3-multiselect.umd.min-aG0GhwKd.js";import{_ as ae}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./DropdownLink-BbWbIYld.js";const re={name:"IncidentTask",components:{AppLayout:q,Pagination:X,Multiselect:le,NoData:H,Link:Z,CustomerDetail:Q},props:{tasks:Object,errors:Object,task_write:Boolean,user:Object,noc:Object,critical:Number,high:Number,normal:Number,role:Object,subcons:Object,subcon:Object,pendingRootCause:Object,subRootCause:Object},setup(c){const t=f("");f("");let u=f(!1),s=f(!1),k=f(!1),S=f(""),x=f(1),g=f("my"),v=f([]);const Y=f({date:"YYYY-MM-DD",month:"MMM"});f(!1),$("user",c.user);const a=ee({id:null,code:null,priority:null,assigned:null,target:null,status:1,description:null,comment:null,incident_id:null,data:null,root_causes:null,sub_root_causes:null,root_causes_id:null,sub_root_causes_id:null,complete_date:null});function w(){a.id=null,a.code=null,a.priority=null,a.assigned=null,a.target=null,a.status=1,a.description=null,a.comment=null,a.incident_id=c.data,a.root_causes=null,a.sub_root_causes=null,a.root_causes_id=null,a.sub_root_causes_id=null,a.complete_date=null,S.value=null}function D(l){a.id=l.id,a.code=l.code,a.priority=l.priority,a.assigned=c.subcons.filter(m=>m.id==l.assigned)[0],a.description=l.description,a.incident_id=l.incident_id,a.comment=l.comment,a.status=l.status,a.target=l.target,a.data=l,a.root_causes=l.root_causes_id?c.pendingRootCause.filter(m=>m.id==l.root_causes_id)[0]:null,a.sub_root_causes=null,a.root_causes_id=l.root_causes_id,a.sub_root_causes_id=l.sub_root_causes_id,a.complete_date=l.complete_date,k.value=!0,s.value=!0,S.value=l.incident_id}function A(l){l.status!=2?Toast.fire({title:"Are you sure?",text:"Do you want to mark as completed !",icon:"warning",timer:!1,position:"center",showCancelButton:!0,dangerMode:!0}).then(m=>{m.isConfirmed&&h(l,2)}):Toast.fire({title:"Are you sure?",text:"Do you want to mark as WIP !",icon:"warning",timer:!1,position:"center",showCancelButton:!0,dangerMode:!0}).then(m=>{m.isConfirmed&&h(l,1)})}function h(l,m){a.id=l.id,a.assigned=c.subcons.filter(_=>_.id==l.assigned)[0],a.description=l.description,a.incident_id=l.incident_id,a.status=m,a.target=l.target,k.value=!0,s.value=!1,C()}function C(){k.value!=!0?(a._method="POST",z.post("/addTask",a,{preserveState:!0,onSuccess:l=>{s.value=!1,w(),Toast.fire({icon:"success",title:l.props.flash.message})},onError:l=>{console.log("error ..",l)}})):(a._method="PUT",z.post("/editTask/"+a.id,a,{onSuccess:l=>{s.value=!1,k.value=!1,w(),Toast.fire({icon:"success",title:l.props.flash.message})},onError:l=>{console.log("error ..",l)}}))}function V(){s.value=!1,preserveState=!0}function M(l){let m="WIP";return l==0?m="Deleted":l==1?m="WIP":l==2?m="Completed":l==3&&(m="Pending"),m}function N(){z.get("/mytask/",{keyword:t.value,status:x.value,task:g.value},{preserveState:!0})}function b(){let l="/mytask/";t.value!=null&&(l=l+"?keyword="+t.value),x.value!=""&&(l=l+"&status="+x.value),g.value!=""&&(l=l+"&task="+g.value),z.get(l,{keyword:t.value},{preserveState:!0})}function P(l){x.value=l,b()}function R(){g.value="my",b()}function U(){g.value="all",b()}const I=l=>{let m=c.subcons.filter(_=>_.id==l)[0];return m?m.name:""};function O(l){var _;v.value=[];let m=c.pendingRootCause.filter(F=>F.id==l.id);v.value=(_=m[0])==null?void 0:_.sub_root_causes,a.sub_root_causes_id&&(a.sub_root_causes=v.value.filter(F=>F.id==a.sub_root_causes_id)[0],a.sub_root_causes||(a.sub_root_causes_id=null))}te(()=>a.root_causes,l=>{l&&O(l)});const T=f(1);function o(l){T.value=l}return{search:t,loading:u,form:a,formatter:Y,edit:s,editMode:k,search_status:x,task_user:g,getName:I,getStatus:M,editTask:D,completeIt:h,saveTask:C,cancelTask:V,completeTask:A,searchTask:N,goMyTasks:R,goAllTasks:U,changeStatus:b,subRCA:v,goSearch:P,tabClick:o,tab:T,selected_id:S}}},de={class:"py-1"},ie={class:"mx-auto sm:px-6 lg:px-8"},ne={key:0,class:"grid grid-cols-1 md:grid-cols-3 gap-2 py-2 w-full justify-items-end"},ce={class:"flex w-full"},me={class:"flex w-full items-center justify-end"},ue={class:"mr-3 text-sm font-medium text-gray-700"},fe={class:"inline-flex relative cursor-pointer"},pe=["checked"],ge={class:"flex w-full"},ye={key:1},xe={key:0,class:"hidden md:block"},be={class:"min-w-full divide-y divide-gray-200 table-auto"},_e={class:"bg-white divide-y divide-gray-200 text-sm w-full text-left"},ke={class:"px-2 py-3 whitespace-nowrap"},ve={class:"px-6 py-3 whitespace-nowrap"},he={class:"px-6 py-3 whitespace-nowrap"},we={class:"px-6 py-3 whitespace-nowrap"},Ce={class:"px-6 py-3 whitespace-nowrap"},Te={class:"px-6 py-3 whitespace-nowrap"},je={class:"px-6 py-3 whitespace-nowrap"},Se={class:"px-6 py-3 whitespace-nowrap"},De={class:"px-6 py-3 whitespace-nowrap"},Ae={class:"px-6 py-3 whitespace-nowrap"},Ve=["onClick"],Me={key:1,class:"grid grid-cols-1 sm:grid-cols-2 gap-2 md:hidden"},Ne={class:"flex items-center justify-between space-x-2 text-sm"},Pe={class:"font-bold"},Re={class:"text-sm text-gray-600"},Ue={class:"font-sm p-2 capitalize"},Ie={class:"mt-4"},Oe={class:"text-xs text-gray-700"},Be={class:"text-xs text-gray-700"},ze={class:"text-xs text-gray-700"},We={class:"flex flex-wrap justify-end"},Ee=["onClick"],Le={key:2,class:"w-full block mt-4"},Ye={class:"text-xs text-gray-600"},Fe={key:3},Ge={key:2,class:"inline-flex w-full bg-gray-50 rounded-t-lg"},Ke={id:"tabs",class:"flex"},Je={id:"tab-contents"},qe={key:0,class:"grid grid-cols-1 md:grid-cols-4 gap-2 w-full bg-white p-4"},He={class:"md:py-2 md:col-span-3 col-span-1"},Qe={class:"flex"},Xe={for:"ftth_id",class:"block text-sm font-bold text-gray-700 md:mt-2 md:mr-2"},Ze={class:"md:py-2 md:col-span-3 col-span-1"},$e={class:"flex"},et={for:"ftth_id",class:"block text-sm font-bold text-gray-700 md:mt-2 md:mr-2"},tt={class:"md:py-2 md:col-span-3 col-span-1"},st={class:"flex"},ot={for:"type",class:"block text-sm font-bold text-gray-700 md:mt-2 md:mr-2 capitalize"},lt={key:0,class:"py-2 col-span-1 w-full"},at={key:1,class:"md:py-2 md:col-span-3 col-span-1"},rt={class:"flex"},dt={for:"type",class:"block text-sm font-bold text-gray-700 md:mt-2 md:mr-2 capitalize"},it={class:"md:py-2 md:col-span-3 col-span-1"},nt={class:"flex"},ct={for:"type",class:"block text-sm font-bold text-gray-700 md:mt-2 md:mr-2 whitespace-normal"},mt={class:"md:py-2 md:col-span-3 col-span-1"},ut={class:"flex"},ft={for:"type",class:"block text-sm font-bold text-gray-700 md:mt-2 md:mr-2 whitespace-normal"},pt={class:"md:py-2 md:col-span-3 col-span-1"},gt={class:"flex rounded-md shadow-sm"},yt={key:0,class:"flex rounded-md shadow-sm w-full"},xt={key:1,class:"mt-2 text-sm text-red-500"},bt={class:"md:py-2 col-span-1 md:col-span-3"},_t={class:"flex rounded-md shadow-sm"},kt={key:0,class:"mt-2 text-sm text-red-500"},vt={class:"md:py-2 col-span-1 md:col-span-3"},ht={class:"flex rounded-md shadow-sm"},wt={key:0,class:"mt-2 text-sm text-red-500"},Ct={class:"md:py-2 col-span-1 md:col-span-3"},Tt={class:"flex gap-4"},jt={class:"inline-flex items-center"},St={class:"inline-flex items-center"},Dt={class:"inline-flex items-center"},At={class:"inline-flex items-center"},Vt={key:0,class:"mt-2 text-sm text-red-500"},Mt={class:"md:py-2 col-span-1 md:col-span-3"},Nt={class:"flex rounded-md shadow-sm"},Pt={key:0,class:"mt-2 text-sm text-red-500"},Rt={class:"py-2 col-span-1 md:col-span-3"},Ut={key:0,class:"flex rounded-md shadow-sm w-full"},It={key:1,class:"mt-2 text-sm text-red-500"},Ot={class:"py-2 col-span-1 md:col-span-3"},Bt={key:0,class:"flex rounded-md shadow-sm w-full"},zt={key:1,class:"mt-2 text-sm text-red-500"},Wt={class:"md:py-2 col-span-1 md:col-span-3"},Et={class:"flex rounded-md shadow-sm"},Lt={key:0,class:"mt-2 text-sm text-red-500"},Yt={class:"col-span-1 md:col-span-4 flex md:justify-end justify-between mt-4"},Ft={key:0},Gt={key:1},Kt={key:0,"wire:loading":"",class:"fixed top-0 left-0 right-0 bottom-0 w-full h-screen z-50 overflow-hidden bg-gray-700 opacity-75 flex flex-col items-center justify-center"};function Jt(c,t,u,s,k,S){const x=B("pagination"),g=B("multiselect"),v=B("customer-detail"),Y=B("app-layout");return d(),K(Y,null,{default:se(()=>{var a,w,D,A,h,C,V,M,N,b,P,R,U,I,O,T;return[e("div",de,[e("div",ie,[s.edit?n("",!0):(d(),i("div",ne,[e("div",ce,[t[24]||(t[24]=e("span",{class:"z-10 mt-1 leading-snug font-normal text-center text-blueGray-300 absolute bg-transparent rounded text-base items-center justify-center w-8 pl-3 py-2"},[e("i",{class:"fas fa-search"})],-1)),y(e("input",{type:"text",placeholder:"ID/Description",class:"pl-10 pr-12 py-2.5 w-full rounded-lg overflow-hidden text-sm text-gray-700 placeholder-gray-400 transition-colors bg-white border border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-500 focus:ring-opacity-10 focus:outline-none dark:bg-gray-800 dark:border-gray-700 dark:text-gray-100 dark:placeholder-gray-500 dark:focus:border-indigo-500 dark:focus:ring-opacity-20",id:"search",tabindex:"1","onUpdate:modelValue":t[0]||(t[0]=o=>s.search=o),onKeyup:t[1]||(t[1]=oe((...o)=>s.searchTask&&s.searchTask(...o),["enter"]))},null,544),[[j,s.search]])]),e("div",me,[e("span",ue,r(s.task_user==="my"?"My Tasks":"All Tasks"),1),e("label",fe,[e("input",{type:"checkbox",class:"sr-only peer",checked:s.task_user==="all",onChange:t[2]||(t[2]=o=>s.task_user==="my"?s.goAllTasks():s.goMyTasks())},null,40,pe),t[25]||(t[25]=e("div",{class:"w-14 h-8 bg-gray-400 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-6 peer-checked:after:border-white after:content-[''] after:absolute after:top-[4px] after:left-[4px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-6 after:w-6 after:transition-all peer-checked:bg-indigo-600 shadow-sm"},null,-1))])]),e("div",ge,[e("button",{class:p(["w-32 btn py-3 px-8 bg-gray-400 rounded rounded-r-none focus:ring-0 focus:border-transparent focus:outline-none shadow-lg text-gray-50 text-xs font-semibold uppercase border-r-gray-300 border-r",{"bg-yellow-300 text-gray-600 font-bold":s.search_status==1}]),onClick:t[3]||(t[3]=o=>s.goSearch(1))},"WIP",2),e("button",{class:p(["w-32 btn py-3 px-8 bg-gray-400 focus:ring-0 focus:border-transparent focus:outline-none shadow-lg text-gray-50 text-xs font-semibold uppercase border-r-gray-300 border-r",{"bg-yellow-500 text-gray-600 font-bold":s.search_status==3}]),onClick:t[4]||(t[4]=o=>s.goSearch(3))},"Pending",2),e("button",{class:p(["w-32 btn py-3 px-8 bg-gray-400 focus:ring-0 focus:border-transparent focus:outline-none shadow-lg text-gray-50 text-xs font-semibold uppercase border-r-gray-300 border-r",{"bg-green-300 text-gray-600 font-bold":s.search_status==2}]),onClick:t[5]||(t[5]=o=>s.goSearch(2))},"Completed",2),e("button",{class:p(["w-32 btn py-3 px-8 bg-gray-400 rounded rounded-l-none focus:ring-0 focus:border-transparent focus:outline-none shadow-lg text-gray-50 text-xs font-semibold uppercase",{"bg-indigo-600 font-bold":s.search_status=="all"}]),onClick:t[6]||(t[6]=o=>s.goSearch("all"))},"All",2)])])),s.edit?n("",!0):(d(),i("div",ye,[(a=u.tasks)!=null&&a.data?(d(),i("div",xe,[e("table",be,[t[27]||(t[27]=e("thead",{class:"bg-gray-50"},[e("tr",null,[e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}),e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Code "),e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Customer ID"),e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Description"),e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Assigned To"),e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Assigned By"),e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Target Date"),e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Complete Date"),e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Status"),e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Action")])],-1)),e("tbody",_e,[(d(!0),i(W,null,J(u.tasks.data,(o,l)=>{var m;return d(),i("tr",{key:o.id},[e("td",ke,[e("i",{class:p(["fa fa-circle mr-2",{"text-yellow-400":o.priority=="normal","text-yellow-600":o.priority=="high","text-red-600":o.priority=="critical"}])},null,2),G(" "+r(l+=u.tasks.from),1)]),e("td",ve,r(o.code),1),e("td",he,r(o.ftth_id),1),e("td",we,r((m=o.description)==null?void 0:m.substring(0,50)),1),e("td",Ce,r(s.getName(o.assigned)),1),e("td",Te,r(o.incharge.match(/\b\w/g).join("")),1),e("td",je,r(o.target),1),e("td",Se,r(o.complete_date),1),e("td",De,r(s.getStatus(o.status)),1),e("td",Ae,[e("a",{href:"#",onClick:_=>s.editTask(o),class:"text-blue-600"},t[26]||(t[26]=[e("i",{class:"fa fa-edit"},null,-1)]),8,Ve)])])}),128))])])])):n("",!0),(w=u.tasks)!=null&&w.data?(d(),i("div",Me,[(d(!0),i(W,null,J(u.tasks.data,(o,l)=>(d(),i("div",{class:"bg-white p-4 rounded-lg shadow mt-2 space-y-1 text-gray-600",key:o.id},[e("div",Ne,[e("label",Pe,r(o.ftth_id),1),e("div",null,[e("span",{class:p(["text-xs font-bold px-2.5 py-0.5 rounded items-center justify-center",{"bg-yellow-400":o.status==1,"bg-yellow-500":o.status==3,"bg-green-300":o.status!=1}])},r(s.getStatus(o.status)),3)])]),e("div",Re,[t[28]||(t[28]=e("label",{for:"details",class:"w-full font-bold"}," Description ",-1)),e("p",Ue,r(o.description),1)]),e("span",Ie,[e("div",Oe," Assigned To : "+r(o.assigned_to),1),e("div",Be," Assigned By : "+r(o.incharge),1),e("div",ze," Target Date : "+r(o.target),1)]),e("div",We,[e("div",null,[e("a",{type:"button",onClick:m=>s.editTask(o),href:"#",class:"bg-green-100 text-green-800 text-xs font-medium px-2.5 py-0.5 rounded dark:bg-green-900 dark:text-green-30 items-center justify-center"},t[29]||(t[29]=[e("span",{class:"text-sm"},"Edit",-1),e("i",{class:"fa fa-angle-double-right fa-lg ml-2","aria-hidden":"true"},null,-1)]),8,Ee)])])]))),128))])):n("",!0),u.tasks.total?(d(),i("span",Le,[e("label",Ye,r(u.tasks.data.length)+" Tasks in Current Page. Total Number of Tasks : "+r(u.tasks.total),1)])):n("",!0),u.tasks.links?(d(),i("span",Fe,[E(x,{class:"mt-4",links:u.tasks.links},null,8,["links"])])):n("",!0)])),s.edit?(d(),i("div",Ge,[e("ul",Ke,[e("li",{class:p(["px-2 lg:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",[s.tab==1?"border-b-2 border-indigo-400 -mb-px":"opacity-50"]])},[e("a",{href:"#",onClick:t[7]||(t[7]=o=>s.tabClick(1)),"preserve-state":""},"Genaral")],2),e("li",{class:p(["px-2 lg:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",[s.tab==2?"border-b-2 border-indigo-400 -mb-px":"opacity-50"]])},[e("a",{href:"#",onClick:t[8]||(t[8]=o=>s.tabClick(2)),"preserve-state":""},"Customer Info")],2)])])):n("",!0),e("div",Je,[e("div",{class:p([s.tab==1?"":"hidden"])},[s.edit?(d(),i("div",qe,[t[40]||(t[40]=e("div",{class:"py-2 col-span-1 w-full"},[e("div",{class:"flex md:justify-end"},[e("label",{for:"assigned",class:"block text-sm font-medium text-gray-700 md:mt-2 md:mr-2"}," Code : ")])],-1)),e("div",He,[e("div",Qe,[e("label",Xe,[e("i",{class:p(["fa fa-circle mr-2",{"text-yellow-400":((D=s.form.data)==null?void 0:D.priority)=="normal","text-yellow-600":((A=s.form.data)==null?void 0:A.priority)=="high","text-red-600":((h=s.form.data)==null?void 0:h.priority)=="critical"}])},null,2),G(" "+r((C=s.form.data)==null?void 0:C.code),1)])])]),t[41]||(t[41]=e("div",{class:"py-2 col-span-1 w-full"},[e("div",{class:"flex md:justify-end"},[e("label",{for:"assigned",class:"block text-sm font-medium text-gray-700 md:mt-2 md:mr-2"}," Customer ID : ")])],-1)),e("div",Ze,[e("div",$e,[e("label",et,r((V=s.form.data)==null?void 0:V.ftth_id),1)])]),t[42]||(t[42]=e("div",{class:"py-2 col-span-1 w-full"},[e("div",{class:"flex md:justify-end"},[e("label",{for:"assigned",class:"block text-sm font-medium text-gray-700 md:mt-2 md:mr-2"}," Ticket Type : ")])],-1)),e("div",tt,[e("div",st,[e("label",ot,r((M=s.form.data)==null?void 0:M.type.replace("_"," ")),1)])]),(N=s.form.data)!=null&&N.topic?(d(),i("div",lt,t[30]||(t[30]=[e("div",{class:"flex md:justify-end"},[e("label",{for:"assigned",class:"block text-sm font-medium text-gray-700 md:mt-2 md:mr-2"}," Ticket Topic : ")],-1)]))):n("",!0),(b=s.form.data)!=null&&b.topic?(d(),i("div",at,[e("div",rt,[e("label",dt,r((P=s.form.data)==null?void 0:P.topic.replace("_"," ")),1)])])):n("",!0),t[43]||(t[43]=e("div",{class:"py-2 col-span-1 w-full"},[e("div",{class:"flex md:justify-end"},[e("label",{for:"assigned",class:"block text-sm font-medium text-gray-700 md:mt-2 md:mr-2"}," Ticket Detail : ")])],-1)),e("div",it,[e("div",nt,[e("label",ct,r((R=s.form.data)==null?void 0:R.incident_description),1)])]),t[44]||(t[44]=e("div",{class:"py-2 col-span-1 w-full"},[e("div",{class:"flex md:justify-end"},[e("label",{for:"assigned",class:"block text-sm font-medium text-gray-700 md:mt-2 md:mr-2"}," Ticket Opened At : ")])],-1)),e("div",mt,[e("div",ut,[e("label",ft,r((U=s.form.data)==null?void 0:U.date)+" : "+r((I=s.form.data)==null?void 0:I.time),1)])]),t[45]||(t[45]=e("div",{class:"py-2 col-span-1 w-full"},[e("div",{class:"flex md:justify-end"},[e("label",{for:"assigned",class:"block text-sm font-medium text-gray-700 md:mt-2 md:mr-2"}," Assigned : ")])],-1)),e("div",pt,[e("div",gt,[u.subcons.length!==0?(d(),i("div",yt,[E(g,{"deselect-label":"Selected already",options:u.subcons,"track-by":"id",label:"name",modelValue:s.form.assigned,"onUpdate:modelValue":t[9]||(t[9]=o=>s.form.assigned=o),"allow-empty":!1,multiple:!1},null,8,["options","modelValue"])])):n("",!0),c.$page.props.errors.assigned?(d(),i("p",xt,r(c.$page.props.errors.assigned),1)):n("",!0)])]),t[46]||(t[46]=e("div",{class:"py-2 col-span-1 sm:col-span-1"},[e("div",{class:"flex md:justify-end"},[e("label",{for:"target",class:"block text-sm font-medium text-gray-700 md:mt-2 md:mr-2"}," Target : ")])],-1)),e("div",bt,[e("div",_t,[y(e("input",{type:"date","onUpdate:modelValue":t[10]||(t[10]=o=>s.form.target=o),name:"target",id:"target",class:"form-input focus:ring-indigo-500 focus:border-indigo-500 flex-1 block w-full rounded-md sm:text-sm border-gray-300"},null,512),[[j,s.form.target]])]),c.$page.props.errors.target?(d(),i("p",kt,r(c.$page.props.errors.target),1)):n("",!0)]),t[47]||(t[47]=e("div",{class:"py-2 col-span-1 sm:col-span-1"},[e("div",{class:"flex md:justify-end"},[e("label",{for:"description",class:"block text-sm font-medium text-gray-700 md:mt-2 md:mr-2"}," Description : ")])],-1)),e("div",vt,[e("div",ht,[y(e("textarea",{"onUpdate:modelValue":t[11]||(t[11]=o=>s.form.description=o),name:"description",id:"description",class:"form-input focus:ring-indigo-500 focus:border-indigo-500 flex-1 block w-full rounded-md sm:text-sm border-gray-300"},null,512),[[j,s.form.description]])]),c.$page.props.errors.description?(d(),i("p",wt,r(c.$page.props.errors.description),1)):n("",!0)]),t[48]||(t[48]=e("div",{class:"py-2 col-span-1 sm:col-span-1"},[e("div",{class:"flex md:justify-end"},[e("label",{for:"status",class:"block text-sm font-medium text-gray-700 md:mr-2"}," Status : ")])],-1)),e("div",Ct,[e("div",Tt,[e("label",jt,[y(e("input",{type:"radio","onUpdate:modelValue":t[12]||(t[12]=o=>s.form.status=o),name:"status",value:"1",class:"form-radio text-yellow-500"},null,512),[[L,s.form.status]]),t[31]||(t[31]=e("span",{class:"ml-2"},"WIP",-1))]),e("label",St,[y(e("input",{type:"radio","onUpdate:modelValue":t[13]||(t[13]=o=>s.form.status=o),name:"status",value:"3",class:"form-radio text-red-500"},null,512),[[L,s.form.status]]),t[32]||(t[32]=e("span",{class:"ml-2"},"Pending",-1))]),e("label",Dt,[y(e("input",{type:"radio","onUpdate:modelValue":t[14]||(t[14]=o=>s.form.status=o),name:"status",value:"2",class:"form-radio text-green-500"},null,512),[[L,s.form.status]]),t[33]||(t[33]=e("span",{class:"ml-2"},"Completed",-1))]),e("label",At,[y(e("input",{type:"radio","onUpdate:modelValue":t[15]||(t[15]=o=>s.form.status=o),name:"status",value:"0",class:"form-radio text-indigo-500"},null,512),[[L,s.form.status]]),t[34]||(t[34]=e("span",{class:"ml-2"},"Deleted",-1))])]),c.$page.props.errors.status?(d(),i("p",Vt,r(c.$page.props.errors.status),1)):n("",!0)]),s.form.status==2?(d(),i(W,{key:2},[t[35]||(t[35]=e("div",{class:"py-2 col-span-1 sm:col-span-1"},[e("div",{class:"flex md:justify-end"},[e("label",{for:"target",class:"block text-sm font-medium text-gray-700 md:mt-2 md:mr-2"}," Complete At : ")])],-1)),e("div",Mt,[e("div",Nt,[y(e("input",{type:"date","onUpdate:modelValue":t[16]||(t[16]=o=>s.form.complete_date=o),name:"complete_date",id:"complete_date",class:"form-input focus:ring-indigo-500 focus:border-indigo-500 flex-1 block w-full rounded-md sm:text-sm border-gray-300"},null,512),[[j,s.form.complete_date]]),c.$page.props.errors.complete_date?(d(),i("p",Pt,r(c.$page.props.errors.complete_date)+">",1)):n("",!0)])])],64)):n("",!0),s.form.status==3?(d(),i(W,{key:3},[t[36]||(t[36]=e("div",{class:"py-2 col-span-1"},[e("div",{class:"flex md:justify-end"},[e("label",{for:"root_causes_id",class:"block text-sm font-medium text-gray-700 md:mt-2 md:mr-2"}," Root Cause for Pending : ")])],-1)),e("div",Rt,[((O=u.pendingRootCause)==null?void 0:O.length)!==0?(d(),i("div",Ut,[E(g,{"deselect-label":"Selected already",options:u.pendingRootCause,"track-by":"id",label:"name",modelValue:s.form.root_causes,"onUpdate:modelValue":[t[17]||(t[17]=o=>s.form.root_causes=o),t[18]||(t[18]=o=>s.form.root_causes_id=o==null?void 0:o.id)],"allow-empty":!1,multiple:!1},null,8,["options","modelValue"])])):n("",!0),c.$page.props.errors.root_causes_id?(d(),i("p",It,r(c.$page.props.errors.root_causes_id),1)):n("",!0)]),t[37]||(t[37]=e("div",{class:"py-2 col-span-1"},[e("div",{class:"flex md:justify-end"},[e("label",{for:"sub_root_causes",class:"block text-sm font-medium text-gray-700 md:mt-2 md:mr-2"},"Sub Root Cause : ")])],-1)),e("div",Ot,[((T=s.subRCA)==null?void 0:T.length)!==0?(d(),i("div",Bt,[E(g,{"deselect-label":"Selected already",options:s.subRCA,"track-by":"id",label:"name",modelValue:s.form.sub_root_causes,"onUpdate:modelValue":[t[19]||(t[19]=o=>s.form.sub_root_causes=o),t[20]||(t[20]=o=>s.form.sub_root_causes_id=o==null?void 0:o.id)],"allow-empty":!1,multiple:!1},null,8,["options","modelValue"])])):n("",!0),c.$page.props.errors.sub_root_causes_id?(d(),i("p",zt,r(c.$page.props.errors.sub_root_causes_id),1)):n("",!0)])],64)):n("",!0),t[49]||(t[49]=e("div",{class:"py-2 col-span-1 sm:col-span-1"},[e("div",{class:"flex md:justify-end"},[e("label",{for:"comment",class:"block text-sm font-medium text-gray-700 md:mt-2 md:mr-2"}," Comments : ")])],-1)),e("div",Wt,[e("div",Et,[y(e("textarea",{"onUpdate:modelValue":t[21]||(t[21]=o=>s.form.comment=o),name:"comment",id:"comment",class:"form-input focus:ring-indigo-500 focus:border-indigo-500 flex-1 block w-full rounded-md sm:text-sm border-gray-300"},null,512),[[j,s.form.comment]])]),c.$page.props.errors.comment?(d(),i("p",Lt,r(c.$page.props.errors.comment),1)):n("",!0)]),e("div",Yt,[e("a",{href:"#",onClick:t[22]||(t[22]=o=>s.saveTask()),class:"text-center px-4 py-3 bg-green-500 border border-transparent rounded-sm font-semibold text-xs text-white uppercase tracking-widest hover:bg-green-400 active:bg-green-600 focus:outline-none focus:border-gray-900 disabled:opacity-25 transition mr-1"},[s.editMode?n("",!0):(d(),i("span",Ft,"Save Task")),s.editMode?(d(),i("span",Gt,"Update Task")):n("",!0),t[38]||(t[38]=e("i",{class:"fas fa-save opacity-75 ml-1 text-sm"},null,-1))]),e("a",{href:"#",onClick:t[23]||(t[23]=o=>s.cancelTask()),class:"text-center px-4 py-3 bg-gray-500 border border-transparent rounded-sm font-semibold text-xs text-white uppercase tracking-widest hover:bg-gray-400 active:bg-gray-600 focus:outline-none focus:border-gray-900 disabled:opacity-25 transition"},t[39]||(t[39]=[G("Cancel"),e("i",{class:"fas fa-save opacity-75 ml-1 text-sm"},null,-1)]))])])):n("",!0)],2),e("div",{class:p([s.tab==2?"":"hidden"])},[s.selected_id&&s.tab==2?(d(),K(v,{key:0,data:s.selected_id},null,8,["data"])):n("",!0)],2)])])]),s.loading?(d(),i("div",Kt,t[50]||(t[50]=[e("div",{class:"loader ease-linear rounded-full border-4 border-t-4 border-gray-200 h-12 w-12 mb-4"},null,-1),e("h2",{class:"text-center text-white text-xl font-semibold"},"Loading...",-1),e("p",{class:"w-1/3 text-center text-white"},"This may take a few seconds, please don't close this page.",-1)]))):n("",!0)]}),_:1})}const es=ae(re,[["render",Jt]]);export{es as default};
