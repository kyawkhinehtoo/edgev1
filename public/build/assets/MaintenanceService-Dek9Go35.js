import{A as V}from"./AppLayout-BCgbjDX2.js";import{P as U}from"./Pagination-D__8PWN3.js";import{h as j,r as w,y as S,c as E,w as M,N as y,o as a,a as s,j as n,k as f,O as T,d,F as B,g as D,f as _,i as O,t as c,M as k,l as A,e as x,z as C,b as z,n as F}from"./app-CYVUqJWl.js";import{_ as K}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./DropdownLink-C5mF873f.js";const L={name:"maintenance-service",components:{AppLayout:V,Pagination:U},props:{services:Object,errors:Object},setup(N){const e=j({id:null,name:null,short_code:null,sla_hours:null,fees:null,currency:"mmk",status:!0}),l=w("");let t=w(!1),p=w(!1);function m(){e.id=null,e.name=null,e.short_code=null,e.sla_hours=null,e.fees=null,e.currency="mmk",e.status=!0}function b(r){r=r||window.event;var i=r.which?r.which:r.keyCode;if(i>31&&(i<48||i>57)&&i!==46)r.preventDefault();else return!0}function h(){t.value?(e._method="PUT",y.post("/maintenance-service/"+e.id,e,{onSuccess:r=>{u(),m(),Toast.fire({icon:"success",title:r.props.flash.message})},onError:r=>{console.log("error ..",r)}})):(e._method="POST",y.post("/maintenance-service",e,{preserveState:!0,onSuccess:r=>{u(),m(),Toast.fire({icon:"success",title:r.props.flash.message})},onError:r=>{console.log("error ..",r)}}))}function o(r){e.id=r.id,e.name=r.name,e.short_code=r.short_code,e.sla_hours=r.sla_hours,e.fees=r.fees,e.currency=r.currency||"mmk",e.status=r.status==1,t.value=!0,g()}function v(r){confirm("Are you sure want to remove?")&&(r._method="DELETE",y.post("/maintenance-service/"+r.id,r,{preserveState:!0,onSuccess:i=>{u(),m(),Toast.fire({icon:"success",title:i.props.flash.message})},onError:i=>{u(),console.log("error ..",i)}}),u(),m())}function g(){p.value=!0}const u=()=>{p.value=!1,m(),t.value=!1};return{form:e,submit:h,editMode:t,isOpen:p,openModal:g,closeModal:u,edit:o,deleteRow:v,searchService:()=>{y.get("/maintenance-service",{service:l.value},{preserveState:!0})},isNumber:b,search:l}}},P={class:"py-2"},H={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},R={class:"flex justify-between space-x-2 items-end mb-2 px-1 md:px-0"},I={class:"relative flex flex-wrap z-0"},q={key:0,class:"bg-white overflow-hidden shadow-xl sm:rounded-lg"},G={class:"min-w-full divide-y divide-gray-200"},J={class:"bg-white divide-y divide-gray-200 text-sm"},Q={class:"px-3 py-3 text-left text-md font-medium whitespace-nowrap"},W={class:"px-3 py-3 text-left text-md font-medium whitespace-nowrap"},X={class:"px-3 py-3 text-left text-md font-medium whitespace-nowrap"},Y={class:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800"},Z={class:"px-3 py-3 text-left text-md font-medium whitespace-nowrap"},$={class:"px-3 py-3 text-left text-md font-medium whitespace-nowrap"},ee={class:"uppercase"},se={class:"px-3 py-3 text-md font-medium whitespace-nowrap text-right"},te=["onClick"],oe=["onClick"],re={key:0,ref:"isOpen",class:"fixed z-10 inset-0 overflow-y-auto ease-out duration-400"},ne={class:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0"},le={class:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full",role:"dialog","aria-modal":"true","aria-labelledby":"modal-headline"},ie={class:"shadow sm:rounded-md sm:overflow-hidden"},ae={class:"px-4 py-5 bg-white space-y-6 sm:p-6"},de={class:"col-span-1 sm:col-span-1"},ce={class:"mt-1 flex rounded-md shadow-sm"},me={class:"col-span-1 sm:col-span-1"},ue={class:"mt-1 flex rounded-md shadow-sm"},fe={class:"col-span-1 sm:col-span-1"},xe={class:"mt-1 flex rounded-md shadow-sm"},pe={class:"col-span-1 sm:col-span-1"},ge={class:"mt-1 flex rounded-md shadow-sm"},ye={class:"inline-flex items-center px-3 rounded-r-md border border-l-0 border-gray-300 bg-gray-50 text-gray-500 text-sm uppercase"},be={class:"col-span-1 sm:col-span-1"},he={class:"mt-1 flex space-x-4"},ve={class:"flex items-center"},we={class:"flex items-center"},_e={class:"flex items-center"},ke={class:"py-2"},Se={class:"mt-1 flex"},Me={key:0,class:"flex-auto items-center ml-1"},Ce={key:1,class:"flex-auto items-center ml-1"},Ne={class:"px-4 py-3 bg-gray-50 text-right sm:px-6"},Ve={class:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse"},Ue={class:"flex w-full rounded-md shadow-sm sm:ml-3 sm:w-auto"},je={type:"submit",class:"inline-flex justify-center w-full px-4 py-2 bg-gray-800 border border-gray-300 rounded-md font-medium text-base leading-6 sm:text-sm text-white uppercase tracking-widest hover:bg-gray-700 active:bg-gray-900 focus:outline-none focus:border-gray-900 focus:ring focus:ring-gray-300 disabled:opacity-25 transition ease-in-out duration-150"},Ee={class:"flex w-full rounded-md shadow-sm sm:ml-3 sm:w-auto"},Te={type:"submit",class:"inline-flex justify-center w-full px-4 py-2 bg-gray-800 border border-gray-300 rounded-md font-medium text-base leading-6 sm:text-sm text-white uppercase tracking-widest hover:bg-gray-700 active:bg-gray-900 focus:outline-none focus:border-gray-900 focus:ring focus:ring-gray-300 disabled:opacity-25 transition ease-in-out duration-150"},Be={class:"mt-3 flex w-full rounded-md shadow-sm sm:mt-0 sm:w-auto"},De={key:1};function Oe(N,e,l,t,p,m){const b=S("pagination"),h=S("app-layout");return a(),E(h,null,{header:M(()=>e[15]||(e[15]=[s("h2",{class:"font-semibold text-xl text-white leading-tight"},"Maintenance Services Setup",-1)])),default:M(()=>[s("div",P,[s("div",H,[s("div",R,[s("div",I,[e[16]||(e[16]=s("span",{class:"z-10 h-full leading-snug font-normal text-center text-gray-300 absolute bg-transparent rounded text-base items-center justify-center w-8 pl-3 py-3"},[s("i",{class:"fas fa-search"})],-1)),n(s("input",{type:"text",placeholder:"Search here...",class:"border-0 px-3 py-3 placeholder-gray-300 text-gray-600 relative bg-white rounded text-sm shadow outline-none focus:outline-none focus:ring w-full pl-10",id:"search","onUpdate:modelValue":e[0]||(e[0]=o=>t.search=o),onKeyup:e[1]||(e[1]=T((...o)=>t.searchService&&t.searchService(...o),["enter"]))},null,544),[[f,t.search]])]),s("button",{onClick:e[2]||(e[2]=(...o)=>t.openModal&&t.openModal(...o)),class:"inline-flex items-center px-4 py-2 bg-gray-800 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-gray-700 active:bg-gray-900 focus:outline-none focus:border-gray-900 focus:ring focus:ring-gray-300 disabled:opacity-25 transition"},"Create")]),l.services.data?(a(),d("div",q,[s("table",G,[e[18]||(e[18]=s("thead",{class:"bg-gray-50"},[s("tr",null,[s("th",{scope:"col",class:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," No. "),s("th",{scope:"col",class:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Service Name"),s("th",{scope:"col",class:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Short Code"),s("th",{scope:"col",class:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," SLA Hours"),s("th",{scope:"col",class:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Fees"),s("th",{scope:"col",class:"relative px-6 py-3"},[s("span",{class:"sr-only"},"Action")])])],-1)),s("tbody",J,[(a(!0),d(B,null,D(l.services.data,(o,v)=>(a(),d("tr",{key:o.id,class:F({"text-gray-400":!o.status})},[s("td",Q,c(l.services.from+v),1),s("td",W,c(o.name),1),s("td",X,[s("span",Y,c(o.short_code),1)]),s("td",Z,c(o.sla_hours)+" hours ",1),s("td",$,[_(c(o.fees)+" ",1),s("span",ee,c(o.currency),1)]),s("td",se,[s("a",{href:"#",onClick:g=>t.edit(o),class:"text-indigo-600 hover:text-indigo-900"},"Edit",8,te),e[17]||(e[17]=_(" | ")),s("a",{href:"#",onClick:g=>t.deleteRow(o),class:"text-red-600 hover:text-red-900"},"Delete",8,oe)])],2))),128))])]),t.isOpen?(a(),d("div",re,[s("div",ne,[e[28]||(e[28]=s("div",{class:"fixed inset-0 transition-opacity"},[s("div",{class:"absolute inset-0 bg-gray-500 opacity-75"})],-1)),e[29]||(e[29]=_(" â€‹ ")),s("div",le,[s("form",{onSubmit:e[14]||(e[14]=O((...o)=>t.submit&&t.submit(...o),["prevent"]))},[s("div",ie,[s("div",ae,[s("div",de,[e[19]||(e[19]=s("label",{for:"name",class:"block text-md font-medium text-gray-700"},"Service Name",-1)),s("div",ce,[n(s("input",{type:"text",name:"name",id:"name","onUpdate:modelValue":e[3]||(e[3]=o=>t.form.name=o),class:"focus:ring-indigo-500 focus:border-indigo-500 flex-1 block w-full rounded-md sm:text-sm border-gray-300",placeholder:"e.g., Basic Maintenance"},null,512),[[f,t.form.name]])])]),s("div",me,[e[20]||(e[20]=s("label",{for:"short_code",class:"block text-md font-medium text-gray-700"},"Short Code",-1)),s("div",ue,[n(s("input",{type:"text",name:"short_code",id:"short_code","onUpdate:modelValue":e[4]||(e[4]=o=>t.form.short_code=o),class:"focus:ring-indigo-500 focus:border-indigo-500 flex-1 block w-full rounded-md sm:text-sm border-gray-300",placeholder:"e.g., BM"},null,512),[[f,t.form.short_code]])])]),s("div",fe,[e[21]||(e[21]=s("label",{for:"sla_hours",class:"block text-md font-medium text-gray-700"},"SLA Hours",-1)),s("div",xe,[n(s("input",{type:"number",name:"sla_hours",id:"sla_hours","onUpdate:modelValue":e[5]||(e[5]=o=>t.form.sla_hours=o),onKeypress:e[6]||(e[6]=(...o)=>t.isNumber&&t.isNumber(...o)),class:"focus:ring-indigo-500 focus:border-indigo-500 flex-1 block w-full rounded-md sm:text-sm border-gray-300",placeholder:"e.g., 24"},null,544),[[f,t.form.sla_hours]])])]),s("div",pe,[e[22]||(e[22]=s("label",{for:"fees",class:"block text-md font-medium text-gray-700"},"Fees",-1)),s("div",ge,[n(s("input",{type:"number",name:"fees",id:"fees","onUpdate:modelValue":e[7]||(e[7]=o=>t.form.fees=o),onKeypress:e[8]||(e[8]=(...o)=>t.isNumber&&t.isNumber(...o)),class:"focus:ring-indigo-500 focus:border-indigo-500 flex-1 block w-full rounded-none rounded-l-md sm:text-sm border-gray-300",placeholder:"e.g., 5000"},null,544),[[f,t.form.fees]]),s("span",ye,c(t.form.currency),1)])]),s("div",be,[e[26]||(e[26]=s("label",{for:"currency",class:"block text-md font-medium text-gray-700"},"Currency",-1)),s("div",he,[s("div",ve,[n(s("input",{id:"currency-baht",name:"currency",type:"radio","onUpdate:modelValue":e[9]||(e[9]=o=>t.form.currency=o),value:"baht",class:"focus:ring-indigo-500 h-4 w-4 text-indigo-600 border-gray-300"},null,512),[[k,t.form.currency]]),e[23]||(e[23]=s("label",{for:"currency-baht",class:"ml-3 block text-sm font-medium text-gray-700"}," TBH ",-1))]),s("div",we,[n(s("input",{id:"currency-usd",name:"currency",type:"radio","onUpdate:modelValue":e[10]||(e[10]=o=>t.form.currency=o),value:"usd",class:"focus:ring-indigo-500 h-4 w-4 text-indigo-600 border-gray-300"},null,512),[[k,t.form.currency]]),e[24]||(e[24]=s("label",{for:"currency-usd",class:"ml-3 block text-sm font-medium text-gray-700"}," USD ",-1))]),s("div",_e,[n(s("input",{id:"currency-mmk",name:"currency",type:"radio","onUpdate:modelValue":e[11]||(e[11]=o=>t.form.currency=o),value:"mmk",class:"focus:ring-indigo-500 h-4 w-4 text-indigo-600 border-gray-300"},null,512),[[k,t.form.currency]]),e[25]||(e[25]=s("label",{for:"currency-mmk",class:"ml-3 block text-sm font-medium text-gray-700"}," MMK ",-1))])])]),s("div",ke,[e[27]||(e[27]=s("label",{for:"status",class:"block text-md font-medium text-gray-700"},"Status",-1)),s("div",Se,[n(s("input",{type:"checkbox",class:"focus:ring-indigo-500 h-4 w-4 text-indigo-600 border-gray-300 rounded mt-1",name:"status","onUpdate:modelValue":e[12]||(e[12]=o=>t.form.status=o),value:"true"},null,512),[[A,t.form.status]]),t.form.status==!0?(a(),d("label",Me,"Enabled")):x("",!0),t.form.status==!1?(a(),d("label",Ce,"Disabled")):x("",!0)])])]),s("div",Ne,[s("div",Ve,[s("span",Ue,[n(s("button",je,"Save",512),[[C,!t.editMode]])]),s("span",Ee,[n(s("button",Te,"Update",512),[[C,t.editMode]])]),s("span",Be,[s("button",{onClick:e[13]||(e[13]=(...o)=>t.closeModal&&t.closeModal(...o)),type:"button",class:"inline-flex justify-center w-full rounded-md border border-gray-300 px-4 py-2 bg-white text-base leading-6 font-medium text-gray-700 shadow-sm hover:text-gray-500 focus:outline-none focus:border-blue-300 focus:shadow-outline-blue transition ease-in-out duration-150 sm:text-sm sm:leading-5"},"Cancel")])])])])],32)])])],512)):x("",!0)])):x("",!0),l.services.links?(a(),d("span",De,[z(b,{class:"mt-6",links:l.services.links},null,8,["links"])])):x("",!0)])])]),_:1})}const He=K(L,[["render",Oe],["__scopeId","data-v-cf62f9b5"]]);export{He as default};
