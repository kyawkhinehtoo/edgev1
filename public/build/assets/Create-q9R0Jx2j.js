import{A as w}from"./AppLayout-CiiA6I2_.js";import{m as h,T as k,z as m,c as x,w as p,o as l,a as o,b as v,f as D,i as P,e as i,d as a,t as n,j as c,k as f}from"./app-CE8isyGN.js";import{M as V}from"./vue3-multiselect.umd.min-B7FIFXCk.js";/* empty css                                                                  */import{_ as O}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./DropdownLink-C75W12rT.js";const N={components:{AppLayout:w,Link:h,Multiselect:V},props:{pops:{type:Array,required:!0},popDevices:{type:Array,required:!0}},setup(){return{form:k({pop_id:null,pop_device:null,pop_device_id:null,name:null,location:"",description:""})}},data(){return{filteredPopDevices:[],portNumbers:Array.from({length:16},(r,e)=>e+1)}},methods:{updatePopDeviceIds(r){this.form.pop_device_id=r.map(e=>e.id)},loadPopDevices(r){r?(this.filteredPopDevices=this.popDevices.filter(e=>e.pop_id===r),this.form.pop_device=null,this.form.pop_device_id=null):this.filteredPopDevices=[]},submit(){this.form.post(route("odfs.store"),{onSuccess:r=>{Toast.fire({icon:"success",title:r.props.flash.message})}})}}},C={class:"py-12"},U={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},A={class:"bg-white overflow-hidden shadow-xl sm:rounded-lg"},B={class:"p-6 bg-white border-b border-gray-200"},F={class:"mb-4"},L={class:"mb-4"},S={class:"flex gap-4"},M={key:0,class:"text-red-500 text-xs mt-1"},T={class:"mb-4"},j={key:0,class:"text-red-500 text-xs mt-1"},q={class:"mb-4"},E={key:0,class:"text-red-500 text-xs mt-1"},I={class:"mb-4"},z={key:0,class:"text-red-500 text-xs mt-1"};function G(r,e,u,t,_,d){const y=m("Link"),b=m("multiselect"),g=m("app-layout");return l(),x(g,null,{header:p(()=>e[7]||(e[7]=[o("h2",{class:"font-semibold text-xl text-white leading-tight"},"Create ODF",-1)])),default:p(()=>[o("div",C,[o("div",U,[o("div",A,[o("div",B,[o("div",F,[v(y,{href:r.route("odfs.index"),class:"text-indigo-600 hover:text-indigo-900"},{default:p(()=>e[8]||(e[8]=[o("i",{class:"fas fa-arrow-left"},null,-1),D(" Back to ODFs ")])),_:1},8,["href"])]),o("form",{onSubmit:e[6]||(e[6]=P((...s)=>d.submit&&d.submit(...s),["prevent"]))},[o("div",L,[e[9]||(e[9]=o("label",{class:"block text-gray-700 text-sm font-bold mb-2"},"POP Device",-1)),o("div",S,[u.pops?(l(),x(b,{key:0,options:u.pops,"track-by":"id",label:"site_name",placeholder:"Select POP",searchable:!0,"allow-empty":!1,class:"w-1/2","onUpdate:modelValue":[e[0]||(e[0]=s=>d.loadPopDevices(s==null?void 0:s.id)),e[1]||(e[1]=s=>t.form.pop_id=s)],modelValue:t.form.pop_id},null,8,["options","modelValue"])):i("",!0),v(b,{modelValue:t.form.pop_device,"onUpdate:modelValue":[e[2]||(e[2]=s=>t.form.pop_device=s),d.updatePopDeviceIds],options:_.filteredPopDevices,"track-by":"id",label:"device_name",placeholder:"Select POP Device",searchable:!0,"allow-empty":!1,multiple:!0,class:"w-1/2",disabled:!t.form.pop_id},null,8,["modelValue","options","disabled","onUpdate:modelValue"])]),t.form.errors.pop_device_id?(l(),a("div",M,n(t.form.errors.pop_device_id),1)):i("",!0)]),o("div",T,[e[10]||(e[10]=o("label",{class:"block text-gray-700 text-sm font-bold mb-2"},"ODF Name",-1)),c(o("input",{"onUpdate:modelValue":e[3]||(e[3]=s=>t.form.name=s),type:"text",name:"name",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",placeholder:"Enter ODF Name"},null,512),[[f,t.form.name]]),t.form.errors.name?(l(),a("div",j,n(t.form.errors.name),1)):i("",!0)]),o("div",q,[e[11]||(e[11]=o("label",{class:"block text-gray-700 text-sm font-bold mb-2"},"Location",-1)),c(o("input",{"onUpdate:modelValue":e[4]||(e[4]=s=>t.form.location=s),type:"text",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"},null,512),[[f,t.form.location]]),t.form.errors.location?(l(),a("div",E,n(t.form.errors.location),1)):i("",!0)]),o("div",I,[e[12]||(e[12]=o("label",{class:"block text-gray-700 text-sm font-bold mb-2"},"Description",-1)),c(o("textarea",{"onUpdate:modelValue":e[5]||(e[5]=s=>t.form.description=s),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"},null,512),[[f,t.form.description]]),t.form.errors.description?(l(),a("div",z,n(t.form.errors.description),1)):i("",!0)]),e[13]||(e[13]=o("div",{class:"flex items-center justify-between"},[o("button",{type:"submit",class:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline"}," Create ODF ")],-1))],32)])])])])]),_:1})}const X=O(N,[["render",G]]);export{X as default};
