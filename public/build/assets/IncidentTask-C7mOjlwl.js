import{A as Q,N as H,C as J}from"./NoData-DensM_e6.js";import{P as X}from"./Pagination-BmN6hffy.js";import{i as Z,r as f,C as $,Q as ee,I as te,p as O,c as K,w as se,N as B,o as i,a as e,d as n,q as y,v as z,M as oe,t as r,n as p,e as d,F,g as q,b as L,f as G,L as W}from"./app-PwYlAjyr.js";import{M as le}from"./vue3-multiselect.umd.min-NQ2xxuCv.js";import{_ as ae}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./DropdownLink-9zd8RCof.js";const re={name:"IncidentTask",components:{AppLayout:Q,Pagination:X,Multiselect:le,NoData:H,Link:Z,CustomerDetail:J},props:{tasks:Object,errors:Object,task_write:Boolean,user:Object,noc:Object,critical:Number,high:Number,normal:Number,role:Object,subcons:Object,subcon:Object,pendingRootCause:Object,subRootCause:Object},setup(m){const t=f("");f("");let u=f(!1),s=f(!1),k=f(!1),j=f(""),x=f(1),g=f("my"),v=f([]);const E=f({date:"YYYY-MM-DD",month:"MMM"});f(!1),$("user",m.user);const a=ee({id:null,code:null,priority:null,assigned:null,target:null,status:1,description:null,comment:null,incident_id:null,data:null,root_causes:null,sub_root_causes:null,root_causes_id:null,sub_root_causes_id:null});function w(){a.id=null,a.code=null,a.priority=null,a.assigned=null,a.target=null,a.status=1,a.description=null,a.comment=null,a.incident_id=m.data,a.root_causes=null,a.sub_root_causes=null,a.root_causes_id=null,a.sub_root_causes_id=null,j.value=null}function S(l){a.id=l.id,a.code=l.code,a.priority=l.priority,a.assigned=m.subcons.filter(c=>c.id==l.assigned)[0],a.description=l.description,a.incident_id=l.incident_id,a.comment=l.comment,a.status=l.status,a.target=l.target,a.data=l,a.root_causes=l.root_causes_id?m.pendingRootCause.filter(c=>c.id==l.root_causes_id)[0]:null,a.sub_root_causes=null,a.root_causes_id=l.root_causes_id,a.sub_root_causes_id=l.sub_root_causes_id,k.value=!0,s.value=!0,j.value=l.incident_id}function A(l){l.status!=2?Toast.fire({title:"Are you sure?",text:"Do you want to mark as completed !",icon:"warning",timer:!1,position:"center",showCancelButton:!0,dangerMode:!0}).then(c=>{c.isConfirmed&&h(l,2)}):Toast.fire({title:"Are you sure?",text:"Do you want to mark as WIP !",icon:"warning",timer:!1,position:"center",showCancelButton:!0,dangerMode:!0}).then(c=>{c.isConfirmed&&h(l,1)})}function h(l,c){a.id=l.id,a.assigned=m.subcons.filter(_=>_.id==l.assigned)[0],a.description=l.description,a.incident_id=l.incident_id,a.status=c,a.target=l.target,k.value=!0,s.value=!1,C()}function C(){k.value!=!0?(a._method="POST",B.post("/addTask",a,{preserveState:!0,onSuccess:l=>{s.value=!1,w(),Toast.fire({icon:"success",title:l.props.flash.message})},onError:l=>{console.log("error ..",l)}})):(a._method="PUT",B.post("/editTask/"+a.id,a,{onSuccess:l=>{s.value=!1,k.value=!1,w(),Toast.fire({icon:"success",title:l.props.flash.message})},onError:l=>{console.log("error ..",l)}}))}function D(){s.value=!1,preserveState=!0}function V(l){let c="WIP";return l==0?c="Deleted":l==1?c="WIP":l==2?c="Completed":l==3&&(c="Pending"),c}function M(){B.get("/mytask/",{keyword:t.value,status:x.value,task:g.value},{preserveState:!0})}function b(){let l="/mytask/";t.value!=null&&(l=l+"?keyword="+t.value),x.value!=""&&(l=l+"&status="+x.value),g.value!=""&&(l=l+"&task="+g.value),B.get(l,{keyword:t.value},{preserveState:!0})}function N(l){x.value=l,b()}function P(){g.value="my",b()}function R(){g.value="all",b()}const I=l=>{let c=m.subcons.filter(_=>_.id==l)[0];return c?c.name:""};function U(l){var _;v.value=[];let c=m.pendingRootCause.filter(Y=>Y.id==l.id);v.value=(_=c[0])==null?void 0:_.sub_root_causes,a.sub_root_causes_id&&(a.sub_root_causes=v.value.filter(Y=>Y.id==a.sub_root_causes_id)[0],a.sub_root_causes||(a.sub_root_causes_id=null))}te(()=>a.root_causes,l=>{l&&U(l)});const T=f(1);function o(l){T.value=l}return{search:t,loading:u,form:a,formatter:E,edit:s,editMode:k,search_status:x,task_user:g,getName:I,getStatus:V,editTask:S,completeIt:h,saveTask:C,cancelTask:D,completeTask:A,searchTask:M,goMyTasks:P,goAllTasks:R,changeStatus:b,subRCA:v,goSearch:N,tabClick:o,tab:T,selected_id:j}}},ie={class:"py-1"},ne={class:"mx-auto sm:px-6 lg:px-8"},de={key:0,class:"grid grid-cols-1 md:grid-cols-3 gap-2 py-2 w-full justify-items-end"},ce={class:"flex w-full"},me={class:"flex w-full items-center justify-end"},ue={class:"mr-3 text-sm font-medium text-gray-700"},fe={class:"inline-flex relative cursor-pointer"},pe=["checked"],ge={class:"flex w-full"},ye={key:1},xe={key:0,class:"hidden md:block"},be={class:"min-w-full divide-y divide-gray-200 table-auto"},_e={class:"bg-white divide-y divide-gray-200 text-sm w-full text-left"},ke={class:"px-2 py-3 whitespace-nowrap"},ve={class:"px-6 py-3 whitespace-nowrap"},he={class:"px-6 py-3 whitespace-nowrap"},we={class:"px-6 py-3 whitespace-nowrap"},Ce={class:"px-6 py-3 whitespace-nowrap"},Te={class:"px-6 py-3 whitespace-nowrap"},je={class:"px-6 py-3 whitespace-nowrap"},Se={class:"px-6 py-3 whitespace-nowrap"},Ae={class:"px-6 py-3 whitespace-nowrap"},De=["onClick"],Ve={key:1,class:"grid grid-cols-1 sm:grid-cols-2 gap-2 md:hidden"},Me={class:"flex items-center justify-between space-x-2 text-sm"},Ne={class:"font-bold"},Pe={class:"text-sm text-gray-600"},Re={class:"font-sm p-2 capitalize"},Ie={class:"mt-4"},Ue={class:"text-xs text-gray-700"},Oe={class:"text-xs text-gray-700"},Be={class:"text-xs text-gray-700"},ze={class:"flex flex-wrap justify-end"},Le=["onClick"],We={key:2,class:"w-full block mt-4"},Ee={class:"text-xs text-gray-600"},Ye={key:3},Fe={key:2,class:"inline-flex w-full bg-gray-50 rounded-t-lg"},Ge={id:"tabs",class:"flex"},Ke={id:"tab-contents"},qe={key:0,class:"grid grid-cols-1 md:grid-cols-4 gap-2 w-full bg-white p-4"},Qe={class:"md:py-2 md:col-span-3 col-span-1"},He={class:"flex"},Je={for:"ftth_id",class:"block text-sm font-bold text-gray-700 md:mt-2 md:mr-2"},Xe={class:"md:py-2 md:col-span-3 col-span-1"},Ze={class:"flex"},$e={for:"ftth_id",class:"block text-sm font-bold text-gray-700 md:mt-2 md:mr-2"},et={class:"md:py-2 md:col-span-3 col-span-1"},tt={class:"flex"},st={for:"type",class:"block text-sm font-bold text-gray-700 md:mt-2 md:mr-2 capitalize"},ot={key:0,class:"py-2 col-span-1 w-full"},lt={key:1,class:"md:py-2 md:col-span-3 col-span-1"},at={class:"flex"},rt={for:"type",class:"block text-sm font-bold text-gray-700 md:mt-2 md:mr-2 capitalize"},it={class:"md:py-2 md:col-span-3 col-span-1"},nt={class:"flex"},dt={for:"type",class:"block text-sm font-bold text-gray-700 md:mt-2 md:mr-2 whitespace-normal"},ct={class:"md:py-2 md:col-span-3 col-span-1"},mt={class:"flex"},ut={for:"type",class:"block text-sm font-bold text-gray-700 md:mt-2 md:mr-2 whitespace-normal"},ft={class:"md:py-2 md:col-span-3 col-span-1"},pt={class:"flex rounded-md shadow-sm"},gt={key:0,class:"flex rounded-md shadow-sm w-full"},yt={key:1,class:"mt-2 text-sm text-red-500"},xt={class:"md:py-2 col-span-1 md:col-span-3"},bt={class:"flex rounded-md shadow-sm"},_t={key:0,class:"mt-2 text-sm text-red-500"},kt={class:"md:py-2 col-span-1 md:col-span-3"},vt={class:"flex rounded-md shadow-sm"},ht={key:0,class:"mt-2 text-sm text-red-500"},wt={class:"md:py-2 col-span-1 md:col-span-3"},Ct={class:"flex gap-4"},Tt={class:"inline-flex items-center"},jt={class:"inline-flex items-center"},St={class:"inline-flex items-center"},At={class:"inline-flex items-center"},Dt={key:0,class:"mt-2 text-sm text-red-500"},Vt={class:"py-2 col-span-1 md:col-span-3"},Mt={key:0,class:"flex rounded-md shadow-sm w-full"},Nt={key:1,class:"mt-2 text-sm text-red-500"},Pt={class:"py-2 col-span-1 md:col-span-3"},Rt={key:0,class:"flex rounded-md shadow-sm w-full"},It={key:1,class:"mt-2 text-sm text-red-500"},Ut={class:"md:py-2 col-span-1 md:col-span-3"},Ot={class:"flex rounded-md shadow-sm"},Bt={key:0,class:"mt-2 text-sm text-red-500"},zt={class:"col-span-1 md:col-span-4 flex md:justify-end justify-between mt-4"},Lt={key:0},Wt={key:1},Et={key:0,"wire:loading":"",class:"fixed top-0 left-0 right-0 bottom-0 w-full h-screen z-50 overflow-hidden bg-gray-700 opacity-75 flex flex-col items-center justify-center"};function Yt(m,t,u,s,k,j){const x=O("pagination"),g=O("multiselect"),v=O("customer-detail"),E=O("app-layout");return i(),K(E,null,{default:se(()=>{var a,w,S,A,h,C,D,V,M,b,N,P,R,I,U,T;return[e("div",ie,[e("div",ne,[s.edit?d("",!0):(i(),n("div",de,[e("div",ce,[t[23]||(t[23]=e("span",{class:"z-10 mt-1 leading-snug font-normal text-center text-blueGray-300 absolute bg-transparent rounded text-base items-center justify-center w-8 pl-3 py-2"},[e("i",{class:"fas fa-search"})],-1)),y(e("input",{type:"text",placeholder:"ID/Description",class:"pl-10 pr-12 py-2.5 w-full rounded-lg overflow-hidden text-sm text-gray-700 placeholder-gray-400 transition-colors bg-white border border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-500 focus:ring-opacity-10 focus:outline-none dark:bg-gray-800 dark:border-gray-700 dark:text-gray-100 dark:placeholder-gray-500 dark:focus:border-indigo-500 dark:focus:ring-opacity-20",id:"search",tabindex:"1","onUpdate:modelValue":t[0]||(t[0]=o=>s.search=o),onKeyup:t[1]||(t[1]=oe((...o)=>s.searchTask&&s.searchTask(...o),["enter"]))},null,544),[[z,s.search]])]),e("div",me,[e("span",ue,r(s.task_user==="my"?"My Tasks":"All Tasks"),1),e("label",fe,[e("input",{type:"checkbox",class:"sr-only peer",checked:s.task_user==="all",onChange:t[2]||(t[2]=o=>s.task_user==="my"?s.goAllTasks():s.goMyTasks())},null,40,pe),t[24]||(t[24]=e("div",{class:"w-14 h-8 bg-gray-400 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-6 peer-checked:after:border-white after:content-[''] after:absolute after:top-[4px] after:left-[4px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-6 after:w-6 after:transition-all peer-checked:bg-indigo-600 shadow-sm"},null,-1))])]),e("div",ge,[e("button",{class:p(["w-32 btn py-3 px-8 bg-gray-400 rounded rounded-r-none focus:ring-0 focus:border-transparent focus:outline-none shadow-lg text-gray-50 text-xs font-semibold uppercase border-r-gray-300 border-r",{"bg-yellow-300 text-gray-600 font-bold":s.search_status==1}]),onClick:t[3]||(t[3]=o=>s.goSearch(1))},"WIP",2),e("button",{class:p(["w-32 btn py-3 px-8 bg-gray-400 focus:ring-0 focus:border-transparent focus:outline-none shadow-lg text-gray-50 text-xs font-semibold uppercase border-r-gray-300 border-r",{"bg-yellow-500 text-gray-600 font-bold":s.search_status==3}]),onClick:t[4]||(t[4]=o=>s.goSearch(3))},"Pending",2),e("button",{class:p(["w-32 btn py-3 px-8 bg-gray-400 focus:ring-0 focus:border-transparent focus:outline-none shadow-lg text-gray-50 text-xs font-semibold uppercase border-r-gray-300 border-r",{"bg-green-300 text-gray-600 font-bold":s.search_status==2}]),onClick:t[5]||(t[5]=o=>s.goSearch(2))},"Completed",2),e("button",{class:p(["w-32 btn py-3 px-8 bg-gray-400 rounded rounded-l-none focus:ring-0 focus:border-transparent focus:outline-none shadow-lg text-gray-50 text-xs font-semibold uppercase",{"bg-indigo-600 font-bold":s.search_status=="all"}]),onClick:t[6]||(t[6]=o=>s.goSearch("all"))},"All",2)])])),s.edit?d("",!0):(i(),n("div",ye,[(a=u.tasks)!=null&&a.data?(i(),n("div",xe,[e("table",be,[t[26]||(t[26]=e("thead",{class:"bg-gray-50"},[e("tr",null,[e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}),e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Code "),e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Customer ID"),e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Description"),e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Assigned To"),e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Assigned By"),e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Target Date"),e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Status"),e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Action")])],-1)),e("tbody",_e,[(i(!0),n(F,null,q(u.tasks.data,(o,l)=>{var c;return i(),n("tr",{key:o.id},[e("td",ke,[e("i",{class:p(["fa fa-circle mr-2",{"text-yellow-400":o.priority=="normal","text-yellow-600":o.priority=="high","text-red-600":o.priority=="critical"}])},null,2),G(" "+r(l+=u.tasks.from),1)]),e("td",ve,r(o.code),1),e("td",he,r(o.ftth_id),1),e("td",we,r((c=o.description)==null?void 0:c.substring(0,50)),1),e("td",Ce,r(s.getName(o.assigned)),1),e("td",Te,r(o.incharge.match(/\b\w/g).join("")),1),e("td",je,r(o.target),1),e("td",Se,r(s.getStatus(o.status)),1),e("td",Ae,[e("a",{href:"#",onClick:_=>s.editTask(o),class:"text-blue-600"},t[25]||(t[25]=[e("i",{class:"fa fa-edit"},null,-1)]),8,De)])])}),128))])])])):d("",!0),(w=u.tasks)!=null&&w.data?(i(),n("div",Ve,[(i(!0),n(F,null,q(u.tasks.data,(o,l)=>(i(),n("div",{class:"bg-white p-4 rounded-lg shadow mt-2 space-y-1 text-gray-600",key:o.id},[e("div",Me,[e("label",Ne,r(o.ftth_id),1),e("div",null,[e("span",{class:p(["text-xs font-bold px-2.5 py-0.5 rounded items-center justify-center",{"bg-yellow-400":o.status==1,"bg-yellow-500":o.status==3,"bg-green-300":o.status!=1}])},r(s.getStatus(o.status)),3)])]),e("div",Pe,[t[27]||(t[27]=e("label",{for:"details",class:"w-full font-bold"}," Description ",-1)),e("p",Re,r(o.description),1)]),e("span",Ie,[e("div",Ue," Assigned To : "+r(o.assigned_to),1),e("div",Oe," Assigned By : "+r(o.incharge),1),e("div",Be," Target Date : "+r(o.target),1)]),e("div",ze,[e("div",null,[e("a",{type:"button",onClick:c=>s.editTask(o),href:"#",class:"bg-green-100 text-green-800 text-xs font-medium px-2.5 py-0.5 rounded dark:bg-green-900 dark:text-green-30 items-center justify-center"},t[28]||(t[28]=[e("span",{class:"text-sm"},"Edit",-1),e("i",{class:"fa fa-angle-double-right fa-lg ml-2","aria-hidden":"true"},null,-1)]),8,Le)])])]))),128))])):d("",!0),u.tasks.total?(i(),n("span",We,[e("label",Ee,r(u.tasks.data.length)+" Tasks in Current Page. Total Number of Tasks : "+r(u.tasks.total),1)])):d("",!0),u.tasks.links?(i(),n("span",Ye,[L(x,{class:"mt-4",links:u.tasks.links},null,8,["links"])])):d("",!0)])),s.edit?(i(),n("div",Fe,[e("ul",Ge,[e("li",{class:p(["px-2 lg:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",[s.tab==1?"border-b-2 border-indigo-400 -mb-px":"opacity-50"]])},[e("a",{href:"#",onClick:t[7]||(t[7]=o=>s.tabClick(1)),"preserve-state":""},"Genaral")],2),e("li",{class:p(["px-2 lg:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",[s.tab==2?"border-b-2 border-indigo-400 -mb-px":"opacity-50"]])},[e("a",{href:"#",onClick:t[8]||(t[8]=o=>s.tabClick(2)),"preserve-state":""},"Customer Info")],2)])])):d("",!0),e("div",Ke,[e("div",{class:p([s.tab==1?"":"hidden"])},[s.edit?(i(),n("div",qe,[t[38]||(t[38]=e("div",{class:"py-2 col-span-1 w-full"},[e("div",{class:"flex md:justify-end"},[e("label",{for:"assigned",class:"block text-sm font-medium text-gray-700 md:mt-2 md:mr-2"}," Code : ")])],-1)),e("div",Qe,[e("div",He,[e("label",Je,[e("i",{class:p(["fa fa-circle mr-2",{"text-yellow-400":((S=s.form.data)==null?void 0:S.priority)=="normal","text-yellow-600":((A=s.form.data)==null?void 0:A.priority)=="high","text-red-600":((h=s.form.data)==null?void 0:h.priority)=="critical"}])},null,2),G(" "+r((C=s.form.data)==null?void 0:C.code),1)])])]),t[39]||(t[39]=e("div",{class:"py-2 col-span-1 w-full"},[e("div",{class:"flex md:justify-end"},[e("label",{for:"assigned",class:"block text-sm font-medium text-gray-700 md:mt-2 md:mr-2"}," Customer ID : ")])],-1)),e("div",Xe,[e("div",Ze,[e("label",$e,r((D=s.form.data)==null?void 0:D.ftth_id),1)])]),t[40]||(t[40]=e("div",{class:"py-2 col-span-1 w-full"},[e("div",{class:"flex md:justify-end"},[e("label",{for:"assigned",class:"block text-sm font-medium text-gray-700 md:mt-2 md:mr-2"}," Ticket Type : ")])],-1)),e("div",et,[e("div",tt,[e("label",st,r((V=s.form.data)==null?void 0:V.type.replace("_"," ")),1)])]),(M=s.form.data)!=null&&M.topic?(i(),n("div",ot,t[29]||(t[29]=[e("div",{class:"flex md:justify-end"},[e("label",{for:"assigned",class:"block text-sm font-medium text-gray-700 md:mt-2 md:mr-2"}," Ticket Topic : ")],-1)]))):d("",!0),(b=s.form.data)!=null&&b.topic?(i(),n("div",lt,[e("div",at,[e("label",rt,r((N=s.form.data)==null?void 0:N.topic.replace("_"," ")),1)])])):d("",!0),t[41]||(t[41]=e("div",{class:"py-2 col-span-1 w-full"},[e("div",{class:"flex md:justify-end"},[e("label",{for:"assigned",class:"block text-sm font-medium text-gray-700 md:mt-2 md:mr-2"}," Ticket Detail : ")])],-1)),e("div",it,[e("div",nt,[e("label",dt,r((P=s.form.data)==null?void 0:P.incident_description),1)])]),t[42]||(t[42]=e("div",{class:"py-2 col-span-1 w-full"},[e("div",{class:"flex md:justify-end"},[e("label",{for:"assigned",class:"block text-sm font-medium text-gray-700 md:mt-2 md:mr-2"}," Ticket Opened At : ")])],-1)),e("div",ct,[e("div",mt,[e("label",ut,r((R=s.form.data)==null?void 0:R.date)+" : "+r((I=s.form.data)==null?void 0:I.time),1)])]),t[43]||(t[43]=e("div",{class:"py-2 col-span-1 w-full"},[e("div",{class:"flex md:justify-end"},[e("label",{for:"assigned",class:"block text-sm font-medium text-gray-700 md:mt-2 md:mr-2"}," Assigned : ")])],-1)),e("div",ft,[e("div",pt,[u.subcons.length!==0?(i(),n("div",gt,[L(g,{"deselect-label":"Selected already",options:u.subcons,"track-by":"id",label:"name",modelValue:s.form.assigned,"onUpdate:modelValue":t[9]||(t[9]=o=>s.form.assigned=o),"allow-empty":!1,multiple:!1},null,8,["options","modelValue"])])):d("",!0),m.$page.props.errors.assigned?(i(),n("p",yt,r(m.$page.props.errors.assigned),1)):d("",!0)])]),t[44]||(t[44]=e("div",{class:"py-2 col-span-1 sm:col-span-1"},[e("div",{class:"flex md:justify-end"},[e("label",{for:"target",class:"block text-sm font-medium text-gray-700 md:mt-2 md:mr-2"}," Target : ")])],-1)),e("div",xt,[e("div",bt,[y(e("input",{type:"date","onUpdate:modelValue":t[10]||(t[10]=o=>s.form.target=o),name:"target",id:"target",class:"form-input focus:ring-indigo-500 focus:border-indigo-500 flex-1 block w-full rounded-md sm:text-sm border-gray-300"},null,512),[[z,s.form.target]])]),m.$page.props.errors.target?(i(),n("p",_t,r(m.$page.props.errors.target),1)):d("",!0)]),t[45]||(t[45]=e("div",{class:"py-2 col-span-1 sm:col-span-1"},[e("div",{class:"flex md:justify-end"},[e("label",{for:"description",class:"block text-sm font-medium text-gray-700 md:mt-2 md:mr-2"}," Description : ")])],-1)),e("div",kt,[e("div",vt,[y(e("textarea",{"onUpdate:modelValue":t[11]||(t[11]=o=>s.form.description=o),name:"description",id:"description",class:"form-input focus:ring-indigo-500 focus:border-indigo-500 flex-1 block w-full rounded-md sm:text-sm border-gray-300"},null,512),[[z,s.form.description]])]),m.$page.props.errors.description?(i(),n("p",ht,r(m.$page.props.errors.description),1)):d("",!0)]),t[46]||(t[46]=e("div",{class:"py-2 col-span-1 sm:col-span-1"},[e("div",{class:"flex md:justify-end"},[e("label",{for:"status",class:"block text-sm font-medium text-gray-700 md:mr-2"}," Status : ")])],-1)),e("div",wt,[e("div",Ct,[e("label",Tt,[y(e("input",{type:"radio","onUpdate:modelValue":t[12]||(t[12]=o=>s.form.status=o),name:"status",value:"1",class:"form-radio text-yellow-500"},null,512),[[W,s.form.status]]),t[30]||(t[30]=e("span",{class:"ml-2"},"WIP",-1))]),e("label",jt,[y(e("input",{type:"radio","onUpdate:modelValue":t[13]||(t[13]=o=>s.form.status=o),name:"status",value:"3",class:"form-radio text-red-500"},null,512),[[W,s.form.status]]),t[31]||(t[31]=e("span",{class:"ml-2"},"Pending",-1))]),e("label",St,[y(e("input",{type:"radio","onUpdate:modelValue":t[14]||(t[14]=o=>s.form.status=o),name:"status",value:"2",class:"form-radio text-green-500"},null,512),[[W,s.form.status]]),t[32]||(t[32]=e("span",{class:"ml-2"},"Completed",-1))]),e("label",At,[y(e("input",{type:"radio","onUpdate:modelValue":t[15]||(t[15]=o=>s.form.status=o),name:"status",value:"0",class:"form-radio text-indigo-500"},null,512),[[W,s.form.status]]),t[33]||(t[33]=e("span",{class:"ml-2"},"Deleted",-1))])]),m.$page.props.errors.status?(i(),n("p",Dt,r(m.$page.props.errors.status),1)):d("",!0)]),s.form.status==3?(i(),n(F,{key:2},[t[34]||(t[34]=e("div",{class:"py-2 col-span-1"},[e("div",{class:"flex md:justify-end"},[e("label",{for:"root_causes_id",class:"block text-sm font-medium text-gray-700 md:mt-2 md:mr-2"}," Root Cause for Pending : ")])],-1)),e("div",Vt,[((U=u.pendingRootCause)==null?void 0:U.length)!==0?(i(),n("div",Mt,[L(g,{"deselect-label":"Selected already",options:u.pendingRootCause,"track-by":"id",label:"name",modelValue:s.form.root_causes,"onUpdate:modelValue":[t[16]||(t[16]=o=>s.form.root_causes=o),t[17]||(t[17]=o=>s.form.root_causes_id=o==null?void 0:o.id)],"allow-empty":!1,multiple:!1},null,8,["options","modelValue"])])):d("",!0),m.$page.props.errors.root_causes_id?(i(),n("p",Nt,r(m.$page.props.errors.root_causes_id),1)):d("",!0)]),t[35]||(t[35]=e("div",{class:"py-2 col-span-1"},[e("div",{class:"flex md:justify-end"},[e("label",{for:"sub_root_causes",class:"block text-sm font-medium text-gray-700 md:mt-2 md:mr-2"},"Sub Root Cause : ")])],-1)),e("div",Pt,[((T=s.subRCA)==null?void 0:T.length)!==0?(i(),n("div",Rt,[L(g,{"deselect-label":"Selected already",options:s.subRCA,"track-by":"id",label:"name",modelValue:s.form.sub_root_causes,"onUpdate:modelValue":[t[18]||(t[18]=o=>s.form.sub_root_causes=o),t[19]||(t[19]=o=>s.form.sub_root_causes_id=o==null?void 0:o.id)],"allow-empty":!1,multiple:!1},null,8,["options","modelValue"])])):d("",!0),m.$page.props.errors.sub_root_causes_id?(i(),n("p",It,r(m.$page.props.errors.sub_root_causes_id),1)):d("",!0)])],64)):d("",!0),t[47]||(t[47]=e("div",{class:"py-2 col-span-1 sm:col-span-1"},[e("div",{class:"flex md:justify-end"},[e("label",{for:"comment",class:"block text-sm font-medium text-gray-700 md:mt-2 md:mr-2"}," Comments : ")])],-1)),e("div",Ut,[e("div",Ot,[y(e("textarea",{"onUpdate:modelValue":t[20]||(t[20]=o=>s.form.comment=o),name:"comment",id:"comment",class:"form-input focus:ring-indigo-500 focus:border-indigo-500 flex-1 block w-full rounded-md sm:text-sm border-gray-300"},null,512),[[z,s.form.comment]])]),m.$page.props.errors.comment?(i(),n("p",Bt,r(m.$page.props.errors.comment),1)):d("",!0)]),e("div",zt,[e("a",{href:"#",onClick:t[21]||(t[21]=o=>s.saveTask()),class:"text-center px-4 py-3 bg-green-500 border border-transparent rounded-sm font-semibold text-xs text-white uppercase tracking-widest hover:bg-green-400 active:bg-green-600 focus:outline-none focus:border-gray-900 disabled:opacity-25 transition mr-1"},[s.editMode?d("",!0):(i(),n("span",Lt,"Save Task")),s.editMode?(i(),n("span",Wt,"Update Task")):d("",!0),t[36]||(t[36]=e("i",{class:"fas fa-save opacity-75 ml-1 text-sm"},null,-1))]),e("a",{href:"#",onClick:t[22]||(t[22]=o=>s.cancelTask()),class:"text-center px-4 py-3 bg-gray-500 border border-transparent rounded-sm font-semibold text-xs text-white uppercase tracking-widest hover:bg-gray-400 active:bg-gray-600 focus:outline-none focus:border-gray-900 disabled:opacity-25 transition"},t[37]||(t[37]=[G("Cancel"),e("i",{class:"fas fa-save opacity-75 ml-1 text-sm"},null,-1)]))])])):d("",!0)],2),e("div",{class:p([s.tab==2?"":"hidden"])},[s.selected_id&&s.tab==2?(i(),K(v,{key:0,data:s.selected_id},null,8,["data"])):d("",!0)],2)])])]),s.loading?(i(),n("div",Et,t[48]||(t[48]=[e("div",{class:"loader ease-linear rounded-full border-4 border-t-4 border-gray-200 h-12 w-12 mb-4"},null,-1),e("h2",{class:"text-center text-white text-xl font-semibold"},"Loading...",-1),e("p",{class:"w-1/3 text-center text-white"},"This may take a few seconds, please don't close this page.",-1)]))):d("",!0)]}),_:1})}const Jt=ae(re,[["render",Yt]]);export{Jt as default};
