import{T as P,r as g,c as U,w as x,o as d,a as o,b as u,f as p,u as l,m as k,i as B,d as i,t as a,e as n,j as _,k as w,v as F,g as T,F as A}from"./app-B83Cld7c.js";import{A as L}from"./AppLayout-Cgpo2JBg.js";import{M as m}from"./vue3-multiselect.umd.min-ZbP9ELkH.js";import"./DropdownLink-CJ61rNbI.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const M={class:"py-12"},N={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},O={class:"bg-white shadow-xl sm:rounded-lg"},h={class:"p-6 bg-white border-b border-gray-200"},I={class:"mb-4"},j={class:"grid sm:grid-cols-4 gap-6"},E={key:0,class:"text-red-500 text-sm mt-1"},q={key:0,class:"text-red-500 text-sm mt-1"},z={key:0,class:"text-red-500 text-sm mt-1"},G={key:0,class:"text-red-500 text-sm mt-1"},H={class:"grid sm:grid-cols-4 gap-6"},J={key:0,class:"text-red-500 text-sm mt-1"},K={key:0,class:"text-red-500 text-sm mt-1"},Q={key:0,class:"text-red-500 text-sm mt-1"},R=["value"],W={key:0,class:"text-red-500 text-sm mt-1"},X={class:"col-span-4"},Y={key:0,class:"text-red-500 text-sm mt-1"},Z={class:"flex justify-end space-x-3 mt-4"},$=["disabled"],re={__name:"Create",props:{odfs:Array,odbs:Array,popDevices:Array,fiberCables:Array},setup(v){const b=v,y=Array.from({length:96},(r,e)=>({value:e+1,label:`Port ${e+1}`})),t=P({name:null,odf:null,odf_id:null,odb:null,odb_id:null,fiber_cable:null,fiber_cable_id:null,pop_device:null,pop_device_id:null,olt_port_all:null,odb_port_all:null,odb_port:null,olt_port:null,olt_cable_label:"",description:"",status:""}),f=g([]),c=g([]),V=r=>{t.odf=r,t.odf_id=r==null?void 0:r.id,t.pop_device=null,t.pop_device_id=null,t.odb=null,t.odb_id=null,r&&b.popDevices?f.value=b.popDevices.filter(e=>r.pop_device_id.includes(e.id)):f.value=[],r&&b.odbs?c.value=b.odbs.filter(e=>e.odf_id===r.id):c.value=[]},D=r=>{t.odb=r,t.odb_id=r==null?void 0:r.id,selectedOdf&&b.popDevices?f.value=b.popDevices.filter(e=>selectedOdf.pop_device_id.includes(e.id)):f.value=[]},S=[{value:"active",label:"Active"},{value:"inactive",label:"Inactive"},{value:"maintenance",label:"Maintenance"}],C=()=>{t.post(route("odb-fiber-cables.store"),{onSuccess:r=>{Toast.fire({icon:"success",title:r.props.flash.message})}})};return(r,e)=>(d(),U(L,null,{header:x(()=>e[13]||(e[13]=[o("h2",{class:"font-semibold text-xl text-white leading-tight"},"Create ODB Details",-1)])),default:x(()=>[o("div",M,[o("div",N,[o("div",O,[o("div",h,[o("div",I,[u(l(k),{href:r.route("odb-fiber-cables.index"),class:"text-indigo-600 hover:text-indigo-900"},{default:x(()=>e[14]||(e[14]=[o("i",{class:"fas fa-arrow-left"},null,-1),p(" Back to List ")])),_:1},8,["href"])]),o("form",{onSubmit:B(C,["prevent"])},[e[26]||(e[26]=o("h6",{class:"md:min-w-full text-indigo-700 text-xs uppercase font-bold block pt-1 no-underline mb-2"}," Feeder Connection Information ",-1)),o("div",j,[o("div",null,[e[15]||(e[15]=o("label",{class:"block text-sm font-medium text-gray-700"},[p("ODF "),o("span",{class:"text-red-600"},"*")],-1)),u(l(m),{modelValue:l(t).odf,"onUpdate:modelValue":[e[0]||(e[0]=s=>l(t).odf=s),V],options:v.odfs,"track-by":"id",label:"name",placeholder:"Select ODF",searchable:!0,"allow-empty":!1},null,8,["modelValue","options"]),l(t).errors.odf_id?(d(),i("div",E,a(l(t).errors.odf_id),1)):n("",!0)]),o("div",null,[e[16]||(e[16]=o("label",{class:"block text-sm font-medium text-gray-700"},[p("ODB "),o("span",{class:"text-red-600"},"*")],-1)),u(l(m),{modelValue:l(t).odb,"onUpdate:modelValue":[e[1]||(e[1]=s=>l(t).odb=s),D],options:c.value,"track-by":"id",label:"name",placeholder:"Select ODB",searchable:!0,"allow-empty":!1,disabled:!l(t).odf_id},null,8,["modelValue","options","disabled"]),l(t).errors.odb_id?(d(),i("div",q,a(l(t).errors.odb_id),1)):n("",!0)]),o("div",null,[e[17]||(e[17]=o("label",{class:"block text-sm font-medium text-gray-700"},[p("Fiber Cable (Feeder) "),o("span",{class:"text-red-600"},"*")],-1)),u(l(m),{modelValue:l(t).fiber_cable,"onUpdate:modelValue":[e[2]||(e[2]=s=>l(t).fiber_cable=s),e[3]||(e[3]=s=>{l(t).fiber_cable_id=s==null?void 0:s.id})],options:v.fiberCables,"track-by":"id",label:"name",placeholder:"Select Fiber Cable",searchable:!0,"allow-empty":!1},null,8,["modelValue","options"]),l(t).errors.fiber_cable_id?(d(),i("div",z,a(l(t).errors.fiber_cable_id),1)):n("",!0)]),o("div",null,[e[18]||(e[18]=o("label",{class:"block text-sm font-medium text-gray-700"},[p("ODB Port No. "),o("span",{class:"text-red-600"},"*")],-1)),u(l(m),{modelValue:l(t).odb_port_all,"onUpdate:modelValue":[e[4]||(e[4]=s=>l(t).odb_port_all=s),e[5]||(e[5]=s=>l(t).odb_port=s==null?void 0:s.value)],options:l(y),"track-by":"value",label:"label",placeholder:"Select Port",searchable:!0,"allow-empty":!1},null,8,["modelValue","options"]),l(t).errors.odb_port?(d(),i("div",G,a(l(t).errors.odb_port),1)):n("",!0)])]),e[27]||(e[27]=o("hr",{class:"my-4 md:min-w-full"},null,-1)),e[28]||(e[28]=o("h6",{class:"md:min-w-full text-indigo-700 text-xs uppercase font-bold block pt-1 no-underline mb-2"}," OLT Information ",-1)),o("div",H,[o("div",null,[e[19]||(e[19]=o("label",{class:"block text-sm font-medium text-gray-700"},"POP Device (OLT)",-1)),u(l(m),{modelValue:l(t).pop_device,"onUpdate:modelValue":[e[6]||(e[6]=s=>l(t).pop_device=s),e[7]||(e[7]=s=>{l(t).pop_device_id=s==null?void 0:s.id})],options:f.value,"track-by":"id",label:"device_name",placeholder:"Select POP Device",searchable:!0,"allow-empty":!1,disabled:!l(t).odf_id},null,8,["modelValue","options","disabled"]),l(t).errors.pop_device_id?(d(),i("div",J,a(l(t).errors.pop_device_id),1)):n("",!0)]),o("div",null,[e[20]||(e[20]=o("label",{class:"block text-sm font-medium text-gray-700"},"OLT Port No.",-1)),u(l(m),{modelValue:l(t).olt_port_all,"onUpdate:modelValue":[e[8]||(e[8]=s=>l(t).olt_port_all=s),e[9]||(e[9]=s=>l(t).olt_port=s==null?void 0:s.value)],options:l(y),"track-by":"value",label:"label",placeholder:"Select Port",searchable:!0,"allow-empty":!0},null,8,["modelValue","options"]),l(t).errors.olt_port?(d(),i("div",K,a(l(t).errors.olt_port),1)):n("",!0)]),o("div",null,[e[21]||(e[21]=o("label",{class:"block text-sm font-medium text-gray-700"},"OLT To ODF Label",-1)),_(o("input",{type:"text","onUpdate:modelValue":e[10]||(e[10]=s=>l(t).olt_cable_label=s),class:"block w-full rounded-md border-gray-200 shadow-xsfocus:border-indigo-500 focus:ring-indigo-500"},null,512),[[w,l(t).olt_cable_label]]),l(t).errors.olt_cable_label?(d(),i("div",Q,a(l(t).errors.olt_cable_label),1)):n("",!0)]),o("div",null,[e[23]||(e[23]=o("label",{class:"block text-sm font-medium text-gray-700"},"Status",-1)),_(o("select",{"onUpdate:modelValue":e[11]||(e[11]=s=>l(t).status=s),class:"block w-full rounded-md border-gray-200 shadow-xsfocus:border-indigo-500 focus:ring-indigo-500"},[e[22]||(e[22]=o("option",{value:""},"Select Status",-1)),(d(),i(A,null,T(S,s=>o("option",{key:s.value,value:s.value},a(s.label),9,R)),64))],512),[[F,l(t).status]]),l(t).errors.status?(d(),i("div",W,a(l(t).errors.status),1)):n("",!0)]),o("div",X,[e[24]||(e[24]=o("label",{class:"block text-sm font-medium text-gray-700"},"Description",-1)),_(o("textarea",{"onUpdate:modelValue":e[12]||(e[12]=s=>l(t).description=s),rows:"3",class:"block w-full rounded-md border-gray-200 shadow-xsfocus:border-indigo-500 focus:ring-indigo-500"},null,512),[[w,l(t).description]]),l(t).errors.description?(d(),i("div",Y,a(l(t).errors.description),1)):n("",!0)])]),o("div",Z,[u(l(k),{href:r.route("odb-fiber-cables.index"),class:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50"},{default:x(()=>e[25]||(e[25]=[p(" Cancel ")])),_:1},8,["href"]),o("button",{type:"submit",class:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",disabled:l(t).processing}," Update ",8,$)])],32)])])])])]),_:1}))}};export{re as default};
