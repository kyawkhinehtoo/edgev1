import{A as ce}from"./AppLayout-DQMHUDA-.js";import{M as pe}from"./vue3-multiselect.umd.min-BtFOAPRA.js";import{r as p,p as q,q as j,o as u,d as g,f as c,a as t,e as _,F as z,g as Q,b as w,N as X,t as d,i as ge,D as be,T as xe,m as T,c as D,w as B,h as _e,n as I,s as i,v,x,y as Z,M as W}from"./app-DdoqqyeN.js";import{U as ye}from"./Upload-dNy6avhH.js";import{_ as H}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{_ as ve}from"./ImageUploader-Bx38VaTK.js";import"./DropdownLink-DupIRA2Y.js";const we={name:"File",components:{Upload:ye},props:["data","permission"],setup(o){let e=p(!1),f=p(),s=p(!1),P=p("");function h(){s.value=!0,P.value={customer_id:o.data}}function m(){s.value=!1,S()}function y(k){console.log(o.permission),o.permission&&Toast.fire({title:"Are you sure?",text:"Once deleted, you will not be able to recover this data !",icon:"warning",timer:!1,position:"center",showCancelButton:!0,dangerMode:!0}).then(C=>{C.isConfirmed?V(k):Toast.fire("Your data is safe!")})}function V(k){k._method="DELETE",X.post("/deleteFile/"+k.id,k,{onSuccess(C){Toast.fire({icon:"success",title:"Your File has been Deleted !"}),S()}})}const U=async()=>{let k="/getCustomerFile/"+o.data;console.log(k);try{return await(await fetch(k)).json()}catch(C){console.error(C)}},O=k=>{k&&(s.value=!1,S(),Toast.fire({icon:"success",title:"Successfully Uploaded the File"}))},S=()=>{U().then(k=>{f.value=k})};return q(()=>{S()}),{file_list:f,add:s,deleteFile:y,addFile:h,closeFile:m,checkUpload:O,incident_id:P,loading:e}}},ke={key:0,class:"flex w-full justify-end"},he={key:1,"wire:loading":"",class:"w-full flex flex-col items-center justify-center"},Pe={key:2},Ve={class:"min-w-full divide-y divide-gray-200 table-auto"},Ue={class:"bg-white divide-y divide-gray-200 text-sm max-h-64 w-full overflow-auto scrollbar-thin scrollbar-thumb-gray-400 scrollbar-track-white block text-left"},Oe={class:"px-6 py-3 whitespace-nowrap tracking-wider w-1/12"},Ce={class:"px-6 py-3 whitespace-nowrap tracking-wider w-full"},Se=["href"],Ie={class:"px-6 py-3 whitespace-nowrap tracking-wider text-right w-1/12 mr-4"},je=["onClick"],De={key:3};function Ne(o,e,f,s,P,h){const m=j("upload");return u(),g(z,null,[f.permission?(u(),g("div",ke,[s.add?_("",!0):(u(),g("a",{key:0,href:"#",onClick:e[0]||(e[0]=y=>s.addFile()),class:"-mt-2 mb-2 text-center items-center px-4 py-3 bg-indigo-500 border border-transparent rounded-sm font-semibold text-xs text-white uppercase tracking-widest hover:bg-indigo-400 active:bg-indigo-600 focus:outline-none focus:border-gray-900 disabled:opacity-25 transition mr-1"},e[2]||(e[2]=[c("Add File"),t("i",{class:"fas fa-plus-circle opacity-75 lg:ml-1 text-sm"},null,-1)]))),s.add?(u(),g("a",{key:1,href:"#",onClick:e[1]||(e[1]=y=>s.closeFile()),class:"-mt-2 mb-2 text-center items-center px-4 py-3 bg-indigo-500 border border-transparent rounded-sm font-semibold text-xs text-white uppercase tracking-widest hover:bg-indigo-400 active:bg-indigo-600 focus:outline-none focus:border-gray-900 disabled:opacity-25 transition mr-1"},e[3]||(e[3]=[c("Close"),t("i",{class:"fas fa-times-circle opacity-75 lg:ml-1 text-sm"},null,-1)]))):_("",!0)])):_("",!0),s.file_list?_("",!0):(u(),g("div",he,e[4]||(e[4]=[t("div",{class:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-purple-500"},null,-1),t("h2",{class:"text-center text-gray-600 text-sm font-semibold mt-2"},"Loading...",-1)]))),s.file_list&&!s.add?(u(),g("div",Pe,[t("table",Ve,[e[7]||(e[7]=t("thead",{class:"bg-gray-50 w-full flex block table text-left"},[t("tr",null,[t("th",{scope:"col",class:"px-6 py-3 text-xs font-medium text-gray-500 uppercase tracking-wider w-1/12"},"ID"),t("th",{scope:"col",class:"px-6 py-3 text-xs font-medium text-gray-500 uppercase tracking-wider w-full"},"File"),t("th",{scope:"col",class:"px-6 py-3 text-xs font-medium text-gray-500 uppercase tracking-wider w-1/12"}," Action ")])],-1)),t("tbody",Ue,[(u(!0),g(z,null,Q(s.file_list,(y,V)=>(u(),g("tr",{key:y.id,class:"flex"},[t("td",Oe,d(V+1),1),t("td",Ce,[t("a",{href:y.path,target:"_blank"},e[5]||(e[5]=[t("i",{class:"fas fa-paperclip text-indigo-600"},null,-1)]),8,Se),c(" "+d(y.name),1)]),t("td",Ie,[t("a",{href:"#",onClick:U=>s.deleteFile(y),class:"text-red-600"},e[6]||(e[6]=[t("i",{class:"fa fa-trash"},null,-1)]),8,je)])]))),128))])])])):_("",!0),s.add?(u(),g("div",De,[w(m,{data:s.incident_id,onStatus:s.checkUpload},null,8,["data","onStatus"])])):_("",!0)],64)}const Fe=H(we,[["render",Ne]]),Te={name:"CustomerHistory",props:["data"],setup(o){const e=p(),f=async()=>{let h="/getCustomerHistory/"+o.data;try{return await(await fetch(h)).json()}catch(m){console.error(m)}},s=()=>{f().then(h=>{e.value=h})},P=h=>{var m=new Date(h),y=m.getFullYear(),V=m.getMonth()+1,U=m.getDate();console.log(),U<10&&(U="0"+U),V<10&&(V="0"+V);var O=y+"-"+V+"-"+U+" "+m.getHours()+":"+m.getMinutes()+":"+m.getSeconds();return O};return q(()=>{s()}),{logs:e,formatDate:P}}},ze={key:0,"wire:loading":"",class:"w-full flex flex-col items-center justify-center"},Me={key:1},Ae={class:"min-w-full divide-y divide-gray-200"},Le={class:"bg-white divide-y divide-gray-200 text-sm text-left"},Ee={class:"px-3 py-3 text-xs font-medium tracking-wider"},Be={class:"px-3 py-3 text-xs font-medium tracking-wider"},qe={class:"px-3 py-3 text-xs font-medium tracking-wider"},He={class:"px-3 py-3 text-xs font-medium tracking-wider"},Re={key:0},Ke=["innerHTML"];function Ge(o,e,f,s,P,h){return u(),g(z,null,[s.logs?_("",!0):(u(),g("div",ze,e[0]||(e[0]=[t("div",{class:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-purple-500"},null,-1),t("h2",{class:"text-center text-gray-600 text-sm font-semibold mt-2"},"Loading...",-1)]))),s.logs?(u(),g("div",Me,[t("table",Ae,[e[3]||(e[3]=t("thead",{class:"bg-gray-50 text-left"},[t("tr",null,[t("th",{scope:"col",class:"px-6 py-3 text-xs font-medium text-gray-500 uppercase tra"},"No."),t("th",{scope:"col",class:"px-6 py-3 text-xs font-medium text-gray-500 uppercase tracking-wider"},"Updated On"),t("th",{scope:"col",class:"px-6 py-3 text-xs font-medium text-gray-500 uppercase tracking-wider"},"Actor"),t("th",{scope:"col",class:"px-6 py-3 text-xs font-medium text-gray-500 uppercase tracking-wider"},"Action")])],-1)),t("tbody",Le,[(u(!0),g(z,null,Q(s.logs,(m,y)=>(u(),g("tr",{key:m.id},[t("td",Ee,d(y+1),1),t("td",Be,d(s.formatDate(m.created_at)),1),t("td",qe,d(m.actor_name),1),t("td",He,[m.general?(u(),g("span",Re,[t("span",{innerHTML:m.general},null,8,Ke),e[1]||(e[1]=c()),e[2]||(e[2]=t("br",null,null,-1))])):_("",!0)])]))),128))])])])):_("",!0)],64)}const Ye=H(Te,[["render",Ge]]),Je={name:"EditCustomer",components:{AppLayout:ce,CustomerFile:Fe,Multiselect:pe,CustomerHistory:Ye,Link:ge,ImageUploader:ve},props:{packages:Object,isps:Object,townships:Object,partners:Object,errors:Object,customer:Object,status_list:Object,subcoms:Object,user:Object,customer_history:Object,pops:Object,total_documents:Number,bundle_equiptments:Object,userPerm:Array,allStatus:Object},setup(o){be("role",o.role),p(""),p(""),p("");let e=p("");p(!1);let f="";const s=p(null),P=p(null),h=p(null),m=p(null),y=p(null),V=p(null),U=p(null);p([]);const O=p([]),S=p([{id:"team_assigned",name:"Team Assigned"},{id:"cable_done",name:"Cable Done"},{id:"config_done",name:"Config Done"},{id:"completed",name:"Completed"},{id:"customer_cancel",name:"Customer Cancel"},{id:"pending_odb_issue",name:"Pending ODB Issue"},{id:"pending_port_full",name:"Pending Port Full"},{id:"pending_reappointment",name:"Pending Reappointment"}]);let k=p(o.allStatus),C=p(!1);const l=p(o.customer.route_kmz_image||null),$=p(o.customer.drum_no_image||null),ee=p(o.customer.start_meter_image||null),te=p(o.customer.end_meter_image||null),R=p(Array.from({length:16},(n,a)=>({id:a+1,name:`SN Port ${a+1}`}))),M=p(Array.from({length:127},(n,a)=>({id:a,name:`OnuID${a}`})));o.customer.location&&(f=o.customer.location.split(",",2));let K=p(1),se=p("");const A=p([]),L=p([]),E=p([]);function oe(n){se.value!=null&&(K.value=n)}const r=xe({id:o.customer.id,name:o.customer.name,phone_1:o.customer.phone_1,address:o.customer.address,latitude:f[0]?f[0]:"",longitude:f[1]?f[1]:"",order_date:o.customer.order_date,order_remark:o.customer.order_remark,installation_date:o.customer.installation_date,service_activation_date:o.customer.service_activation_date,ftth_id:o.customer.ftth_id,township:o.customer.township,package:o.customer.package,status:"",subcom:"",prefer_install_date:o.customer.prefer_install_date,splitter_no:o.customer.splitter_no,installation_remark:o.customer.installation_remark,fc_used:o.customer.fc_used,fc_damaged:o.customer.fc_damaged,onu_serial:o.customer.onu_serial,onu_power:o.customer.onu_power,fiber_distance:o.customer.fiber_distance,vlan:o.customer.vlan,bundles:"",gpon_ontid:o.customer.gpon_ontid,port_balance:o.customer.port_balance,pop_id:o.customer.pop,pop_device_id:o.customer.pop_device,dn_id:o.customer.dn,sn_id:o.customer.sn,partner_id:o.customer.partner,isp_id:o.customer.isp,way_list_date:o.customer.way_list_date,installation_status:"",route_kmz_image:o.customer.route_kmz_image,drum_no_txt:o.customer.drum_no_txt,drum_no_image:o.customer.drum_no_image,start_meter_txt:o.customer.start_meter_txt,start_meter_image:o.customer.start_meter_image,end_meter_txt:o.customer.end_meter_txt,end_meter_image:o.customer.end_meter_image,installation_timeline:o.customer.installation_timeline});function le(){const n=new FormData;Object.keys(r).forEach(a=>{a!=="_method"&&(a.includes("image")&&r[a]instanceof File?n.append(a,r[a]):typeof r[a]=="object"&&r[a]!==null?n.append(a,JSON.stringify(r[a])):r[a]!==null&&r[a]!==void 0&&n.append(a,r[a]))}),n.append("_method","PUT"),X.post("/customer/"+r.id,n,{onSuccess:a=>{Toast.fire({icon:"success",title:a.props.flash.message})},onError:a=>{console.error("Error submitting form:",a)},headers:{"Content-Type":"multipart/form-data"}})}function re(n){var b;const a=(b=o.user)==null?void 0:b.role;return a&&a!=null&&a.read_customer?!0:!o.userPerm.includes(n)}function ne(n){n=n||window.event;var a=n.which?n.which:n.keyCode;if(a>31&&(a<48||a>57)&&a!==46)n.preventDefault();else return!0}function ae(n,a){if(!n||!a)return console.error("Invalid inputs: roleStatus or customerStatus is missing"),!1;try{return typeof n=="string"&&(n=JSON.parse(n)),Array.isArray(n)?n.some(b=>b.id==a.id):(console.error("Error: roleStatus is not an array",n),!1)}catch(b){return console.error("Error parsing roleStatus:",b),!1}}const G=async()=>{if(!r.pop_id){A.value=[];return}try{const a=await(await fetch(`/getOLTByPOP/${r.pop_id.id}`)).json();A.value=a||[],console.log("fetch POP Devices")}catch(n){console.error("Failed to fetch POP devices",n)}},Y=async()=>{if(!r.pop_device_id){L.value=[];return}try{const a=await(await fetch(`/getDNByOLT/${r.pop_device_id.id}`)).json();L.value=a||[]}catch(n){console.error("Failed to fetch DNs",n)}},J=async()=>{if(!r.dn_id){E.value=[];return}try{const a=await(await fetch(`/getDnId/${r.dn_id.id}`)).json();E.value=a||[]}catch(n){console.error("Failed to fetch SNs",n)}};T(()=>r.township,async n=>{if(n)try{r.pop_id=null,r.pop_device_id=null,r.dn_id=null,r.sn_id=null,r.partner=null,n.partner_id&&(r.partner=o.partners.find(N=>N.id===n.partner_id));const b=await(await fetch(`/getPOPsByTownship/${n.id}`)).json();O.value=b||[]}catch(a){console.error("Failed to fetch data for township",a),O.value=[]}else O.value=[],r.partner=null}),T(()=>r.pop_id,()=>{G(),r.sn_id=null,r.dn_id=null,r.pop_device_id=null,r.gpon_frame=null,r.gpon_slot=null,r.gpon_port=null,r.gpon_ontid=null,r.port_balance=null}),T(()=>r.pop_device_id,()=>{Y(),r.dn_id=null,r.sn_id=null}),T(()=>r.dn_id,()=>{J(),P.value=`Frame${r.dn_id.gpon_frame}/Slot${r.dn_id.gpon_slot}/Port${r.dn_id.gpon_port}`,r.sn_id=null});function de(n){return Array.isArray(n)?(console.log("array"),n.length===0?(console.log("empty array"),!0):n.every(a=>typeof a=="object"&&Object.keys(a).length===0)):n&&typeof n=="object"?Object.keys(n).length===0:!1}const ie=()=>{if(h.value){let n=h.value.innerText;navigator.clipboard.writeText(n).then(()=>{alert("Text copied to clipboard!")}).catch(a=>{console.error("Failed to copy text: ",a)})}else console.error("Text content ref is undefined.")},me=()=>{if(h.value){let n=h.value.innerText;navigator.share&&navigator.share({title:"Customer Information",text:n}).then(()=>{alert("Text copied to clipboard!")}).catch(a=>{console.error("Failed to copy text: ",a)})}else console.error("Text content ref is undefined.")};return q(()=>{if(r.installation_status=o.customer.installation_status?S.value.filter(b=>b.id==o.customer.installation_status)[0]:null,r.township&&fetch(`/getPOPsByTownship/${r.township.id}`).then(b=>b.json()).then(b=>{O.value=b||[]}).catch(b=>{console.error("Failed to fetch pop for township",b),O.value=[]}),r.pop_id&&G(),r.pop_device_id&&Y(),r.dn_id&&(J(),P.value=`Frame${r.dn_id.gpon_frame}/Slot${r.dn_id.gpon_slot}/Port${r.dn_id.gpon_port}`),o.customer.pop_device_id&&P.value&&o.customer.sn_id&&(m.value=`${P.value}`),m.value&&o.customer.gpon_ontid&&(m.value+="/"+M.value.filter(b=>b.name==o.customer.gpon_ontid)[0].name),o.customer.bundle){let b=o.customer.bundle.split(",").filter(Boolean),N=[];s.value=[],b.forEach(ue=>{const F=o.bundle_equiptments.find(fe=>fe.id==ue);F&&(N.push(F),s.value=s.value?`${s.value},${F.name}`:F.name)}),r.bundles=N}o.customer.splitter_no&&(r.splitter_no=R.value.filter(b=>b.id==o.customer.splitter_no)[0],U.value=r.splitter_no.name),o.customer.gpon_ontid&&(r.gpon_ontid=M.value.filter(b=>b.name==o.customer.gpon_ontid)[0]),r.status=o.allStatus.filter(b=>b.id==o.customer.status_id)[0],r.subcom=o.subcoms.filter(b=>b.id==o.customer.subcom_id)[0];let n=o.allStatus.filter(b=>b.id==o.customer.status_id)[0];r.status=n;let a=o.status_list;ae(a,n)?k.value=a:(k.value=o.allStatus,C.value=!0)}),{form:r,submit:le,isNumber:ne,checkPerm:re,tab:K,tabClick:oe,isEmptyObject:de,pop_devices:e,snPortNoOptions:R,gponOnuIdOptions:M,dnInfo:P,bundle:s,shareText:me,copyText:ie,textContent:h,gponInfo:m,dnName:y,snName:V,snPort:U,popDevices:A,dnOptions:L,snOptions:E,filteredPops:O,disableStatus:C,statusList:k,routeImagePreview:l,drumImagePreview:$,startMeterImagePreview:ee,endMeterImagePreview:te,installationStatus:S}}},Ze={class:"py-2"},We={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},Qe={class:"mt-5 md:mt-0 md:col-span-2"},Xe={class:"shadow sm:rounded-md sm:overflow-hidden"},$e={class:"inline-flex w-full bg-gray-50 rounded-t-lg"},et={id:"tabs",class:"flex"},tt={class:"bg-blue-100 text-blue-800 text-xs font-medium mr-2 px-2.5 py-0.5 rounded dark:bg-blue-900 dark:text-blue-300"},st={id:"tab-contents"},ot={class:"px-4 py-5 bg-white space-y-6 sm:p-6"},lt={class:"grid grid-cols-1 sm:grid-cols-4 gap-2"},rt={class:"col-span-1 sm:col-span-1"},nt={class:"mt-1 flex rounded-md shadow-sm"},at=["disabled"],dt={class:"col-span-1 sm:col-span-1"},it={key:0,class:"mt-1 flex rounded-md shadow-sm"},mt={class:"col-span-1 sm:col-span-2"},ut={class:"mt-1 flex rounded-md shadow-sm"},ft=["disabled"],ct={class:"col-span-1 sm:col-span-1"},pt={class:"mt-1 flex rounded-md shadow-sm"},gt=["disabled"],bt={class:"col-span-1 sm:col-span-1"},xt={class:"mt-1 flex rounded-md shadow-sm"},_t=["disabled"],yt={class:"col-span-1 sm:col-span-2"},vt={class:"mt-1 flex rounded-md shadow-sm"},wt=["disabled"],kt={class:"grid grid-cols-1 sm:grid-cols-4 gap-2"},ht={class:"col-span-1 sm:col-span-1 w-full"},Pt={class:"mt-1 flex rounded-md shadow-sm"},Vt=["disabled"],Ut={class:"col-span-1 sm:col-span-1"},Ot={class:"mt-1 flex rounded-md shadow-sm"},Ct=["disabled"],St={class:"col-span-1 sm:col-span-1"},It={key:0,class:"mt-1 flex rounded-md shadow-sm"},jt={class:"col-span-1 sm:col-span-1"},Dt={class:"mt-1 p-2 space-x-2 inline-flex"},Nt={class:"flex items-center"},Ft=["disabled"],Tt={class:"flex items-center"},zt=["disabled"],Mt={class:"col-span-1 sm:col-span-1"},At={class:"mt-1 flex rounded-md shadow-sm"},Lt=["disabled"],Et={class:"col-span-1 sm:col-span-1"},Bt={key:0,class:"mt-1 flex rounded-md shadow-sm"},qt={class:"col-span-1 sm:col-span-2"},Ht={class:"mt-1 flex rounded-md shadow-sm"},Rt=["disabled"],Kt={key:0},Gt={class:"grid grid-cols-1 sm:grid-cols-4 gap-2 mt-4"},Yt={class:"col-span-1 sm:col-span-1"},Jt={key:0,class:"mt-1 flex rounded-md shadow-sm"},Zt={class:"col-span-1 sm:col-span-1"},Wt={key:0,class:"mt-1 flex rounded-md shadow-sm"},Qt={class:"col-span-1 sm:col-span-1"},Xt={key:0,class:"mt-1 flex rounded-md shadow-sm"},$t={key:1,class:"text-sm text-gray-500 mt-1"},es={class:"col-span-1 sm:col-span-1"},ts={class:"mt-1 flex rounded-md shadow-sm"},ss={class:"col-span-1 sm:col-span-1"},os={key:0,class:"mt-1 flex rounded-md shadow-sm"},ls={class:"col-span-1 sm:col-span-1"},rs={key:0,class:"mt-1 flex rounded-md shadow-sm"},ns={class:"col-span-1 sm:col-span-1"},as={key:0,class:"mt-1 flex rounded-md shadow-sm"},ds={class:"col-span-1 sm:col-span-1"},is={class:"mt-1 flex rounded-md shadow-sm"},ms=["disabled"],us={class:"col-span-1 sm:col-span-1"},fs={class:"mt-1 flex rounded-md shadow-sm"},cs={class:"col-span-1 sm:col-span-1"},ps={class:"mt-1 flex rounded-md shadow-sm"},gs=["disabled"],bs={key:0,class:"text-sm text-gray-600 mt-2 col-span-4"},xs={key:0},_s={class:"grid grid-cols-1 sm:grid-cols-4 gap-2 mt-4"},ys={class:"col-span-1 sm:col-span-1"},vs={key:0,class:"mt-1 flex rounded-md shadow-sm"},ws={class:"col-span-1 md:col-span-1"},ks={key:0,class:"mt-1 flex rounded-md shadow-sm"},hs={class:"col-span-1 sm:col-span-1"},Ps={class:"mt-1 flex rounded-md shadow-sm"},Vs=["disabled"],Us={class:"col-span-1 sm:col-span-1"},Os={class:"mt-1 flex rounded-md shadow-sm"},Cs=["disabled"],Ss={class:"col-span-1 sm:col-span-1"},Is={class:"mt-1 flex rounded-md shadow-sm"},js=["disabled"],Ds={class:"col-span-1 md:col-span-1"},Ns={key:0,class:"mt-1 flex rounded-md shadow-sm"},Fs={class:"col-span-1 sm:col-span-1"},Ts={class:"mt-1 flex rounded-md shadow-sm"},zs=["disabled"],Ms={class:"col-span-1 sm:col-span-1"},As={class:"mt-1 flex rounded-md shadow-sm"},Ls=["disabled"],Es={class:"col-span-1 sm:col-span-1"},Bs={class:"mt-2"},qs={class:"col-span-1 sm:col-span-1"},Hs={class:"mt-1 flex rounded-md shadow-sm"},Rs=["disabled"],Ks={class:"mt-2"},Gs={class:"col-span-1 sm:col-span-1"},Ys={class:"mt-1 flex rounded-md shadow-sm"},Js=["disabled"],Zs={class:"mt-2"},Ws={class:"col-span-1 sm:col-span-1"},Qs={class:"mt-1 flex rounded-md shadow-sm"},Xs=["disabled"],$s={class:"mt-2"},eo={class:"col-span-1 sm:col-span-4"},to={class:"mt-1 flex rounded-md shadow-sm"},so=["disabled"],oo={class:"px-4 py-3 bg-gray-50 text-right sm:px-6"},lo={class:"px-4 py-5 bg-white space-y-6 sm:p-6"},ro={class:"px-4 py-5 bg-white space-y-6 sm:p-6"},no={class:"px-4 py-5 bg-white space-y-6 sm:p-6"},ao={class:"w-full flex justify-between"},io={class:"gap-2"},mo={id:"text-code",ref:"textContent"},uo={key:0};function fo(o,e,f,s,P,h){const m=j("multiselect"),y=j("ImageUploader"),V=j("Link"),U=j("customer-file"),O=j("customer-history"),S=j("app-layout");return u(),D(S,null,{header:B(()=>e[54]||(e[54]=[t("h2",{class:"font-semibold text-xl text-white leading-tight"},"Customer Details",-1)])),default:B(()=>{var k,C;return[t("div",Ze,[t("div",We,[t("div",Qe,[t("form",{onSubmit:e[53]||(e[53]=_e((...l)=>s.submit&&s.submit(...l),["prevent"]))},[t("div",Xe,[t("div",$e,[t("ul",et,[t("li",{class:I(["px-2 lg:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",[s.tab==1?"border-b-2 border-indigo-400 -mb-px":"opacity-50"]])},[t("a",{href:"#",onClick:e[0]||(e[0]=l=>s.tabClick(1)),"preserve-state":""},"Genaral")],2),t("li",{class:I(["px-2 lg:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",[s.tab==2?"border-b-2 border-indigo-400 -mb-px":"opacity-50"]])},[t("a",{href:"#",onClick:e[1]||(e[1]=l=>s.tabClick(2)),"preserve-state":""},[e[55]||(e[55]=c("Documents ")),t("span",tt,d(f.total_documents),1)])],2),t("li",{class:I(["px-2 lg:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",[s.tab==6?"border-b-2 border-indigo-400 -mb-px":"opacity-50"]])},[t("a",{href:"#",onClick:e[2]||(e[2]=l=>s.tabClick(6)),"preserve-state":""},"Text")],2),t("li",{class:I(["px-2 lg:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",[s.tab==3?"border-b-2 border-indigo-400 -mb-px":"opacity-50"]])},[t("a",{href:"#",onClick:e[3]||(e[3]=l=>s.tabClick(3)),"preserve-state":""},"History")],2)])]),t("div",st,[t("div",{class:I(["p-4",[s.tab==1?"":"hidden"]])},[t("div",ot,[e[118]||(e[118]=t("h6",{class:"md:min-w-full text-indigo-700 text-xs uppercase font-bold block pt-1 no-underline"}," Customer Basic Information",-1)),t("div",lt,[t("div",rt,[e[57]||(e[57]=t("label",{for:"name",class:"block text-sm font-medium text-gray-700"},[t("span",{class:"text-red-500"},"*"),c(" Customer Name ")],-1)),t("div",nt,[e[56]||(e[56]=t("span",{class:"z-10 leading-snug font-normal text-center text-gray-300 absolute bg-transparent rounded text-base items-center justify-center w-8 pl-3 py-2"},[t("i",{class:"fas fa-user"})],-1)),i(t("input",{type:"text","onUpdate:modelValue":e[4]||(e[4]=l=>s.form.name=l),name:"name",id:"name",class:"pl-10 focus:ring-indigo-500 focus:border-indigo-500 flex-1 block w-full rounded-md sm:text-sm border-gray-300",placeholder:"Customer Name",required:"",disabled:s.checkPerm("name")},null,8,at),[[v,s.form.name]])]),i(t("p",{class:"mt-2 text-sm text-red-500"},d(o.$page.props.errors.name),513),[[x,o.$page.props.errors.name]])]),t("div",dt,[e[58]||(e[58]=t("label",{for:"township",class:"block text-sm font-medium text-gray-700"},[t("span",{class:"text-red-500"},"*"),c(" Township ")],-1)),f.townships.length!==0?(u(),g("div",it,[w(m,{"deselect-label":"Selected already",options:f.townships,"track-by":"id",label:"name",modelValue:s.form.township,"onUpdate:modelValue":e[5]||(e[5]=l=>s.form.township=l),placeholder:"Select Township","allow-empty":!1,disabled:s.checkPerm("township_id"),required:""},null,8,["options","modelValue","disabled"])])):_("",!0),i(t("p",{class:"mt-2 text-sm text-red-500"},d(o.$page.props.errors.township_id),513),[[x,o.$page.props.errors.township_id]])]),t("div",mt,[e[60]||(e[60]=t("label",{for:"phone_1",class:"block text-sm font-medium text-gray-700"},[t("span",{class:"text-red-500"},"*"),c(" Phone No. (e.g. 09-123/09-456)")],-1)),t("div",ut,[e[59]||(e[59]=t("span",{class:"z-10 leading-snug font-normal absolute text-center text-gray-300 bg-transparent rounded text-base items-center justify-center w-8 pl-3 py-2"},[t("i",{class:"fas fa-phone"})],-1)),i(t("input",{type:"text","onUpdate:modelValue":e[6]||(e[6]=l=>s.form.phone_1=l),name:"phone_1",id:"phone_1",class:"pl-10 focus:ring-indigo-500 focus:border-indigo-500 flex-1 block w-full rounded-md sm:text-sm border-gray-300",placeholder:"e.g 0945000111",required:"",disabled:s.checkPerm("phone_1")},null,8,ft),[[v,s.form.phone_1]])]),i(t("p",{class:"mt-2 text-sm text-red-500"},d(o.$page.props.errors.phone_1),513),[[x,o.$page.props.errors.phone_1]])]),t("div",ct,[e[62]||(e[62]=t("label",{for:"latitude",class:"block text-sm font-medium text-gray-700"},"Latitude ",-1)),t("div",pt,[e[61]||(e[61]=t("span",{class:"z-10 leading-snug font-normal text-center text-gray-300 absolute bg-transparent rounded text-base items-center justify-center w-8 pl-3 py-3"},[t("i",{class:"fas fa-location-arrow"})],-1)),i(t("input",{type:"text","onUpdate:modelValue":e[7]||(e[7]=l=>s.form.latitude=l),name:"latitude",id:"latitude",class:"pl-10 mt-1 form-input focus:ring-indigo-500 focus:border-indigo-500 flex-1 block w-full rounded-md sm:text-sm border-gray-300",onKeypress:e[8]||(e[8]=l=>s.isNumber(o.event)),disabled:s.checkPerm("location")},null,40,gt),[[v,s.form.latitude]])]),i(t("p",{class:"mt-2 text-sm text-red-500"},d(o.$page.props.errors.latitude),513),[[x,o.$page.props.errors.latitude]])]),t("div",bt,[e[64]||(e[64]=t("label",{for:"longitude",class:"block text-sm font-medium text-gray-700"},"Longitude ",-1)),t("div",xt,[e[63]||(e[63]=t("span",{class:"z-10 leading-snug font-normal text-center text-gray-300 absolute bg-transparent rounded text-base items-center justify-center w-8 pl-3 py-3"},[t("i",{class:"fas fa-location-arrow"})],-1)),i(t("input",{type:"text","onUpdate:modelValue":e[9]||(e[9]=l=>s.form.longitude=l),name:"longitude",id:"longitude",class:"pl-10 mt-1 form-input focus:ring-indigo-500 focus:border-indigo-500 flex-1 block w-full rounded-md sm:text-sm border-gray-300",onKeypress:e[10]||(e[10]=l=>s.isNumber(o.event)),disabled:s.checkPerm("location")},null,40,_t),[[v,s.form.longitude]])]),i(t("p",{class:"mt-2 text-sm text-red-500"},d(o.$page.props.errors.longitude),513),[[x,o.$page.props.errors.longitude]])]),t("div",yt,[e[66]||(e[66]=t("label",{for:"address",class:"block text-sm font-medium text-gray-700"},[t("span",{class:"text-red-500"},"*"),c(" Full Address ")],-1)),t("div",vt,[e[65]||(e[65]=t("span",{class:"z-10 leading-snug font-normal absolute text-center text-gray-300 bg-transparent rounded text-base items-center justify-center w-8 pl-3 py-2"},[t("i",{class:"fas fa-map-marker-alt"})],-1)),i(t("textarea",{"onUpdate:modelValue":e[11]||(e[11]=l=>s.form.address=l),name:"address",id:"address",class:"pl-10 focus:ring-indigo-500 focus:border-indigo-500 flex-1 block w-full rounded-md sm:text-sm border-gray-300",required:"",disabled:s.checkPerm("address")},null,8,wt),[[v,s.form.address]])]),i(t("p",{class:"mt-2 text-sm text-red-500"},d(o.$page.props.errors.address),513),[[x,o.$page.props.errors.address]])])]),e[119]||(e[119]=t("hr",{class:"my-4 md:min-w-full"},null,-1)),e[120]||(e[120]=t("h6",{class:"md:min-w-full text-indigo-700 text-xs uppercase font-bold block pt-1 no-underline"}," Order Information",-1)),t("div",kt,[t("div",ht,[e[68]||(e[68]=t("label",{for:"ftth_id",class:"block text-sm font-medium text-gray-700"},[t("span",{class:"text-red-500"},"*"),c(" Customer ID ")],-1)),t("div",Pt,[e[67]||(e[67]=t("span",{class:"z-10 leading-snug font-normal text-center text-gray-300 absolute bg-transparent rounded text-base items-center justify-center w-8 pl-3 py-2"},[t("i",{class:"fas fa-id-badge"})],-1)),i(t("input",{"onUpdate:modelValue":e[12]||(e[12]=l=>s.form.ftth_id=l),type:"text",name:"ftth_id",id:"ftth_id",class:"pl-10 focus:ring-indigo-500 focus:border-indigo-500 flex-1 block w-full rounded-md sm:text-sm border-gray-300",required:"",disabled:s.checkPerm("ftth_id")},null,8,Vt),[[v,s.form.ftth_id]])]),i(t("p",{class:"mt-2 text-sm text-red-500"},d(o.$page.props.errors.ftth_id),513),[[x,o.$page.props.errors.ftth_id]])]),t("div",Ut,[e[69]||(e[69]=t("label",{for:"order_date",class:"block text-sm font-medium text-gray-700"},[t("span",{class:"text-red-500"},"*"),c(" Order Date ")],-1)),t("div",Ot,[i(t("input",{type:"date","onUpdate:modelValue":e[13]||(e[13]=l=>s.form.order_date=l),name:"order_date",id:"order_date",class:"focus:ring-indigo-500 focus:border-indigo-500 flex-1 block w-full rounded-md sm:text-sm border-gray-300",required:"",disabled:s.checkPerm("order_date")},null,8,Ct),[[v,s.form.order_date]])]),i(t("p",{class:"mt-2 text-sm text-red-500"},d(o.$page.props.errors.order_date),513),[[x,o.$page.props.errors.order_date]])]),t("div",St,[e[70]||(e[70]=t("label",{for:"package",class:"block text-sm font-medium text-gray-700"},[t("span",{class:"text-red-500"},"*"),c(" Package ")],-1)),f.packages?(u(),g("div",It,[w(m,{"deselect-label":"Selected already",options:f.packages,"track-by":"id",label:"name",modelValue:s.form.package,"onUpdate:modelValue":e[14]||(e[14]=l=>s.form.package=l),"allow-empty":!1,disabled:s.checkPerm("package_id")},null,8,["options","modelValue","disabled"])])):_("",!0),i(t("p",{class:"mt-2 text-sm text-red-500"},d(o.$page.props.errors.package),513),[[x,o.$page.props.errors.package]])]),t("div",jt,[e[73]||(e[73]=t("label",{class:"block text-sm font-medium text-gray-700"}," Installation Timeline ",-1)),t("div",Dt,[t("div",Nt,[i(t("input",{type:"radio",id:"24hours",name:"installation_timeline",value:"24","onUpdate:modelValue":e[15]||(e[15]=l=>s.form.installation_timeline=l),class:"focus:ring-indigo-500 h-4 w-4 text-indigo-600 border-gray-300",disabled:s.checkPerm("installation_timeline")},null,8,Ft),[[Z,s.form.installation_timeline]]),e[71]||(e[71]=t("label",{for:"24hours",class:"ml-2 text-sm text-gray-700"},"24 Hours",-1))]),t("div",Tt,[i(t("input",{type:"radio",id:"48hours",name:"installation_timeline",value:"48","onUpdate:modelValue":e[16]||(e[16]=l=>s.form.installation_timeline=l),class:"focus:ring-indigo-500 h-4 w-4 text-indigo-600 border-gray-300",disabled:s.checkPerm("installation_timeline")},null,8,zt),[[Z,s.form.installation_timeline]]),e[72]||(e[72]=t("label",{for:"48hours",class:"ml-2 text-sm text-gray-700"},"48 Hours",-1))])]),i(t("p",{class:"mt-2 text-sm text-red-500"},d(o.$page.props.errors.installation_timeline),513),[[x,o.$page.props.errors.installation_timeline]])]),t("div",Mt,[e[75]||(e[75]=t("label",{for:"prefer_install_date",class:"block text-sm font-medium text-gray-700"},[t("span",{class:"text-red-500"},"*"),c(" Prefer Installation Date ")],-1)),t("div",At,[e[74]||(e[74]=t("span",{class:"z-10 leading-snug font-normal text-center text-gray-300 absolute bg-transparent rounded text-base items-center justify-center w-8 pl-3 py-2"},[t("i",{class:"fas fa-tools"})],-1)),i(t("input",{"onUpdate:modelValue":e[17]||(e[17]=l=>s.form.prefer_install_date=l),type:"date",name:"prefer_install_date",id:"prefer_install_date",class:"pl-10 focus:ring-indigo-500 focus:border-indigo-500 flex-1 block w-full rounded-md sm:text-sm border-gray-300",disabled:s.checkPerm("prefer_install_date")},null,8,Lt),[[v,s.form.prefer_install_date]])])]),t("div",Et,[e[76]||(e[76]=t("label",{for:"status",class:"block text-sm font-medium text-gray-700"},[t("span",{class:"text-red-500"},"*"),c(" Customer Status ")],-1)),f.status_list.length!==0?(u(),g("div",Bt,[w(m,{"deselect-label":"Selected already",options:s.statusList,"track-by":"id",label:"name",modelValue:s.form.status,"onUpdate:modelValue":e[18]||(e[18]=l=>s.form.status=l),"allow-empty":!1,disabled:s.disableStatus?s.disableStatus:s.checkPerm("status_id")},null,8,["options","modelValue","disabled"])])):_("",!0),i(t("p",{class:"mt-2 text-sm text-red-500"},d(o.$page.props.errors.status),513),[[x,o.$page.props.errors.status]])]),t("div",qt,[e[78]||(e[78]=t("label",{for:"order_remark",class:"block text-sm font-medium text-gray-700"}," Order Remark ",-1)),t("div",Ht,[e[77]||(e[77]=t("span",{class:"z-10 leading-snug font-normal text-center text-gray-300 absolute bg-transparent rounded text-base items-center justify-center w-8 pl-3 py-2"},[t("i",{class:"fas fa-comment"})],-1)),i(t("textarea",{name:"order_remark","onUpdate:modelValue":e[19]||(e[19]=l=>s.form.order_remark=l),id:"order_remark",class:"pl-10 focus:ring-indigo-500 focus:border-indigo-500 flex-1 block w-full rounded-md sm:text-sm border-gray-300",disabled:s.checkPerm("order_remark")},null,8,Rt),[[v,s.form.order_remark]])]),i(t("p",{class:"mt-2 text-sm text-red-500"},d(o.$page.props.errors.order_remark),513),[[x,o.$page.props.errors.order_remark]])])]),o.$page.props.login_type=="internal"?(u(),g("div",Kt,[e[116]||(e[116]=t("hr",{class:"my-4 md:min-w-full"},null,-1)),e[117]||(e[117]=t("h6",{class:"md:min-w-full text-indigo-700 text-xs uppercase font-bold block pt-1 no-underline"}," ODN Information",-1)),t("div",Gt,[t("div",Yt,[e[79]||(e[79]=t("label",{for:"isp",class:"block text-sm font-medium text-gray-700"}," ISP Assignment ",-1)),f.isps.length!==0?(u(),g("div",Jt,[w(m,{"deselect-label":"Selected already",options:f.isps,"track-by":"id",label:"name",modelValue:s.form.isp_id,"onUpdate:modelValue":e[20]||(e[20]=l=>s.form.isp_id=l),"allow-empty":!0,disabled:s.checkPerm("isp_id")},null,8,["options","modelValue","disabled"])])):_("",!0),i(t("p",{class:"mt-2 text-sm text-red-500"},d(o.$page.props.errors.isp_id),513),[[x,o.$page.props.errors.isp_id]])]),t("div",Zt,[e[80]||(e[80]=t("label",{for:"partner",class:"block text-sm font-medium text-gray-700"}," Partner ",-1)),f.partners.length!==0?(u(),g("div",Wt,[w(m,{"deselect-label":"Selected already",options:f.partners,"track-by":"id",label:"name",modelValue:s.form.partner_id,"onUpdate:modelValue":e[21]||(e[21]=l=>s.form.partner_id=l),"allow-empty":!0,disabled:s.checkPerm("partner_id")},null,8,["options","modelValue","disabled"])])):_("",!0),i(t("p",{class:"mt-2 text-sm text-red-500"},d(o.$page.props.errors.partner_id),513),[[x,o.$page.props.errors.partner_id]])]),t("div",Qt,[e[81]||(e[81]=t("label",{for:"pop_site",class:"block text-sm font-medium text-gray-700"},"Choose POP Site ",-1)),s.filteredPops.length!==0?(u(),g("div",Xt,[w(m,{"deselect-label":"Selected already",options:s.filteredPops,"track-by":"id",label:"site_name",modelValue:s.form.pop_id,"onUpdate:modelValue":e[22]||(e[22]=l=>s.form.pop_id=l),"allow-empty":!1,disabled:s.checkPerm("sn_id")},null,8,["options","modelValue","disabled"])])):(u(),g("div",$t," Please select a township first to view available POPs "))]),t("div",es,[e[82]||(e[82]=t("label",{for:"pop_device_id",class:"block text-sm font-medium text-gray-700"}," Choose OLT",-1)),t("div",ts,[w(m,{"deselect-label":"Selected already",options:s.popDevices,"track-by":"id",label:"device_name",modelValue:s.form.pop_device_id,"onUpdate:modelValue":e[23]||(e[23]=l=>s.form.pop_device_id=l),"allow-empty":!1,disabled:s.checkPerm("pop_device_id")},null,8,["options","modelValue","disabled"])])]),t("div",ss,[e[83]||(e[83]=t("label",{for:"fiber_distance",class:"block text-sm font-medium text-gray-700"}," Please Choose DN ",-1)),s.dnOptions?(u(),g("div",os,[w(m,{"deselect-label":"Selected already",options:s.dnOptions,"track-by":"id",label:"name",modelValue:s.form.dn_id,"onUpdate:modelValue":e[24]||(e[24]=l=>s.form.dn_id=l),"allow-empty":!1,disabled:s.checkPerm("sn_id")},null,8,["options","modelValue","disabled"])])):_("",!0)]),t("div",ls,[e[84]||(e[84]=t("label",{for:"fiber_distance",class:"block text-sm font-medium text-gray-700"}," Please Choose SN ",-1)),s.snOptions?(u(),g("div",rs,[w(m,{"deselect-label":"Selected already",options:s.snOptions,"track-by":"id",label:"name",modelValue:s.form.sn_id,"onUpdate:modelValue":e[25]||(e[25]=l=>s.form.sn_id=l),"allow-empty":!0,disabled:s.checkPerm("sn_id")},null,8,["options","modelValue","disabled"])])):_("",!0)]),t("div",ns,[e[85]||(e[85]=t("label",{for:"splitter_no",class:"block text-sm font-medium text-gray-700"}," SN Port No. ",-1)),s.snPortNoOptions.length!==0?(u(),g("div",as,[w(m,{"deselect-label":"Selected already",options:s.snPortNoOptions,"track-by":"id",label:"name",modelValue:s.form.splitter_no,"onUpdate:modelValue":e[26]||(e[26]=l=>s.form.splitter_no=l),"allow-empty":!0,disabled:s.checkPerm("sn_id")},null,8,["options","modelValue","disabled"]),i(t("p",{class:"mt-2 text-sm text-red-500"},d(o.$page.props.errors.splitter_no),513),[[x,o.$page.props.errors.splitter_no]])])):_("",!0)]),t("div",ds,[e[87]||(e[87]=t("label",{for:"port_balance",class:"block text-sm font-medium text-gray-700"}," Port Balance",-1)),t("div",is,[e[86]||(e[86]=t("span",{class:"z-10 leading-snug font-normal text-center text-gray-300 absolute bg-transparent rounded text-base items-center justify-center w-8 pl-3 py-2"},[t("i",{class:"fas fa-tools"})],-1)),i(t("input",{"onUpdate:modelValue":e[27]||(e[27]=l=>s.form.port_balance=l),type:"number",name:"port_balance",id:"port_balance",class:"pl-10 focus:ring-indigo-500 focus:border-indigo-500 flex-1 block w-full rounded-md sm:text-sm border-gray-300",placeholder:"Enter Port Balance",disabled:s.checkPerm("port_balance")},null,8,ms),[[v,s.form.port_balance]]),i(t("p",{class:"mt-2 text-sm text-red-500"},d(o.$page.props.errors.port_balance),513),[[x,o.$page.props.errors.port_balance]])])]),t("div",us,[e[88]||(e[88]=t("label",{for:"gpon_ontid",class:"block text-sm font-medium text-gray-700"}," GPON ONTID ",-1)),t("div",fs,[w(m,{"deselect-label":"Selected already",options:s.gponOnuIdOptions,"track-by":"id",label:"name",modelValue:s.form.gpon_ontid,"onUpdate:modelValue":e[28]||(e[28]=l=>s.form.gpon_ontid=l),"allow-empty":!0,disabled:s.checkPerm("gpon_ontid")},null,8,["options","modelValue","disabled"]),i(t("p",{class:"mt-2 text-sm text-red-500"},d(o.$page.props.errors.gpon_ontid),513),[[x,o.$page.props.errors.gpon_ontid]])])]),t("div",cs,[e[90]||(e[90]=t("label",{for:"service_activation_date",class:"block text-sm font-medium text-gray-700"}," Service Activation Date ",-1)),t("div",ps,[e[89]||(e[89]=t("span",{class:"z-10 leading-snug font-normal absolute text-center text-gray-300 bg-transparent rounded text-base items-center justify-center w-8 pl-3 py-2"},[t("i",{class:"fas fa-tools"})],-1)),i(t("input",{"onUpdate:modelValue":e[29]||(e[29]=l=>s.form.service_activation_date=l),type:"date",name:"service_activation_date",id:"service_activation_date",class:"pl-10 focus:ring-indigo-500 focus:border-indigo-500 flex-1 block w-full rounded-md sm:text-sm border-gray-300",disabled:s.checkPerm("service_activation_date")},null,8,gs),[[v,s.form.service_activation_date]])]),i(t("p",{class:"mt-2 text-sm text-red-500"},d(o.$page.props.errors.service_activation_date),513),[[x,o.$page.props.errors.service_activation_date]])]),s.dnInfo?(u(),g("div",bs," GPON INFO : "+d(s.dnInfo),1)):_("",!0)]),s.form.sn_id?(u(),g("div",xs,[e[114]||(e[114]=t("hr",{class:"my-4 md:min-w-full"},null,-1)),e[115]||(e[115]=t("h6",{class:"md:min-w-full text-indigo-700 text-xs uppercase font-bold block pt-1 no-underline"}," Installation Information",-1)),t("div",_s,[t("div",ys,[e[91]||(e[91]=t("label",{for:"subcom",class:"block text-sm font-medium text-gray-700"}," Assign Installation Team ",-1)),f.subcoms.length!==0?(u(),g("div",vs,[w(m,{"deselect-label":"Selected already",options:f.subcoms,"track-by":"id",label:"name",modelValue:s.form.subcom,"onUpdate:modelValue":e[30]||(e[30]=l=>s.form.subcom=l),"allow-empty":!0,disabled:s.checkPerm("subcom_id")},null,8,["options","modelValue","disabled"])])):_("",!0),i(t("p",{class:"mt-2 text-sm text-red-500"},d(o.$page.props.errors.subcom),513),[[x,o.$page.props.errors.subcom]])]),t("div",ws,[e[92]||(e[92]=t("label",{for:"installation_status",class:"block text-sm font-medium text-gray-700"}," Installation Status ",-1)),s.installationStatus.length!==0?(u(),g("div",ks,[w(m,{"deselect-label":"Selected already",options:s.installationStatus,"track-by":"id",label:"name",modelValue:s.form.installation_status,"onUpdate:modelValue":e[31]||(e[31]=l=>s.form.installation_status=l),"allow-empty":!1,disabled:s.checkPerm("installation_status"),multiple:!1,taggable:!1},null,8,["options","modelValue","disabled"])])):_("",!0),i(t("p",{class:"mt-2 text-sm text-red-500"},d(o.$page.props.errors.installation_status),513),[[x,o.$page.props.errors.installation_status]])]),t("div",hs,[e[94]||(e[94]=t("label",{for:"way_list_date",class:"block text-sm font-medium text-gray-700"}," Way List Date ",-1)),t("div",Ps,[e[93]||(e[93]=t("span",{class:"z-10 leading-snug font-normal absolute text-center text-gray-300 bg-transparent rounded text-base items-center justify-center w-8 pl-3 py-2"},[t("i",{class:"fas fa-tools"})],-1)),i(t("input",{"onUpdate:modelValue":e[32]||(e[32]=l=>s.form.way_list_date=l),type:"date",name:"way_list_date",id:"way_list_date",class:"pl-10 focus:ring-indigo-500 focus:border-indigo-500 flex-1 block w-full rounded-md sm:text-sm border-gray-300",disabled:s.checkPerm("way_list_date")},null,8,Vs),[[v,s.form.way_list_date]])]),i(t("p",{class:"mt-2 text-sm text-red-500"},d(o.$page.props.errors.way_list_date),513),[[x,o.$page.props.errors.way_list_date]])]),t("div",Us,[e[96]||(e[96]=t("label",{for:"installation_date",class:"block text-sm font-medium text-gray-700"}," Actual Installed Date ",-1)),t("div",Os,[e[95]||(e[95]=t("span",{class:"z-10 leading-snug font-normal absolute text-center text-gray-300 bg-transparent rounded text-base items-center justify-center w-8 pl-3 py-2"},[t("i",{class:"fas fa-tools"})],-1)),i(t("input",{"onUpdate:modelValue":e[33]||(e[33]=l=>s.form.installation_date=l),type:"date",name:"installation_date",id:"installation_date",class:"pl-10 focus:ring-indigo-500 focus:border-indigo-500 flex-1 block w-full rounded-md sm:text-sm border-gray-300",disabled:s.checkPerm("installation_date")},null,8,Cs),[[v,s.form.installation_date]])]),i(t("p",{class:"mt-2 text-sm text-red-500"},d(o.$page.props.errors.installation_date),513),[[x,o.$page.props.errors.installation_date]])]),t("div",Ss,[e[98]||(e[98]=t("label",{for:"fiber_distance",class:"block text-sm font-medium text-gray-700"}," Actual Fiber Distance ",-1)),t("div",Is,[i(t("input",{"onUpdate:modelValue":e[34]||(e[34]=l=>s.form.fiber_distance=l),type:"number",name:"fiber_distance",id:"fiber_distance",class:"focus:ring-indigo-500 focus:border-indigo-500 flex-1 block w-full rounded-none rounded-l-md sm:text-sm border-gray-300",disabled:s.checkPerm("fiber_distance")},null,8,js),[[v,s.form.fiber_distance]]),e[97]||(e[97]=t("span",{class:"inline-flex items-center px-3 rounded-r-md border border-l-0 border-gray-300 bg-gray-50 text-gray-500 text-sm"}," Meter ",-1)),i(t("p",{class:"mt-2 text-sm text-red-500"},d(o.$page.props.errors.fiber_distance),513),[[x,o.$page.props.errors.fiber_distance]])])]),t("div",Ds,[e[99]||(e[99]=t("label",{for:"bundle",class:"block text-sm font-medium text-gray-700"}," Devices ",-1)),f.bundle_equiptments.length!==0?(u(),g("div",Ns,[w(m,{"deselect-label":"Selected already",options:f.bundle_equiptments,"track-by":"id",label:"name",modelValue:s.form.bundles,"onUpdate:modelValue":e[35]||(e[35]=l=>s.form.bundles=l),"allow-empty":!1,disabled:s.checkPerm("bundle"),multiple:!0,taggable:!1},null,8,["options","modelValue","disabled"])])):_("",!0),i(t("p",{class:"mt-2 text-sm text-red-500"},d(o.$page.props.errors.bundles),513),[[x,o.$page.props.errors.bundles]])]),t("div",Fs,[e[101]||(e[101]=t("label",{for:"onu_serial",class:"block text-sm font-medium text-gray-700"}," ONU Serial ",-1)),t("div",Ts,[e[100]||(e[100]=t("span",{class:"z-10 leading-snug font-normal text-center text-gray-300 absolute bg-transparent rounded text-base items-center justify-center w-8 pl-3 py-2"},[t("i",{class:"fas fa-tools"})],-1)),i(t("input",{"onUpdate:modelValue":e[36]||(e[36]=l=>s.form.onu_serial=l),type:"text",name:"onu_serial",id:"onu_serial",class:"pl-10 focus:ring-indigo-500 focus:border-indigo-500 flex-1 block w-full rounded-md sm:text-sm border-gray-300",disabled:s.checkPerm("onu_serial")},null,8,zs),[[v,s.form.onu_serial]])]),i(t("p",{class:"mt-2 text-sm text-red-500"},d(o.$page.props.errors.onu_serial),513),[[x,o.$page.props.errors.onu_serial]])]),t("div",Ms,[e[103]||(e[103]=t("label",{for:"onu_power",class:"block text-sm font-medium text-gray-700"}," ONU Power ",-1)),t("div",As,[i(t("input",{type:"text","onUpdate:modelValue":e[37]||(e[37]=l=>s.form.onu_power=l),name:"onu_power",id:"onu_power",class:"focus:ring-indigo-500 focus:border-indigo-500 flex-1 block w-full rounded-none rounded-l-md sm:text-sm border-gray-300",disabled:s.checkPerm("onu_power")},null,8,Ls),[[v,s.form.onu_power]]),e[102]||(e[102]=t("span",{class:"inline-flex items-center px-3 rounded-r-md border border-l-0 border-gray-300 bg-gray-50 text-gray-500 text-sm"}," dBi ",-1)),i(t("p",{class:"mt-2 text-sm text-red-500"},d(o.$page.props.errors.onu_power),513),[[x,o.$page.props.errors.onu_power]])])]),t("div",Es,[e[104]||(e[104]=t("label",{for:"route_kmz_image",class:"block text-sm font-medium text-gray-700"}," Fiber Route KMZ",-1)),e[105]||(e[105]=t("div",{class:"mt-1 flex"},[t("label",{for:"route_kmz_image",class:"block py-2 text-sm font-medium text-gray-500"}," Upload Fiber Route KMZ Below:")],-1)),t("div",Bs,[w(y,{modelValue:s.form.route_kmz_image,"onUpdate:modelValue":e[38]||(e[38]=l=>s.form.route_kmz_image=l),imageUrl:s.routeImagePreview,"onUpdate:imageUrl":e[39]||(e[39]=l=>s.routeImagePreview=l),existingImage:f.customer.route_kmz_image?`/storage/${f.customer.route_kmz_image}`:null,id:"route_kmz_image","upload-text":"Upload route image",error:o.$page.props.errors.route_kmz_image},null,8,["modelValue","imageUrl","existingImage","error"])])]),t("div",qs,[e[107]||(e[107]=t("label",{for:"drum_no",class:"block text-sm font-medium text-gray-700"}," Fiber Drum No.",-1)),t("div",Hs,[e[106]||(e[106]=t("span",{class:"z-10 leading-snug font-normal absolute text-center text-gray-300 bg-transparent rounded text-base items-center justify-center w-8 pl-3 py-2"},[t("i",{class:"fas fa-gear"})],-1)),i(t("input",{"onUpdate:modelValue":e[40]||(e[40]=l=>s.form.drum_no_txt=l),type:"text",name:"drum_no_txt",id:"drum_no",class:"pl-10 focus:ring-indigo-500 focus:border-indigo-500 flex-1 block w-full rounded-md sm:text-sm border-gray-300",placeholder:"Enter Fiber Drum Number",disabled:s.checkPerm("drum_no_txt")},null,8,Rs),[[v,s.form.drum_no_txt]])]),i(t("p",{class:"mt-2 text-sm text-red-500"},d(o.$page.props.errors.drum_no_txt),513),[[x,o.$page.props.errors.drum_no_txt]]),t("div",Ks,[w(y,{modelValue:s.form.drum_no_image,"onUpdate:modelValue":e[41]||(e[41]=l=>s.form.drum_no_image=l),imageUrl:s.drumImagePreview,"onUpdate:imageUrl":e[42]||(e[42]=l=>s.drumImagePreview=l),existingImage:f.customer.drum_no_image?`/storage/${f.customer.drum_no_image}`:null,"upload-text":"Upload drum image",disabled:s.checkPerm("drum_no_txt"),error:o.$page.props.errors.drum_no_image},null,8,["modelValue","imageUrl","existingImage","disabled","error"])])]),t("div",Gs,[e[109]||(e[109]=t("label",{for:"start_meter_txt",class:"block text-sm font-medium text-gray-700"},"Start Meter",-1)),t("div",Ys,[e[108]||(e[108]=t("span",{class:"z-10 leading-snug font-normal absolute text-center text-gray-300 bg-transparent rounded text-base items-center justify-center w-8 pl-3 py-2"},[t("i",{class:"fas fa-ruler"})],-1)),i(t("input",{"onUpdate:modelValue":e[43]||(e[43]=l=>s.form.start_meter_txt=l),type:"text",name:"start_meter_txt",id:"start_meter_txt",class:"pl-10 focus:ring-indigo-500 focus:border-indigo-500 flex-1 block w-full rounded-md sm:text-sm border-gray-300",placeholder:"Enter Fiber Start Meter",disabled:s.checkPerm("start_meter_txt")},null,8,Js),[[v,s.form.start_meter_txt]])]),i(t("p",{class:"mt-2 text-sm text-red-500"},d(o.$page.props.errors.start_meter_txt),513),[[x,o.$page.props.errors.start_meter_txt]]),t("div",Zs,[w(y,{modelValue:s.form.start_meter_image,"onUpdate:modelValue":e[44]||(e[44]=l=>s.form.start_meter_image=l),imageUrl:s.startMeterImagePreview,"onUpdate:imageUrl":e[45]||(e[45]=l=>s.startMeterImagePreview=l),existingImage:f.customer.start_meter_image?`/storage/${f.customer.start_meter_image}`:null,"upload-text":"Upload start meter image",disabled:s.checkPerm("start_meter_txt"),error:o.$page.props.errors.start_meter_image},null,8,["modelValue","imageUrl","existingImage","disabled","error"])])]),t("div",Ws,[e[111]||(e[111]=t("label",{for:"end_meter_txt",class:"block text-sm font-medium text-gray-700"},"End Meter",-1)),t("div",Qs,[e[110]||(e[110]=t("span",{class:"z-10 leading-snug font-normal absolute text-center text-gray-300 bg-transparent rounded text-base items-center justify-center w-8 pl-3 py-2"},[t("i",{class:"fas fa-ruler-horizontal"})],-1)),i(t("input",{"onUpdate:modelValue":e[46]||(e[46]=l=>s.form.end_meter_txt=l),type:"text",name:"end_meter_txt",id:"end_meter_txt",class:"pl-10 focus:ring-indigo-500 focus:border-indigo-500 flex-1 block w-full rounded-md sm:text-sm border-gray-300",placeholder:"Enter Fiber End Meter",disabled:s.checkPerm("end_meter_txt")},null,8,Xs),[[v,s.form.end_meter_txt]])]),i(t("p",{class:"mt-2 text-sm text-red-500"},d(o.$page.props.errors.end_meter_txt),513),[[x,o.$page.props.errors.end_meter_txt]]),t("div",$s,[w(y,{modelValue:s.form.end_meter_image,"onUpdate:modelValue":e[47]||(e[47]=l=>s.form.end_meter_image=l),imageUrl:s.endMeterImagePreview,"onUpdate:imageUrl":e[48]||(e[48]=l=>s.endMeterImagePreview=l),existingImage:f.customer.end_meter_image?`/storage/${f.customer.end_meter_image}`:null,"upload-text":"Upload end meter image",disabled:s.checkPerm("end_meter_txt"),error:o.$page.props.errors.end_meter_image},null,8,["modelValue","imageUrl","existingImage","disabled","error"])])]),t("div",eo,[e[113]||(e[113]=t("label",{for:"installation_remark",class:"block text-sm font-medium text-gray-700"}," Installation Remark ",-1)),t("div",to,[e[112]||(e[112]=t("span",{class:"z-10 leading-snug font-normal text-center text-gray-300 absolute bg-transparent rounded text-base items-center justify-center w-8 pl-3 py-2"},[t("i",{class:"fas fa-comment"})],-1)),i(t("textarea",{name:"installation_remark","onUpdate:modelValue":e[49]||(e[49]=l=>s.form.installation_remark=l),id:"installation_remark",class:"pl-10 focus:ring-indigo-500 focus:border-indigo-500 flex-1 block w-full rounded-md sm:text-sm border-gray-300",disabled:s.checkPerm("installation_remark")},null,8,so),[[v,s.form.installation_remark]])]),i(t("p",{class:"mt-2 text-sm text-red-500"},d(o.$page.props.errors.installation_remark),513),[[x,o.$page.props.errors.installation_remark]])])])])):_("",!0)])):_("",!0)]),t("div",oo,[w(V,{href:o.route("customer.index"),class:"inline-flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-yellow-600 hover:bg-yellow-700 shadow-sm focus:outline-none focus:border-blue-300 focus:shadow-outline-blue transition ease-in-out duration-150"},{default:B(()=>e[121]||(e[121]=[c("Back")])),_:1},8,["href"]),t("button",{onClick:e[50]||(e[50]=(...l)=>o.resetForm&&o.resetForm(...l)),type:"button",class:"ml-2 inline-flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-gray-600 hover:bg-gray-700 shadow-sm focus:outline-none focus:border-blue-300 focus:shadow-outline-blue transition ease-in-out duration-150"},"Reset"),e[122]||(e[122]=t("button",{type:"submit",class:"ml-2 inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"},"Save",-1))])],2),t("div",{class:I(["p-4",[s.tab==2?"":"hidden"]])},[t("div",lo,[e[123]||(e[123]=t("h6",{class:"md:min-w-full text-indigo-700 text-xs uppercase font-bold block pt-1 no-underline"}," Customer Documents",-1)),e[124]||(e[124]=t("hr",{class:"my-4 md:min-w-full"},null,-1)),(u(),D(W,null,[s.tab==2?(u(),D(U,{key:0,data:s.form.id,permission:!s.checkPerm("order_date")},null,8,["data","permission"])):_("",!0)],1024))])],2),t("div",{class:I(["p-4",[s.tab==3?"":"hidden"]])},[t("div",ro,[e[125]||(e[125]=t("h6",{class:"md:min-w-full text-indigo-700 text-xs uppercase font-bold block pt-1 no-underline"}," Customer History",-1)),e[126]||(e[126]=t("hr",{class:"my-4 md:min-w-full"},null,-1)),(u(),D(W,null,[s.tab==3?(u(),D(O,{key:0,data:s.form.id,permission:!s.checkPerm("order_date")},null,8,["data","permission"])):_("",!0)],1024))])],2),t("div",{class:I(["p-4",[s.tab==6?"":"hidden"]])},[t("div",no,[t("div",ao,[e[130]||(e[130]=t("h6",{class:"text-indigo-700 text-xs uppercase font-bold block pt-1 no-underline"},"Text ",-1)),t("span",io,[t("a",{href:"#",onClick:e[51]||(e[51]=l=>s.copyText())},e[127]||(e[127]=[c("Copy "),t("i",{class:"ml-2 fa text-xl fa-copy text-right text-indigo-500 hover:text-indigo-700 cursor-pointer"},null,-1)])),e[129]||(e[129]=c(" | ")),t("a",{href:"#",onClick:e[52]||(e[52]=l=>s.shareText())},e[128]||(e[128]=[c(" Share "),t("i",{class:"fa text-xl fa-share-nodes text-right text-indigo-500 hover:text-indigo-700 cursor-pointer"},null,-1)]))])]),e[147]||(e[147]=t("hr",{class:"my-4 md:min-w-full"},null,-1)),t("div",mo,[c(" Customer ID – "+d(s.form.ftth_id),1),e[131]||(e[131]=t("br",null,null,-1)),c(" Service Order Date - "+d(s.form.order_date),1),e[132]||(e[132]=t("br",null,null,-1)),c(" Customer Name – "+d(s.form.name),1),e[133]||(e[133]=t("br",null,null,-1)),c(" Contact Number – "+d(s.form.phone_1)+" ",1),e[134]||(e[134]=t("br",null,null,-1)),c(" Township – "+d(s.form.township.name),1),e[135]||(e[135]=t("br",null,null,-1)),c(" Fully Address – "+d(s.form.address),1),e[136]||(e[136]=t("br",null,null,-1)),c(" Location – "+d(s.form.latitude)+","+d(s.form.longitude)+" ",1),e[137]||(e[137]=t("br",null,null,-1)),c(" Applied Mbps – "+d(s.form.package.name)+" ("+d(s.form.package.speed)+" Mbps)",1),e[138]||(e[138]=t("br",null,null,-1)),c(" Installation Timeline – "+d(s.form.installation_timeline)+" Hrs",1),e[139]||(e[139]=t("br",null,null,-1)),c(" Preferred installation date & time – "+d(s.form.prefer_install_date),1),e[140]||(e[140]=t("br",null,null,-1)),s.form.order_remark?(u(),g("span",uo,"Order Remark : "+d(s.form.order_remark),1)):_("",!0),e[141]||(e[141]=t("hr",null,null,-1)),c(" Devices - "+d(s.bundle),1),e[142]||(e[142]=t("br",null,null,-1)),c(" GPON Info - "+d(s.gponInfo)+" ",1),e[143]||(e[143]=t("br",null,null,-1)),c(" DN - "+d((k=s.form.dn_id)==null?void 0:k.name),1),e[144]||(e[144]=t("br",null,null,-1)),c(" SN - "+d((C=s.form.sn_id)==null?void 0:C.name),1),e[145]||(e[145]=t("br",null,null,-1)),c(" SN Port - "+d(s.snPort),1),e[146]||(e[146]=t("br",null,null,-1))],512)])],2)])])],32)])])])]}),_:1})}const vo=H(Je,[["render",fo]]);export{vo as default};
