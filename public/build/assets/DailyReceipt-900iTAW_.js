import{A as k}from"./AppLayout-ldcU5hlp.js";import{P as S}from"./Pagination-7HwabAdX.js";import{r as j,T as R,z as f,c as U,w as y,o as n,a as t,f as o,t as i,j as b,k as P,b as u,d as r,v as V,F as _,g as v,e as D,n as F}from"./app-D4kHwI1v.js";import{V as C}from"./main-DEzUW6m3.js";import{M as L}from"./vue3-multiselect.umd.min-BHxOkaZP.js";import{_ as M}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./DropdownLink-XYJmGyPC.js";const N={name:"DailyReceipt",components:{AppLayout:k,VueDatePicker:C,Multiselect:L,Pagination:S},props:{receipt_records:Object,bill_list:Object,yesterday_collection:Object,today_collection:Object,select_total:Object,errors:Object},setup(h){const e=j({date:"YYYY-MM-DD",month:"MMM"}),l=R({general:null,date:null,bill_id:null,payment_status:""});function a(){l.general=null,l.date=null,l.bill_id=null,l.payment_status=""}const g=()=>{l.post("/dailyreceipt/show",{onSuccess:d=>{},onError:d=>{console.log(d)}})};function p(){axios.post("/exportReceipt",l,{responseType:"blob"}).then(d=>{var x=document.createElement("a");document.body.appendChild(x),x.style="display: none";var m=new Blob([d.data],{type:d.headers["content-type"]});const c=document.createElement("a");c.href=window.URL.createObjectURL(m),c.download=`receipts${new Date().getTime()}.xlsx`,c.click()})}return{doSearch:g,resetForm:a,exportExcel:p,form:l,formatter:e}}},B={class:"flex items-center justify-between"},E={class:"text-sm text-blue-200"},T={class:"py-4 bg-gray-50 min-h-screen"},I={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},K={class:"bg-white shadow-lg rounded-lg border border-gray-200"},O={class:"p-4"},A={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4"},Y={class:"space-y-1"},z={class:"relative"},q={class:"space-y-1"},G={class:"relative"},H={class:"space-y-1"},J={key:0,class:"relative"},Q={key:1,class:"text-xs text-gray-500 italic"},W={class:"space-y-1"},X={class:"relative"},Z={class:"mt-4 flex flex-col sm:flex-row gap-2 justify-between"},$={class:"flex flex-col sm:flex-row gap-2"},tt={class:"mt-4 grid grid-cols-1 md:grid-cols-3 gap-3"},et={class:"bg-white overflow-hidden shadow rounded-md border border-gray-200 card-hover"},st={class:"p-3"},ot={class:"flex items-center"},lt={class:"ml-3 flex-1"},it={class:"text-sm font-semibold text-gray-900"},at={class:"bg-white overflow-hidden shadow rounded-md border border-gray-200 card-hover"},nt={class:"p-3"},rt={class:"flex items-center"},dt={class:"ml-3 flex-1"},ct={class:"text-sm font-semibold text-gray-900"},xt={class:"bg-white overflow-hidden shadow rounded-md border border-gray-200 card-hover"},mt={class:"p-3"},ft={class:"flex items-center"},ut={class:"ml-3 flex-1"},gt={class:"text-sm font-semibold text-gray-900"},pt={class:"mt-4"},yt={key:0,class:"bg-white shadow rounded-md border border-gray-200 overflow-hidden"},bt={class:"px-4 py-2 border-b border-gray-200 bg-gradient-to-r from-gray-50 to-gray-100"},_t={class:"flex items-center justify-between"},vt={class:"text-xs text-gray-600"},ht={class:"font-medium"},wt={class:"font-medium"},kt={class:"hidden lg:block overflow-x-auto"},St={class:"min-w-full divide-y divide-gray-200"},jt={class:"bg-white divide-y divide-gray-200"},Rt={class:"px-3 py-2 whitespace-nowrap"},Ut={class:"text-xs font-medium text-gray-900"},Pt={class:"px-3 py-2 whitespace-nowrap"},Vt={class:"text-xs text-gray-700"},Dt={class:"px-3 py-2 whitespace-nowrap"},Ft={class:"text-xs font-mono text-gray-700 bg-gray-100 px-1 py-0.5 rounded text-center"},Ct={class:"px-3 py-2 whitespace-nowrap"},Lt={class:"text-xs text-gray-700"},Mt={class:"px-3 py-2 whitespace-nowrap"},Nt={class:"text-xs font-semibold text-gray-900"},Bt={class:"px-3 py-2 whitespace-nowrap"},Et={class:"text-xs font-semibold text-green-600"},Tt={class:"px-3 py-2 whitespace-nowrap"},It={class:"text-xs text-gray-700"},Kt={class:"px-3 py-2 whitespace-nowrap"},Ot={key:0,class:"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800 border border-green-200 status-badge"},At={key:1,class:"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800 border border-yellow-200 status-badge"},Yt={key:2,class:"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800 border border-gray-200 status-badge"},zt={class:"lg:hidden"},qt={class:"space-y-3 p-3"},Gt={class:"flex items-start justify-between mb-2"},Ht={class:"flex-1"},Jt={class:"text-xs font-medium text-gray-900 mb-1"},Qt={class:"text-xs text-gray-500"},Wt={key:0,class:"inline-flex items-center px-1.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800 status-badge"},Xt={key:1,class:"inline-flex items-center px-1.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800 status-badge"},Zt={key:2,class:"inline-flex items-center px-1.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800 status-badge"},$t={class:"grid grid-cols-2 gap-2 text-xs"},te={class:"font-mono bg-gray-100 px-1 py-0.5 rounded mt-0.5 text-center"},ee={class:"font-medium mt-0.5"},se={class:"font-semibold text-gray-900 mt-0.5"},oe={class:"font-semibold text-green-600 mt-0.5"},le={class:"col-span-2"},ie={class:"mt-0.5"},ae={key:1,class:"bg-white shadow rounded-md border border-gray-200 p-8 text-center"},ne={key:0,class:"mt-4"},re={class:"bg-white px-3 py-2 flex items-center justify-between border-t border-gray-200 sm:px-4 rounded-md shadow"},de={class:"flex-1 flex justify-between sm:hidden"},ce={class:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between"},xe={class:"text-xs text-gray-700"},me={class:"font-medium"},fe={class:"font-medium"},ue={class:"font-medium"};function ge(h,e,l,a,g,p){const d=f("VueDatePicker"),x=f("multiselect"),m=f("pagination"),c=f("app-layout");return n(),U(c,null,{header:y(()=>[t("div",B,[e[9]||(e[9]=t("h2",{class:"font-semibold text-xl text-white leading-tight flex items-center"},[t("i",{class:"fas fa-receipt mr-3 text-blue-200"}),o(" Bill Receipt Report ")],-1)),t("div",E,[e[8]||(e[8]=t("i",{class:"fas fa-calendar-alt mr-1"},null,-1)),o(" "+i(new Date().toLocaleDateString()),1)])])]),default:y(()=>[t("div",T,[t("div",I,[e[48]||(e[48]=t("div",{class:"mb-4"},[t("h3",{class:"text-base font-semibold text-gray-900 flex items-center"},[t("i",{class:"fas fa-filter mr-2 text-indigo-600"}),o(" Report Filters ")]),t("p",{class:"mt-1 text-xs text-gray-600"},"Filter and search through your bill receipts")],-1)),t("div",K,[e[19]||(e[19]=t("div",{class:"px-4 py-3 border-b border-gray-200 bg-gradient-to-r from-indigo-50 to-blue-50"},[t("h4",{class:"text-sm font-medium text-gray-900 flex items-center"},[t("i",{class:"fas fa-search mr-2 text-indigo-600"}),o(" Search Criteria ")])],-1)),t("div",O,[t("div",A,[t("div",Y,[e[11]||(e[11]=t("label",{for:"general",class:"text-xs font-medium text-gray-700 flex items-center"},[t("i",{class:"fas fa-user mr-1 text-gray-500 text-xs"}),o(" General Search ")],-1)),t("div",z,[e[10]||(e[10]=t("div",{class:"absolute inset-y-0 left-0 pl-2 flex items-center pointer-events-none"},[t("i",{class:"fas fa-search text-gray-400 text-xs"})],-1)),b(t("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=s=>a.form.general=s),name:"general",id:"general",class:"pl-7 pr-3 py-2 w-full border border-gray-300 rounded-md focus:ring-1 focus:ring-indigo-500 focus:border-indigo-500 transition-colors duration-200 placeholder-gray-400 text-sm form-input focus-ring",placeholder:"Customer/Company Name etc.",tabindex:"1"},null,512),[[P,a.form.general]])])]),t("div",q,[e[12]||(e[12]=t("label",{for:"date",class:"text-xs font-medium text-gray-700 flex items-center"},[t("i",{class:"fas fa-calendar-alt mr-1 text-gray-500 text-xs"}),o(" Receipt Date ")],-1)),t("div",G,[u(d,{modelValue:a.form.date,"onUpdate:modelValue":e[1]||(e[1]=s=>a.form.date=s),range:{partialRange:!1},placeholder:"Select date range","enable-time-picker":!1,"model-type":"yyyy-MM-dd",id:"order_date",class:"w-full border border-gray-300 rounded-md focus:ring-1 focus:ring-indigo-500 focus:border-indigo-500 transition-colors duration-200 compact-datepicker"},null,8,["modelValue"])])]),t("div",H,[e[13]||(e[13]=t("label",{for:"bill_id",class:"text-xs font-medium text-gray-700 flex items-center"},[t("i",{class:"fas fa-file-invoice mr-1 text-gray-500 text-xs"}),o(" Bill Name ")],-1)),l.bill_list.length!==0?(n(),r("div",J,[u(x,{"deselect-label":"Remove selection",options:l.bill_list,"track-by":"id",label:"name",modelValue:a.form.bill_id,"onUpdate:modelValue":e[2]||(e[2]=s=>a.form.bill_id=s),"allow-empty":!0,multiple:!0,placeholder:"Select bills",class:"custom-multiselect compact-multiselect"},null,8,["options","modelValue"])])):(n(),r("div",Q,"No bills available"))]),t("div",W,[e[15]||(e[15]=t("label",{for:"payment_status",class:"text-xs font-medium text-gray-700 flex items-center"},[t("i",{class:"fas fa-credit-card mr-1 text-gray-500 text-xs"}),o(" Payment Status ")],-1)),t("div",X,[b(t("select",{"onUpdate:modelValue":e[3]||(e[3]=s=>a.form.payment_status=s),name:"payment_status",id:"payment_status",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-1 focus:ring-indigo-500 focus:border-indigo-500 transition-colors duration-200 bg-white text-sm form-input focus-ring"},e[14]||(e[14]=[t("option",{value:""},"All Status",-1),t("option",{value:"Paid"},"✅ Paid",-1),t("option",{value:"Pending"},"⏳ Unpaid",-1)]),512),[[V,a.form.payment_status]])])])]),t("div",Z,[t("div",$,[t("button",{onClick:e[4]||(e[4]=(...s)=>a.doSearch&&a.doSearch(...s)),type:"button",class:"inline-flex items-center justify-center px-4 py-2 bg-indigo-600 hover:bg-indigo-700 text-white font-medium rounded-md transition-colors duration-200 focus:outline-none focus:ring-1 focus:ring-offset-1 focus:ring-indigo-500 shadow-sm btn-hover-scale text-sm"},e[16]||(e[16]=[t("i",{class:"fas fa-search mr-1 text-xs"},null,-1),o(" Search ")])),t("button",{onClick:e[5]||(e[5]=(...s)=>a.resetForm&&a.resetForm(...s)),type:"button",class:"inline-flex items-center justify-center px-4 py-2 bg-gray-600 hover:bg-gray-700 text-white font-medium rounded-md transition-colors duration-200 focus:outline-none focus:ring-1 focus:ring-offset-1 focus:ring-gray-500 shadow-sm btn-hover-scale text-sm"},e[17]||(e[17]=[t("i",{class:"fas fa-undo-alt mr-1 text-xs"},null,-1),o(" Reset ")]))]),t("button",{onClick:e[6]||(e[6]=(...s)=>a.exportExcel&&a.exportExcel(...s)),type:"button",class:"inline-flex items-center justify-center px-4 py-2 bg-green-600 hover:bg-green-700 text-white font-medium rounded-md transition-colors duration-200 focus:outline-none focus:ring-1 focus:ring-offset-1 focus:ring-green-500 shadow-sm btn-hover-scale text-sm"},e[18]||(e[18]=[t("i",{class:"fas fa-download mr-1 text-xs"},null,-1),o(" Export ")]))])])]),t("div",tt,[t("div",et,[t("div",st,[t("div",ot,[e[21]||(e[21]=t("div",{class:"flex-shrink-0"},[t("div",{class:"w-6 h-6 bg-blue-100 rounded-full flex items-center justify-center"},[t("i",{class:"fas fa-calendar-minus text-blue-600 text-xs"})])],-1)),t("div",lt,[t("dl",null,[e[20]||(e[20]=t("dt",{class:"text-xs font-medium text-gray-500 truncate"},"Yesterday Collection",-1)),t("dd",it,"K "+i(l.yesterday_collection.toLocaleString("en-US")),1)])])])])]),t("div",at,[t("div",nt,[t("div",rt,[e[23]||(e[23]=t("div",{class:"flex-shrink-0"},[t("div",{class:"w-6 h-6 bg-green-100 rounded-full flex items-center justify-center"},[t("i",{class:"fas fa-calendar-day text-green-600 text-xs"})])],-1)),t("div",dt,[t("dl",null,[e[22]||(e[22]=t("dt",{class:"text-xs font-medium text-gray-500 truncate"},"Today Collection",-1)),t("dd",ct,"K "+i(l.today_collection.toLocaleString("en-US")),1)])])])])]),t("div",xt,[t("div",mt,[t("div",ft,[e[25]||(e[25]=t("div",{class:"flex-shrink-0"},[t("div",{class:"w-6 h-6 bg-purple-100 rounded-full flex items-center justify-center"},[t("i",{class:"fas fa-calculator text-purple-600 text-xs"})])],-1)),t("div",ut,[t("dl",null,[e[24]||(e[24]=t("dt",{class:"text-xs font-medium text-gray-500 truncate"},"Search Results Total",-1)),t("dd",gt,"K "+i(l.select_total.toLocaleString("en-US")),1)])])])])])]),t("div",pt,[l.receipt_records.data&&l.receipt_records.data.length>0?(n(),r("div",yt,[t("div",bt,[t("div",_t,[e[28]||(e[28]=t("h4",{class:"text-sm font-medium text-gray-900 flex items-center"},[t("i",{class:"fas fa-table mr-1 text-gray-600 text-xs"}),o(" Receipt Records ")],-1)),t("div",vt,[t("span",ht,i(l.receipt_records.data.length),1),e[26]||(e[26]=o(" of ")),t("span",wt,i(l.receipt_records.total),1),e[27]||(e[27]=o(" records "))])])]),t("div",kt,[t("table",St,[e[32]||(e[32]=t("thead",{class:"bg-gray-50"},[t("tr",null,[t("th",{scope:"col",class:"px-3 py-2 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider"},[t("div",{class:"flex items-center"},[t("i",{class:"fas fa-file-invoice-dollar mr-1 text-xs"}),o(" Bill Name ")])]),t("th",{scope:"col",class:"px-3 py-2 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider"},[t("div",{class:"flex items-center"},[t("i",{class:"fas fa-calendar mr-1 text-xs"}),o(" Bill For ")])]),t("th",{scope:"col",class:"px-3 py-2 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider"},[t("div",{class:"flex items-center"},[t("i",{class:"fas fa-hashtag mr-1 text-xs"}),o(" Invoice # ")])]),t("th",{scope:"col",class:"px-3 py-2 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider"},[t("div",{class:"flex items-center"},[t("i",{class:"fas fa-network-wired mr-1 text-xs"}),o(" ISP ")])]),t("th",{scope:"col",class:"px-3 py-2 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider"},[t("div",{class:"flex items-center"},[t("i",{class:"fas fa-money-bill mr-1 text-xs"}),o(" Issue ")])]),t("th",{scope:"col",class:"px-3 py-2 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider"},[t("div",{class:"flex items-center"},[t("i",{class:"fas fa-receipt mr-1 text-xs"}),o(" Receipt ")])]),t("th",{scope:"col",class:"px-3 py-2 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider"},[t("div",{class:"flex items-center"},[t("i",{class:"fas fa-calendar-check mr-1 text-xs"}),o(" Date ")])]),t("th",{scope:"col",class:"px-3 py-2 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider"},[t("div",{class:"flex items-center"},[t("i",{class:"fas fa-info-circle mr-1 text-xs"}),o(" Status ")])])])],-1)),t("tbody",jt,[(n(!0),r(_,null,v(l.receipt_records.data,(s,w)=>(n(),r("tr",{key:s.id,class:F([w%2===0?"bg-white":"bg-gray-50","hover:bg-indigo-50 transition-colors duration-150"])},[t("td",Rt,[t("div",Ut,i(s.bill_name),1)]),t("td",Pt,[t("div",Vt,i(s.billing_period),1)]),t("td",Dt,[t("div",Ft,i(s.bill_number),1)]),t("td",Ct,[t("div",Lt,i(s.isp_name),1)]),t("td",Mt,[t("div",Nt,"K "+i(parseFloat(s.total_amount).toLocaleString("en-US")),1)]),t("td",Bt,[t("div",Et,"K "+i(parseFloat(s.collected_amount).toLocaleString("en-US")),1)]),t("td",Tt,[t("div",It,i(s.receipt_date||"N/A"),1)]),t("td",Kt,[s.status==="Paid"?(n(),r("span",Ot,e[29]||(e[29]=[t("i",{class:"fas fa-check-circle mr-1 text-xs"},null,-1),o(" Paid ")]))):s.status==="Pending"?(n(),r("span",At,e[30]||(e[30]=[t("i",{class:"fas fa-clock mr-1 text-xs"},null,-1),o(" Unpaid ")]))):(n(),r("span",Yt,[e[31]||(e[31]=t("i",{class:"fas fa-question-circle mr-1 text-xs"},null,-1)),o(" "+i(s.status||"Unknown"),1)]))])],2))),128))])])]),t("div",zt,[t("div",qt,[(n(!0),r(_,null,v(l.receipt_records.data,s=>(n(),r("div",{key:s.id,class:"bg-white border border-gray-200 rounded-md p-3 shadow-sm hover:shadow-md transition-shadow duration-200 mobile-card"},[t("div",Gt,[t("div",Ht,[t("h5",Jt,i(s.bill_name),1),t("p",Qt,i(s.billing_period),1)]),s.status==="Paid"?(n(),r("span",Wt,e[33]||(e[33]=[t("i",{class:"fas fa-check-circle mr-1 text-xs"},null,-1),o(" Paid ")]))):s.status==="Pending"?(n(),r("span",Xt,e[34]||(e[34]=[t("i",{class:"fas fa-clock mr-1 text-xs"},null,-1),o(" Unpaid ")]))):(n(),r("span",Zt,i(s.status||"Unknown"),1))]),t("div",$t,[t("div",null,[e[35]||(e[35]=t("span",{class:"text-gray-500"},"Invoice:",-1)),t("div",te,i(s.bill_number),1)]),t("div",null,[e[36]||(e[36]=t("span",{class:"text-gray-500"},"ISP:",-1)),t("div",ee,i(s.isp_name),1)]),t("div",null,[e[37]||(e[37]=t("span",{class:"text-gray-500"},"Issue:",-1)),t("div",se,"K "+i(parseFloat(s.total_amount).toLocaleString("en-US")),1)]),t("div",null,[e[38]||(e[38]=t("span",{class:"text-gray-500"},"Receipt:",-1)),t("div",oe,"K "+i(parseFloat(s.collected_amount).toLocaleString("en-US")),1)]),t("div",le,[e[39]||(e[39]=t("span",{class:"text-gray-500"},"Date:",-1)),t("div",ie,i(s.receipt_date||"N/A"),1)])])]))),128))])])])):(n(),r("div",ae,[e[41]||(e[41]=t("div",{class:"w-12 h-12 mx-auto bg-gray-100 rounded-full flex items-center justify-center mb-3"},[t("i",{class:"fas fa-search text-gray-400 text-lg"})],-1)),e[42]||(e[42]=t("h3",{class:"text-base font-medium text-gray-900 mb-2"},"No receipts found",-1)),e[43]||(e[43]=t("p",{class:"text-gray-600 mb-4 text-sm"},"Try adjusting your search criteria or date range.",-1)),t("button",{onClick:e[7]||(e[7]=(...s)=>a.resetForm&&a.resetForm(...s)),class:"inline-flex items-center px-3 py-2 bg-indigo-600 hover:bg-indigo-700 text-white font-medium rounded-md transition-colors duration-200 text-sm"},e[40]||(e[40]=[t("i",{class:"fas fa-undo-alt mr-1 text-xs"},null,-1),o(" Reset Filters ")]))]))]),l.receipt_records.total&&l.receipt_records.data&&l.receipt_records.data.length>0?(n(),r("div",ne,[t("div",re,[t("div",de,[u(m,{class:"w-full",links:l.receipt_records.links},null,8,["links"])]),t("div",ce,[t("div",null,[t("p",xe,[e[44]||(e[44]=o(" Showing ")),t("span",me,i((l.receipt_records.current_page-1)*l.receipt_records.per_page+1),1),e[45]||(e[45]=o(" to ")),t("span",fe,i(Math.min(l.receipt_records.current_page*l.receipt_records.per_page,l.receipt_records.total)),1),e[46]||(e[46]=o(" of ")),t("span",ue,i(l.receipt_records.total),1),e[47]||(e[47]=o(" results "))])]),t("div",null,[u(m,{links:l.receipt_records.links},null,8,["links"])])])])])):D("",!0)])])]),_:1})}const ke=M(N,[["render",ge],["__scopeId","data-v-017d6a44"]]);export{ke as default};
