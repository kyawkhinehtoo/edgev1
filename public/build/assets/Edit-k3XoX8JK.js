import{A as D}from"./AppLayout-ByT0_44S.js";import{m as k,T as w,z as f,c as x,w as a,o as d,a as i,b as c,f as g,i as P,e as r,d as n,t as m,j as u,k as b}from"./app-BuVaNo93.js";import{M as V}from"./vue3-multiselect.umd.min-Dk8xTv1-.js";/* empty css                                                                  */import{_ as O}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./DropdownLink-C_YcXYcr.js";const N={components:{AppLayout:D,Link:k,Multiselect:V},props:{odf:Object,pops:{type:Array,required:!0},popDevices:{type:Array,required:!0}},setup(t){let e=t.popDevices.find(o=>o.id===t.odf.pop_device_id[0]);return{form:w({pop_id:t.pops.filter(o=>o.id===e.pop_id),pop_device:t.popDevices.filter(o=>t.odf.pop_device_id.includes(o.id)),pop_device_id:t.odf.pop_device_id,name:t.odf.name,location:t.odf.location,description:t.odf.description})}},data(){return{filteredPopDevices:this.popDevices.filter(t=>t.pop_id===this.form.pop_id),portNumbers:Array.from({length:16},(t,e)=>e+1)}},methods:{loadPopDevices(t){t?(this.form.pop_device=[],this.form.pop_device_id=[],this.filteredPopDevices=this.popDevices.filter(e=>e.pop_id===t)):(this.filteredPopDevices=[],this.form.pop_device=[],this.form.pop_device_id=[])},updatePopDeviceIds(t){this.form.pop_device_id=t.map(e=>e.id)},submit(){this.form.put(route("odfs.update",this.odf.id),{onSuccess:t=>{Toast.fire({icon:"success",title:t.props.flash.message})}})}}},U={class:"py-12"},A={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},B={class:"bg-white overflow-hidden shadow-xl sm:rounded-lg"},F={class:"p-6 bg-white border-b border-gray-200"},L={class:"mb-4"},S={class:"mb-4"},C={class:"flex gap-4"},E={key:0,class:"text-red-500 text-xs mt-1"},M={class:"mb-4"},T={key:0,class:"text-red-500 text-xs mt-1"},j={class:"mb-4"},q={key:0,class:"text-red-500 text-xs mt-1"},I={class:"mb-4"},z={key:0,class:"text-red-500 text-xs mt-1"},G={class:"flex items-center justify-end"};function H(t,e,p,o,y,l){const _=f("Link"),v=f("multiselect"),h=f("app-layout");return d(),x(h,null,{header:a(()=>e[7]||(e[7]=[i("h2",{class:"font-semibold text-xl text-white leading-tight"},"Edit ODF",-1)])),default:a(()=>[i("div",U,[i("div",A,[i("div",B,[i("div",F,[i("div",L,[c(_,{href:t.route("odfs.index"),class:"text-indigo-600 hover:text-indigo-900"},{default:a(()=>e[8]||(e[8]=[i("i",{class:"fas fa-arrow-left"},null,-1),g(" Back to ODFs ")])),_:1},8,["href"])]),i("form",{onSubmit:e[6]||(e[6]=P((...s)=>l.submit&&l.submit(...s),["prevent"]))},[i("div",S,[e[9]||(e[9]=i("label",{class:"block text-gray-700 text-sm font-bold mb-2"},"POP Device",-1)),i("div",C,[p.pops?(d(),x(v,{key:0,options:p.pops,"track-by":"id",label:"site_name",placeholder:"Select POP",searchable:!0,"allow-empty":!1,class:"w-1/2","onUpdate:modelValue":[e[0]||(e[0]=s=>l.loadPopDevices(s==null?void 0:s.id)),e[1]||(e[1]=s=>o.form.pop_id=s)],modelValue:o.form.pop_id},null,8,["options","modelValue"])):r("",!0),c(v,{modelValue:o.form.pop_device,"onUpdate:modelValue":[e[2]||(e[2]=s=>o.form.pop_device=s),l.updatePopDeviceIds],options:y.filteredPopDevices,"track-by":"id",label:"device_name",placeholder:"Select POP Device",searchable:!0,"allow-empty":!1,multiple:!0,class:"w-1/2",disabled:!o.form.pop_id},null,8,["modelValue","options","disabled","onUpdate:modelValue"])]),o.form.errors.pop_device_id?(d(),n("div",E,m(o.form.errors.pop_device_id),1)):r("",!0)]),i("div",M,[e[10]||(e[10]=i("label",{class:"block text-gray-700 text-sm font-bold mb-2"},"ODF Name",-1)),u(i("input",{"onUpdate:modelValue":e[3]||(e[3]=s=>o.form.name=s),type:"text",name:"name",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",placeholder:"Enter ODF Name"},null,512),[[b,o.form.name]]),o.form.errors.name?(d(),n("div",T,m(o.form.errors.name),1)):r("",!0)]),i("div",j,[e[11]||(e[11]=i("label",{class:"block text-gray-700 text-sm font-bold mb-2"},"Location",-1)),u(i("input",{"onUpdate:modelValue":e[4]||(e[4]=s=>o.form.location=s),type:"text",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"},null,512),[[b,o.form.location]]),o.form.errors.location?(d(),n("div",q,m(o.form.errors.location),1)):r("",!0)]),i("div",I,[e[12]||(e[12]=i("label",{class:"block text-gray-700 text-sm font-bold mb-2"},"Description",-1)),u(i("textarea",{"onUpdate:modelValue":e[5]||(e[5]=s=>o.form.description=s),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"},null,512),[[b,o.form.description]]),o.form.errors.description?(d(),n("div",z,m(o.form.errors.description),1)):r("",!0)]),i("div",G,[c(_,{href:t.route("odfs.index"),class:"bg-gray-300 hover:bg-gray-400 text-black font-bold py-2 px-4 rounded mr-2"},{default:a(()=>e[13]||(e[13]=[g(" Cancel ")])),_:1},8,["href"]),e[14]||(e[14]=i("button",{type:"submit",class:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded"}," Update ODF ",-1))])],32)])])])])]),_:1})}const Y=O(N,[["render",H]]);export{Y as default};
