import{A as N}from"./AppLayout-W1Zz9yNo.js";import{P as M}from"./Pagination-BOCV46uz.js";import{h as T,r as k,z as C,c as I,w as V,N as v,o as n,a as t,j as l,k as x,O as j,d as i,e as c,F as A,g as D,f as S,i as E,A as a,t as d,l as F,B as U,b as H,n as L}from"./app-D6CVw1H4.js";import{_ as O}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./DropdownLink-EPEBtceR.js";const P={name:"installation-service",components:{AppLayout:N,Pagination:M},props:{services:Object,errors:Object},setup(y){const e=T({id:null,name:null,type:"new",service_type:"ftth",short_code:null,sla_hours:null,fees:null,currency:"mmk",status:!0}),m=k("");let o=k(!1),g=k(!1);function p(){e.id=null,e.name=null,e.type="new",e.service_type="ftth",e.short_code=null,e.sla_hours=null,e.fees=null,e.currency="mmk",e.status=!0}function w(){o.value?(e._method="PUT",v.post("/installation-service/"+e.id,e,{onSuccess:r=>{f(),p(),Toast.fire({icon:"success",title:r.props.flash.message})},onError:r=>{console.log("error ..",r)}})):(e._method="POST",v.post("/installation-service",e,{preserveState:!0,onSuccess:r=>{f(),p(),Toast.fire({icon:"success",title:r.props.flash.message})},onError:r=>{console.log("error ..",r)}}))}function h(r){e.id=r.id,e.name=r.name,e.type=r.type||"New Installation",e.service_type=r.service_type||"ftth",e.short_code=r.short_code,e.sla_hours=r.sla_hours,e.fees=r.fees,e.currency=r.currency||"mmk",e.status=r.status==1,o.value=!0,b()}function s(r){r=r||window.event;var u=r.which?r.which:r.keyCode;if(u>31&&(u<48||u>57)&&u!==46)r.preventDefault();else return!0}function _(r){confirm("Are you sure want to remove?")&&(r._method="DELETE",v.post("/installation-service/"+r.id,r,{preserveState:!0,onSuccess:u=>{f(),p(),Toast.fire({icon:"success",title:u.props.flash.message})},onError:u=>{f(),console.log("error ..",u)}}),f(),p())}function b(){g.value=!0}const f=()=>{g.value=!1,p(),o.value=!1};return{form:e,submit:w,editMode:o,isOpen:g,openModal:b,closeModal:f,edit:h,deleteRow:_,searchService:()=>{v.get("/installation-service",{service:m.value},{preserveState:!0})},isNumber:s,search:m}}},B={class:"py-2"},z={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},K={class:"flex justify-between space-x-2 items-end mb-2 px-1 md:px-0"},q={class:"relative flex flex-wrap z-0"},R={key:0,class:"bg-white shadow-xl sm:rounded-lg"},G={class:"min-w-full divide-y divide-gray-200"},J={class:"bg-gray-50"},Q={key:0,scope:"col",class:"relative px-6 py-3"},W={class:"bg-white divide-y divide-gray-200 text-sm"},X={class:"px-3 py-3 text-left text-md font-medium whitespace-nowrap"},Y={class:"px-3 py-3 text-left text-md font-medium whitespace-nowrap"},Z={class:"px-3 py-3 text-left text-md font-medium whitespace-nowrap uppercase"},$={class:"px-3 py-3 text-left text-md font-medium whitespace-nowrap"},ee={class:"px-3 py-3 text-left text-md font-medium whitespace-nowrap"},te={class:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800"},se={class:"px-3 py-3 text-left text-md font-medium whitespace-nowrap"},oe={class:"px-3 py-3 text-left text-md font-medium whitespace-nowrap"},re={class:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800"},le={class:"ml-1 uppercase"},ne={key:0,class:"px-3 py-3 text-md font-medium whitespace-nowrap text-right"},ie=["onClick"],ae=["onClick"],de={key:0,ref:"isOpen",class:"fixed z-10 inset-0 overflow-y-auto ease-out duration-400"},me={class:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0"},ue={class:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-2xl sm:w-full",role:"dialog","aria-modal":"true","aria-labelledby":"modal-headline"},ce={class:"shadow sm:rounded-md sm:overflow-hidden"},pe={class:"px-4 py-5 bg-white space-y-6 sm:p-6"},fe={class:"grid grid-cols-3 gap-2"},xe={class:"col-span-2"},ye={class:"mt-1 flex rounded-md shadow-sm"},ge={class:"col-span-1"},be={class:"mt-1 flex rounded-md shadow-sm"},ve={class:"mt-2 flex"},we={class:"flex-auto items-center"},he={class:"flex-auto items-center"},_e={class:"mt-2 flex"},ke={class:"flex-auto items-center"},Se={class:"flex-auto items-center"},Ce={class:"flex-auto items-center"},Ve={class:"flex-auto items-center"},Ue={class:"mt-1 flex rounded-md shadow-sm"},Ne={class:"mt-1 flex rounded-md shadow-sm"},Me={class:"inline-flex items-center px-3 rounded-r-md border border-l-0 border-gray-300 bg-gray-50 text-gray-500 text-sm uppercase"},Te={class:"mt-2 flex"},Ie={class:"flex-auto items-center"},je={class:"flex-auto items-center"},Ae={class:"flex-auto items-center"},De={class:"mt-1 flex"},Ee={key:0,class:"flex-auto items-center ml-1"},Fe={key:1,class:"flex-auto items-center ml-1"},He={class:"px-4 py-3 bg-gray-50 text-right sm:px-6"},Le={class:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse"},Oe={class:"flex w-full rounded-md shadow-sm sm:ml-3 sm:w-auto"},Pe={type:"submit",class:"inline-flex justify-center w-full px-4 py-2 bg-gray-800 border border-gray-300 rounded-md font-medium text-base leading-6 sm:text-sm text-white uppercase tracking-widest hover:bg-gray-700 active:bg-gray-900 focus:outline-none focus:border-gray-900 focus:ring focus:ring-gray-300 disabled:opacity-25 transition ease-in-out duration-150"},Be={class:"flex w-full rounded-md shadow-sm sm:ml-3 sm:w-auto"},ze={type:"submit",class:"inline-flex justify-center w-full px-4 py-2 bg-gray-800 border border-gray-300 rounded-md font-medium text-base leading-6 sm:text-sm text-white uppercase tracking-widest hover:bg-gray-700 active:bg-gray-900 focus:outline-none focus:border-gray-900 focus:ring focus:ring-gray-300 disabled:opacity-25 transition ease-in-out duration-150"},Ke={class:"mt-3 flex w-full rounded-md shadow-sm sm:mt-0 sm:w-auto"},qe={key:1};function Re(y,e,m,o,g,p){const w=C("pagination"),h=C("app-layout");return n(),I(h,null,{header:V(()=>e[21]||(e[21]=[t("h2",{class:"font-semibold text-xl text-white leading-tight"},"Installation Services Info",-1)])),default:V(()=>[t("div",B,[t("div",z,[t("div",K,[t("div",q,[e[22]||(e[22]=t("span",{class:"z-10 h-full leading-snug font-normal text-center text-gray-300 absolute bg-transparent rounded text-base items-center justify-center w-8 pl-3 py-3"},[t("i",{class:"fas fa-search"})],-1)),l(t("input",{type:"text",placeholder:"Search here...",class:"border-0 px-3 py-3 placeholder-gray-300 text-gray-600 relative bg-white rounded text-sm shadow outline-none focus:outline-none focus:ring w-full pl-10",id:"search","onUpdate:modelValue":e[0]||(e[0]=s=>o.search=s),onKeyup:e[1]||(e[1]=j((...s)=>o.searchService&&o.searchService(...s),["enter"]))},null,544),[[x,o.search]])]),y.$page.props.login_type=="internal"?(n(),i("button",{key:0,onClick:e[2]||(e[2]=(...s)=>o.openModal&&o.openModal(...s)),class:"inline-flex items-center px-4 py-2 bg-gray-800 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-gray-700 active:bg-gray-900 focus:outline-none focus:border-gray-900 focus:ring focus:ring-gray-300 disabled:opacity-25 transition"},"Create")):c("",!0)]),m.services.data?(n(),i("div",R,[t("table",G,[t("thead",J,[t("tr",null,[e[24]||(e[24]=t("th",{scope:"col",class:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," No. ",-1)),e[25]||(e[25]=t("th",{scope:"col",class:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Service Name",-1)),e[26]||(e[26]=t("th",{scope:"col",class:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Service Type",-1)),e[27]||(e[27]=t("th",{scope:"col",class:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Installation Type",-1)),e[28]||(e[28]=t("th",{scope:"col",class:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Short Code",-1)),e[29]||(e[29]=t("th",{scope:"col",class:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," SLA Hours",-1)),e[30]||(e[30]=t("th",{scope:"col",class:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Fees",-1)),y.$page.props.login_type=="internal"?(n(),i("th",Q,e[23]||(e[23]=[t("span",{class:"sr-only"},"Action",-1)]))):c("",!0)])]),t("tbody",W,[(n(!0),i(A,null,D(m.services.data,(s,_)=>(n(),i("tr",{key:s.id,class:L({"text-gray-400":!s.status})},[t("td",X,d(m.services.from+_),1),t("td",Y,d(s.name),1),t("td",Z,d(s.service_type),1),t("td",$,d(s.type),1),t("td",ee,[t("span",te,d(s.short_code),1)]),t("td",se,d(s.sla_hours)+" Hours ",1),t("td",oe,[t("span",re,[S(d(s.fees)+" ",1),t("span",le,d(s.currency),1)])]),y.$page.props.login_type=="internal"?(n(),i("td",ne,[t("a",{href:"#",onClick:b=>o.edit(s),class:"text-indigo-600 hover:text-indigo-900"},"Edit",8,ie),e[31]||(e[31]=S(" | ")),t("a",{href:"#",onClick:b=>o.deleteRow(s),class:"text-red-600 hover:text-red-900"},"Delete",8,ae)])):c("",!0)],2))),128))])]),o.isOpen?(n(),i("div",de,[t("div",me,[e[50]||(e[50]=t("div",{class:"fixed inset-0 transition-opacity"},[t("div",{class:"absolute inset-0 bg-gray-500 opacity-75"})],-1)),e[51]||(e[51]=S(" â€‹ ")),t("div",ue,[t("form",{onSubmit:e[20]||(e[20]=E((...s)=>o.submit&&o.submit(...s),["prevent"]))},[t("div",ce,[t("div",pe,[t("div",fe,[t("div",xe,[e[32]||(e[32]=t("label",{for:"name",class:"block text-md font-medium text-gray-700"},"Service Name",-1)),t("div",ye,[l(t("input",{type:"text","onUpdate:modelValue":e[3]||(e[3]=s=>o.form.name=s),name:"name",id:"name",class:"focus:ring-indigo-500 focus:border-indigo-500 flex-1 block w-full rounded-md sm:text-sm border-gray-300",placeholder:"Service Name",required:""},null,512),[[x,o.form.name]])])]),t("div",ge,[e[33]||(e[33]=t("label",{for:"short_code",class:"block text-md font-medium text-gray-700"},"Short Code",-1)),t("div",be,[l(t("input",{type:"text","onUpdate:modelValue":e[4]||(e[4]=s=>o.form.short_code=s),name:"short_code",id:"short_code",class:"focus:ring-indigo-500 focus:border-indigo-500 flex-1 block w-full rounded-md sm:text-sm border-gray-300",placeholder:"Short Code",required:""},null,512),[[x,o.form.short_code]])])])]),t("div",null,[e[36]||(e[36]=t("label",{for:"type",class:"block text-md font-medium text-gray-700"},"Installation Type",-1)),t("div",ve,[t("label",we,[l(t("input",{type:"radio",class:"form-radio h-5 w-5 text-red-600",name:"type","onUpdate:modelValue":e[5]||(e[5]=s=>o.form.type=s),value:"new"},null,512),[[a,o.form.type]]),e[34]||(e[34]=t("span",{class:"ml-2 text-gray-700 text-sm"},"New Installation",-1))]),t("label",he,[l(t("input",{type:"radio",class:"form-radio h-5 w-5 text-green-600",name:"type","onUpdate:modelValue":e[6]||(e[6]=s=>o.form.type=s),value:"relocation"},null,512),[[a,o.form.type]]),e[35]||(e[35]=t("span",{class:"ml-2 text-gray-700 text-sm"},"Relocation",-1))])])]),t("div",null,[e[41]||(e[41]=t("label",{for:"type",class:"block text-md font-medium text-gray-700"},"Service Type",-1)),t("div",_e,[t("label",ke,[l(t("input",{type:"radio",class:"form-radio h-5 w-5 text-green-600",name:"type","onUpdate:modelValue":e[7]||(e[7]=s=>o.form.service_type=s),value:"ftth"},null,512),[[a,o.form.service_type]]),e[37]||(e[37]=t("span",{class:"ml-2 text-gray-700 text-sm"},"FTTH",-1))]),t("label",Se,[l(t("input",{type:"radio",class:"form-radio h-5 w-5 text-yellow-600",name:"type","onUpdate:modelValue":e[8]||(e[8]=s=>o.form.service_type=s),value:"dia"},null,512),[[a,o.form.service_type]]),e[38]||(e[38]=t("span",{class:"ml-2 text-gray-700 text-sm"},"DIA",-1))]),t("label",Ce,[l(t("input",{type:"radio",class:"form-radio h-5 w-5 text-blue-600",name:"type","onUpdate:modelValue":e[9]||(e[9]=s=>o.form.service_type=s),value:"dplc"},null,512),[[a,o.form.service_type]]),e[39]||(e[39]=t("span",{class:"ml-2 text-gray-700 text-sm"},"DPLC",-1))]),t("label",Ve,[l(t("input",{type:"radio",class:"form-radio h-5 w-5 text-red-600",name:"type","onUpdate:modelValue":e[10]||(e[10]=s=>o.form.service_type=s),value:"ipvpn"},null,512),[[a,o.form.service_type]]),e[40]||(e[40]=t("span",{class:"ml-2 text-gray-700 text-sm"},"IPVPN",-1))])])]),t("div",null,[e[43]||(e[43]=t("label",{for:"sla_hours",class:"block text-md font-medium text-gray-700"},"SLA Hours",-1)),t("div",Ue,[l(t("input",{type:"number","onUpdate:modelValue":e[11]||(e[11]=s=>o.form.sla_hours=s),name:"sla_hours",id:"sla_hours",class:"focus:ring-indigo-500 focus:border-indigo-500 flex-1 block w-full rounded-none rounded-l-md sm:text-sm border-gray-300",placeholder:"SLA Hours",onKeypress:e[12]||(e[12]=s=>o.isNumber(s)),required:""},null,544),[[x,o.form.sla_hours]]),e[42]||(e[42]=t("span",{class:"inline-flex items-center px-3 rounded-r-md border border-l-0 border-gray-300 bg-gray-50 text-gray-500 text-sm"}," Hours ",-1))])]),t("div",null,[e[44]||(e[44]=t("label",{for:"fees",class:"block text-md font-medium text-gray-700"},"Service Fees",-1)),t("div",Ne,[l(t("input",{type:"number","onUpdate:modelValue":e[13]||(e[13]=s=>o.form.fees=s),name:"fees",id:"fees",class:"focus:ring-indigo-500 focus:border-indigo-500 flex-1 block w-full rounded-none rounded-l-md sm:text-sm border-gray-300",placeholder:"Service Fees",onKeypress:e[14]||(e[14]=s=>o.isNumber(s)),required:""},null,544),[[x,o.form.fees]]),t("span",Me,d(o.form.currency),1)])]),t("div",null,[e[48]||(e[48]=t("label",{for:"currency",class:"block text-md font-medium text-gray-700"},"Currency ",-1)),t("div",Te,[t("label",Ie,[l(t("input",{type:"radio",class:"form-radio h-5 w-5 text-red-600",name:"currency","onUpdate:modelValue":e[15]||(e[15]=s=>o.form.currency=s),value:"mmk"},null,512),[[a,o.form.currency]]),e[45]||(e[45]=t("span",{class:"ml-2 text-gray-700 text-sm"},"MMK",-1))]),t("label",je,[l(t("input",{type:"radio",class:"form-radio h-5 w-5 text-green-600",name:"currency","onUpdate:modelValue":e[16]||(e[16]=s=>o.form.currency=s),value:"usd"},null,512),[[a,o.form.currency]]),e[46]||(e[46]=t("span",{class:"ml-2 text-gray-700 text-sm"},"USD",-1))]),t("label",Ae,[l(t("input",{type:"radio",class:"form-radio h-5 w-5 text-yellow-600",name:"currency","onUpdate:modelValue":e[17]||(e[17]=s=>o.form.currency=s),value:"baht"},null,512),[[a,o.form.currency]]),e[47]||(e[47]=t("span",{class:"ml-2 text-gray-700 text-sm"},"THB",-1))])])]),t("div",null,[e[49]||(e[49]=t("label",{for:"status",class:"block text-md font-medium text-gray-700"},"Status",-1)),t("div",De,[l(t("input",{type:"checkbox",class:"focus:ring-indigo-500 h-4 w-4 text-indigo-600 border-gray-300 rounded mt-1",name:"status","onUpdate:modelValue":e[18]||(e[18]=s=>o.form.status=s),value:"true"},null,512),[[F,o.form.status]]),o.form.status==!0?(n(),i("label",Ee,"Enabled")):c("",!0),o.form.status==!1?(n(),i("label",Fe,"Disabled")):c("",!0)])])]),t("div",He,[t("div",Le,[t("span",Oe,[l(t("button",Pe,"Save",512),[[U,!o.editMode]])]),t("span",Be,[l(t("button",ze,"Update",512),[[U,o.editMode]])]),t("span",Ke,[t("button",{onClick:e[19]||(e[19]=(...s)=>o.closeModal&&o.closeModal(...s)),type:"button",class:"inline-flex justify-center w-full rounded-md border border-gray-300 px-4 py-2 bg-white text-base leading-6 font-medium text-gray-700 shadow-sm hover:text-gray-500 focus:outline-none focus:border-blue-300 focus:shadow-outline-blue transition ease-in-out duration-150 sm:text-sm sm:leading-5"},"Cancel")])])])])],32)])])],512)):c("",!0)])):c("",!0),m.services.links?(n(),i("span",qe,[H(w,{class:"mt-6",links:m.services.links},null,8,["links"])])):c("",!0)])])]),_:1})}const Ze=O(P,[["render",Re],["__scopeId","data-v-0075e17b"]]);export{Ze as default};
