import{A as v}from"./AppLayout-CI4wi3GC.js";import{M as h}from"./vue3-multiselect.umd.min-CjJEj_n4.js";import{i as V,r as S,T as j,m as P,p as y,c as O,w,N as U,o as b,a as s,h as C,f as m,q as d,v as u,s as a,t as n,d as c,b as g,e as x,n as N}from"./app-gOgVOHRJ.js";import{_ as q}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./DropdownLink-CQV_2l3i.js";const z={name:"AddCustomer",components:{AppLayout:v,Multiselect:h,Link:V},props:{packages:Object,townships:Object,projects:Object,status_list:Object,subcoms:Object,dn:Object,pops:Object,max_id:Array,errors:Object,user:Object,bundle_equiptments:Object,partners:Object,isps:Object,userPerm:Array,installationServices:Object,portSharingServices:Object,maintenanceServices:Object},setup(r){let e=S("");const l=j({id:null,name:"",phone_1:"",address:"",latitude:"",longitude:"",order_date:"",installation_date:"",isp_ftth_id:"",package:"",status:"",township:"",prefer_install_date:"",order_remark:"",isp_id:"",installation_service:"",installation_service_id:"",maintenance_service:"",maintenance_service_id:"",bandwidth:"",bundles:""});function t(){l.reset()}function k(){l._method="POST",U.post("/customer",l,{preserveState:!0,onSuccess:i=>{console.log("success.. "),Toast.fire({icon:"success",title:i.props.flash.message})},onError:i=>{console.log("error ..".errors)}})}function _(i){i=i||window.event;var p=i.which?i.which:i.keyCode;if(p>31&&(p<48||p>57)&&p!==46)i.preventDefault();else return!0}function f(i){var o;const p=(o=r.user)==null?void 0:o.role;return p&&p!=null&&p.read_customer?!0:!r.userPerm.includes(i)}return P(()=>{}),{form:l,submit:k,resetForm:t,isNumber:_,checkPerm:f,res_packages:e}}},A={class:"py-2"},D={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},T={class:"mt-5 md:mt-0"},I={class:"shadow sm:rounded-md sm:overflow-hidden"},M={class:"px-4 py-5 bg-white space-y-6 sm:p-6"},B={class:"grid grid-cols-1 sm:grid-cols-4 gap-2"},L={class:"col-span-1 sm:col-span-1"},F={class:"mt-1 flex rounded-md shadow-sm"},K=["disabled"],R={class:"col-span-1 sm:col-span-1"},E={key:0,class:"mt-1 flex rounded-md shadow-sm"},G={class:"col-span-1 sm:col-span-2"},H={class:"mt-1 flex rounded-md shadow-sm"},J=["disabled"],Q={class:"col-span-1 sm:col-span-1"},W={class:"mt-1 flex rounded-md shadow-sm"},X=["disabled"],Y={class:"col-span-1 sm:col-span-1"},Z={class:"mt-1 flex rounded-md shadow-sm"},$=["disabled"],ee={class:"col-span-1 sm:col-span-2"},se={class:"mt-1 flex rounded-md shadow-sm"},te=["disabled"],oe={class:"grid grid-cols-1 sm:grid-cols-4 gap-2"},re={class:"col-span-1 sm:col-span-1 w-full"},de={class:"mt-1 flex rounded-md shadow-sm"},le=["disabled"],ae={class:"col-span-1 sm:col-span-1"},ne={class:"mt-1 flex rounded-md shadow-sm"},ie=["min","disabled"],me={class:"col-span-1 sm:col-span-1"},pe={class:"mt-1 flex rounded-md shadow-sm"},ue=["min","disabled"],fe={class:"col-span-1 sm:col-span-1"},be={key:0,class:"mt-1 flex rounded-md shadow-sm"},ce={class:"col-span-1 sm:col-span-1"},ge={class:"mt-1 flex rounded-md shadow-sm"},xe=["disabled"],ye={class:"col-span-1 sm:col-span-1"},we={key:0,class:"mt-1 flex rounded-md shadow-sm"},ke={class:"col-span-1 sm:col-span-2"},_e={key:0,class:"mt-1 flex rounded-md shadow-sm"},ve={class:"col-span-1 md:col-span-2"},he={key:0,class:"mt-1 flex rounded-md shadow-sm"},Ve={class:"col-span-1 sm:col-span-2"},Se={class:"mt-1 flex rounded-md shadow-sm"},je=["disabled"],Pe={key:0,class:"col-span-1 sm:col-span-1"},Oe={key:0,class:"mt-1 flex rounded-md shadow-sm"},Ue={class:"px-4 py-3 bg-gray-50 text-right sm:px-6"};function Ce(r,e,l,t,k,_){const f=y("multiselect"),i=y("Link"),p=y("app-layout");return b(),O(p,null,{header:w(()=>e[23]||(e[23]=[s("h2",{class:"font-semibold text-xl text-white leading-tight"},"Customer Details",-1)])),default:w(()=>[s("div",A,[s("div",D,[s("div",T,[s("form",{onSubmit:e[22]||(e[22]=C((...o)=>t.submit&&t.submit(...o),["prevent"]))},[s("div",I,[s("div",M,[e[49]||(e[49]=s("h6",{class:"md:min-w-full text-indigo-700 text-xs uppercase font-bold block pt-1 no-underline"}," Customer Basic Information",-1)),s("div",B,[s("div",L,[e[25]||(e[25]=s("label",{for:"name",class:"block text-sm font-medium text-gray-700"},[s("span",{class:"text-red-500"},"*"),m(" Customer Name ")],-1)),s("div",F,[e[24]||(e[24]=s("span",{class:"z-10 leading-snug font-normal text-center text-gray-300 absolute bg-transparent rounded text-base items-center justify-center w-8 pl-3 py-2"},[s("i",{class:"fas fa-user"})],-1)),d(s("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=o=>t.form.name=o),name:"name",id:"name",class:"pl-10 focus:ring-indigo-500 focus:border-indigo-500 flex-1 block w-full rounded-md sm:text-sm border-gray-300",placeholder:"Customer Name",required:"",disabled:t.checkPerm("name")},null,8,K),[[u,t.form.name]])]),d(s("p",{class:"mt-2 text-sm text-red-500"},n(r.$page.props.errors.name),513),[[a,r.$page.props.errors.name]])]),s("div",R,[e[26]||(e[26]=s("label",{for:"township",class:"block text-sm font-medium text-gray-700"},[s("span",{class:"text-red-500"},"*"),m(" Township ")],-1)),l.townships.length!==0?(b(),c("div",E,[g(f,{"deselect-label":"Selected already",options:l.townships,"track-by":"id",label:"name",modelValue:t.form.township,"onUpdate:modelValue":e[1]||(e[1]=o=>t.form.township=o),placeholder:"Select Township","allow-empty":!1,disabled:t.checkPerm("township_id"),required:""},null,8,["options","modelValue","disabled"])])):x("",!0),d(s("p",{class:"mt-2 text-sm text-red-500"},n(r.$page.props.errors.township_id),513),[[a,r.$page.props.errors.township_id]])]),s("div",G,[e[28]||(e[28]=s("label",{for:"phone_1",class:"block text-sm font-medium text-gray-700"},[s("span",{class:"text-red-500"},"*"),m(" Phone No. (e.g. 09-123/09-456)")],-1)),s("div",H,[e[27]||(e[27]=s("span",{class:"z-10 leading-snug font-normal absolute text-center text-gray-300 bg-transparent rounded text-base items-center justify-center w-8 pl-3 py-2"},[s("i",{class:"fas fa-phone"})],-1)),d(s("input",{type:"text","onUpdate:modelValue":e[2]||(e[2]=o=>t.form.phone_1=o),name:"phone_1",id:"phone_1",class:"pl-10 focus:ring-indigo-500 focus:border-indigo-500 flex-1 block w-full rounded-md sm:text-sm border-gray-300",placeholder:"e.g 0945000111",required:"",disabled:t.checkPerm("phone_1")},null,8,J),[[u,t.form.phone_1]])]),d(s("p",{class:"mt-2 text-sm text-red-500"},n(r.$page.props.errors.phone_1),513),[[a,r.$page.props.errors.phone_1]])]),s("div",Q,[e[30]||(e[30]=s("label",{for:"latitude",class:"block text-sm font-medium text-gray-700"},"Latitude ",-1)),s("div",W,[e[29]||(e[29]=s("span",{class:"z-10 leading-snug font-normal text-center text-gray-300 absolute bg-transparent rounded text-base items-center justify-center w-8 pl-3 py-3"},[s("i",{class:"fas fa-location-arrow"})],-1)),d(s("input",{type:"text","onUpdate:modelValue":e[3]||(e[3]=o=>t.form.latitude=o),name:"latitude",id:"latitude",class:"pl-10 mt-1 form-input focus:ring-indigo-500 focus:border-indigo-500 flex-1 block w-full rounded-md sm:text-sm border-gray-300",onKeypress:e[4]||(e[4]=o=>t.isNumber(r.event)),disabled:t.checkPerm("location")},null,40,X),[[u,t.form.latitude]])]),d(s("p",{class:"mt-2 text-sm text-red-500"},n(r.$page.props.errors.latitude),513),[[a,r.$page.props.errors.latitude]])]),s("div",Y,[e[32]||(e[32]=s("label",{for:"longitude",class:"block text-sm font-medium text-gray-700"},"Longitude ",-1)),s("div",Z,[e[31]||(e[31]=s("span",{class:"z-10 leading-snug font-normal text-center text-gray-300 absolute bg-transparent rounded text-base items-center justify-center w-8 pl-3 py-3"},[s("i",{class:"fas fa-location-arrow"})],-1)),d(s("input",{type:"text","onUpdate:modelValue":e[5]||(e[5]=o=>t.form.longitude=o),name:"longitude",id:"longitude",class:"pl-10 mt-1 form-input focus:ring-indigo-500 focus:border-indigo-500 flex-1 block w-full rounded-md sm:text-sm border-gray-300",onKeypress:e[6]||(e[6]=o=>t.isNumber(r.event)),disabled:t.checkPerm("location")},null,40,$),[[u,t.form.longitude]])]),d(s("p",{class:"mt-2 text-sm text-red-500"},n(r.$page.props.errors.longitude),513),[[a,r.$page.props.errors.longitude]])]),s("div",ee,[e[34]||(e[34]=s("label",{for:"address",class:"block text-sm font-medium text-gray-700"},[s("span",{class:"text-red-500"},"*"),m(" Full Address ")],-1)),s("div",se,[e[33]||(e[33]=s("span",{class:"z-10 leading-snug font-normal absolute text-center text-gray-300 bg-transparent rounded text-base items-center justify-center w-8 pl-3 py-2"},[s("i",{class:"fas fa-map-marker-alt"})],-1)),d(s("textarea",{"onUpdate:modelValue":e[7]||(e[7]=o=>t.form.address=o),name:"address",id:"address",class:"pl-10 focus:ring-indigo-500 focus:border-indigo-500 flex-1 block w-full rounded-md sm:text-sm border-gray-300",required:"",disabled:t.checkPerm("address")},null,8,te),[[u,t.form.address]])]),d(s("p",{class:"mt-2 text-sm text-red-500"},n(r.$page.props.errors.address),513),[[a,r.$page.props.errors.address]])])]),e[50]||(e[50]=s("hr",{class:"my-4 md:min-w-full"},null,-1)),e[51]||(e[51]=s("h6",{class:"md:min-w-full text-indigo-700 text-xs uppercase font-bold block pt-1 no-underline"}," Order Information",-1)),s("div",oe,[s("div",re,[e[36]||(e[36]=s("label",{for:"isp_ftth_id",class:"block text-sm font-medium text-gray-700"},[s("span",{class:"text-red-500"},"*"),m(" Customer ID ")],-1)),s("div",de,[e[35]||(e[35]=s("span",{class:"z-10 leading-snug font-normal text-center text-gray-300 absolute bg-transparent rounded text-base items-center justify-center w-8 pl-3 py-2"},[s("i",{class:"fas fa-id-badge"})],-1)),d(s("input",{"onUpdate:modelValue":e[8]||(e[8]=o=>t.form.isp_ftth_id=o),type:"text",name:"isp_ftth_id",id:"isp_ftth_id",class:"pl-10 focus:ring-indigo-500 focus:border-indigo-500 flex-1 block w-full rounded-md sm:text-sm border-gray-300",required:"",disabled:t.checkPerm("isp_ftth_id")},null,8,le),[[u,t.form.isp_ftth_id]])]),d(s("p",{class:"mt-2 text-sm text-red-500"},n(r.$page.props.errors.isp_ftth_id),513),[[a,r.$page.props.errors.isp_ftth_id]])]),s("div",ae,[e[37]||(e[37]=s("label",{for:"order_date",class:"block text-sm font-medium text-gray-700"},[s("span",{class:"text-red-500"},"*"),m(" Order Date ")],-1)),s("div",ne,[d(s("input",{type:"date","onUpdate:modelValue":e[9]||(e[9]=o=>t.form.order_date=o),name:"order_date",id:"order_date",min:new Date().toISOString().split("T")[0],class:"focus:ring-indigo-500 focus:border-indigo-500 flex-1 block w-full rounded-md sm:text-sm border-gray-300",required:"",disabled:t.checkPerm("order_date")},null,8,ie),[[u,t.form.order_date]])]),d(s("p",{class:"mt-2 text-sm text-red-500"},n(r.$page.props.errors.order_date),513),[[a,r.$page.props.errors.order_date]])]),s("div",me,[e[39]||(e[39]=s("label",{for:"prefer_install_date",class:"block text-sm font-medium text-gray-700"},[s("span",{class:"text-red-500"},"*"),m(" Prefer Installation Date ")],-1)),s("div",pe,[e[38]||(e[38]=s("span",{class:"z-10 leading-snug font-normal text-center text-gray-300 absolute bg-transparent rounded text-base items-center justify-center w-8 pl-3 py-2"},[s("i",{class:"fas fa-tools"})],-1)),d(s("input",{"onUpdate:modelValue":e[10]||(e[10]=o=>t.form.prefer_install_date=o),type:"date",name:"prefer_install_date",id:"prefer_install_date",min:new Date().toISOString().split("T")[0],class:"pl-10 focus:ring-indigo-500 focus:border-indigo-500 flex-1 block w-full rounded-md sm:text-sm border-gray-300",disabled:t.checkPerm("prefer_install_date")},null,8,ue),[[u,t.form.prefer_install_date]])])]),s("div",fe,[e[40]||(e[40]=s("label",{for:"status",class:"block text-sm font-medium text-gray-700"},[s("span",{class:"text-red-500"},"*"),m(" Customer Status ")],-1)),l.status_list.length!==0?(b(),c("div",be,[g(f,{"deselect-label":"Selected already",options:l.status_list,"track-by":"id",label:"name",modelValue:t.form.status,"onUpdate:modelValue":e[11]||(e[11]=o=>t.form.status=o),"allow-empty":!1,disabled:t.checkPerm("status_id")},null,8,["options","modelValue","disabled"])])):x("",!0),d(s("p",{class:"mt-2 text-sm text-red-500"},n(r.$page.props.errors.status),513),[[a,r.$page.props.errors.status]])]),s("div",ce,[e[42]||(e[42]=s("label",{for:"bandwidth",class:"block text-sm font-medium text-gray-700"},[s("span",{class:"text-red-500"},"*"),m(" Bandwith ")],-1)),s("div",ge,[d(s("input",{type:"number","onUpdate:modelValue":e[12]||(e[12]=o=>t.form.bandwidth=o),name:"bandwidth",id:"bandwidth",class:"focus:ring-indigo-500 focus:border-indigo-500 flex-1 block w-full rounded-none rounded-l-md sm:text-sm border-gray-300",placeholder:"20, 30 e.g. ",onKeypress:e[13]||(e[13]=o=>t.isNumber(o)),disabled:t.checkPerm("bandwidth"),required:""},null,40,xe),[[u,t.form.bandwidth]]),e[41]||(e[41]=s("span",{class:"inline-flex items-center px-3 rounded-r-md border border-l-0 border-gray-300 bg-gray-50 text-gray-500 text-sm"}," Mbps ",-1))]),d(s("p",{class:"mt-2 text-sm text-red-500"},n(r.$page.props.errors.bandwidth),513),[[a,r.$page.props.errors.bandwidth]])]),s("div",ye,[e[43]||(e[43]=s("label",{for:"installation_service_id",class:"block text-sm font-medium text-gray-700"},[s("span",{class:"text-red-500"},"*"),m(" Installation ")],-1)),l.installationServices?(b(),c("div",we,[g(f,{"deselect-label":"Selected already",options:l.installationServices,"track-by":"id",label:"name",modelValue:t.form.installation_service,"onUpdate:modelValue":[e[14]||(e[14]=o=>t.form.installation_service=o),e[15]||(e[15]=o=>t.form.installation_service_id=o==null?void 0:o.id)],"allow-empty":!1,disabled:t.checkPerm("installation_service_id")},null,8,["options","modelValue","disabled"])])):x("",!0),d(s("p",{class:"mt-2 text-sm text-red-500"},n(r.$page.props.errors.installation_service_id),513),[[a,r.$page.props.errors.installation_service_id]])]),s("div",ke,[e[44]||(e[44]=s("label",{for:"package",class:"block text-sm font-medium text-gray-700"},[s("span",{class:"text-red-500"},"*"),m(" Maintenance ")],-1)),l.maintenanceServices?(b(),c("div",_e,[g(f,{"deselect-label":"Selected already",options:l.maintenanceServices,"track-by":"id",label:"name",modelValue:t.form.maintenance_service,"onUpdate:modelValue":[e[16]||(e[16]=o=>t.form.maintenance_service=o),e[17]||(e[17]=o=>t.form.maintenance_service_id=o==null?void 0:o.id)],"allow-empty":!1,disabled:t.checkPerm("maintenance_service_id"),class:N(r.text-r.xs)},null,8,["options","modelValue","disabled","class"])])):x("",!0),d(s("p",{class:"mt-2 text-sm text-red-500"},n(r.$page.props.errors.maintenance_service_id),513),[[a,r.$page.props.errors.maintenance_service_id]])]),s("div",ve,[e[45]||(e[45]=s("label",{for:"bundle",class:"block text-sm font-medium text-gray-700"}," Additional Materials Request (Leave blank for own materials) ",-1)),l.bundle_equiptments.length!==0?(b(),c("div",he,[g(f,{"deselect-label":"Selected already",options:l.bundle_equiptments,"track-by":"id",label:"name",modelValue:t.form.bundles,"onUpdate:modelValue":e[18]||(e[18]=o=>t.form.bundles=o),"allow-empty":!0,disabled:t.checkPerm("bundle"),multiple:!0,taggable:!1},null,8,["options","modelValue","disabled"])])):x("",!0),d(s("p",{class:"mt-2 text-sm text-red-500"},n(r.$page.props.errors.bundles),513),[[a,r.$page.props.errors.bundles]])]),s("div",Ve,[e[47]||(e[47]=s("label",{for:"order_remark",class:"block text-sm font-medium text-gray-700"}," Order Remark ",-1)),s("div",Se,[e[46]||(e[46]=s("span",{class:"z-10 leading-snug font-normal text-center text-gray-300 absolute bg-transparent rounded text-base items-center justify-center w-8 pl-3 py-2"},[s("i",{class:"fas fa-comment"})],-1)),d(s("textarea",{name:"order_remark","onUpdate:modelValue":e[19]||(e[19]=o=>t.form.order_remark=o),id:"order_remark",class:"pl-10 focus:ring-indigo-500 focus:border-indigo-500 flex-1 block w-full rounded-md sm:text-sm border-gray-300",disabled:t.checkPerm("order_remark")},null,8,je),[[u,t.form.order_remark]])]),d(s("p",{class:"mt-2 text-sm text-red-500"},n(r.$page.props.errors.order_remark),513),[[a,r.$page.props.errors.order_remark]])]),l.user.user_type=="internal"?(b(),c("div",Pe,[e[48]||(e[48]=s("label",{for:"isp",class:"block text-sm font-medium text-gray-700"}," ISP Assignment",-1)),l.isps.length!==0?(b(),c("div",Oe,[g(f,{"deselect-label":"Selected already",options:l.isps,"track-by":"id",label:"name",modelValue:t.form.isp_id,"onUpdate:modelValue":e[20]||(e[20]=o=>t.form.isp_id=o),"allow-empty":!0,disabled:t.checkPerm("isp_id")},null,8,["options","modelValue","disabled"])])):x("",!0),d(s("p",{class:"mt-2 text-sm text-red-500"},n(r.$page.props.errors.isp_id),513),[[a,r.$page.props.errors.isp_id]])])):x("",!0)])]),s("div",Ue,[g(i,{href:r.route("customer.index"),class:"inline-flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-yellow-600 hover:bg-yellow-700 shadow-sm focus:outline-none focus:border-blue-300 focus:shadow-outline-blue transition ease-in-out duration-150"},{default:w(()=>e[52]||(e[52]=[m("Back")])),_:1},8,["href"]),s("button",{onClick:e[21]||(e[21]=(...o)=>t.resetForm&&t.resetForm(...o)),type:"button",class:"ml-2 inline-flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-gray-600 hover:bg-gray-700 shadow-sm focus:outline-none focus:border-blue-300 focus:shadow-outline-blue transition ease-in-out duration-150"},"Reset"),e[53]||(e[53]=s("button",{"wire:click.prevent":"submit",type:"submit",class:"ml-2 inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"},"Save",-1))])])],32)])])])]),_:1})}const Te=q(z,[["render",Ce]]);export{Te as default};
