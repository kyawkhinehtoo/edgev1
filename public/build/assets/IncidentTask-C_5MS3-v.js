import{A as H,N as J,C as Q}from"./NoData-KtNrw1Jq.js";import{P as X}from"./Pagination-BL04l9Hs.js";import{m as Z,r as u,E as $,h as ee,x as te,z,c as K,w as se,N as E,o as d,a as e,d as r,j as y,k as T,O as oe,t as a,n as f,e as i,F as W,g as q,f as G,b as L,M as Y}from"./app-CxmfekA6.js";import{M as le}from"./vue3-multiselect.umd.min-CeHsvkD1.js";import{_ as ae}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./DropdownLink-BJAdKKiP.js";const de={name:"IncidentTask",components:{AppLayout:H,Pagination:X,Multiselect:le,NoData:J,Link:Z,CustomerDetail:Q},props:{tasks:Object,errors:Object,task_write:Boolean,user:Object,noc:Object,critical:Number,high:Number,normal:Number,role:Object,subcons:Object,subcon:Object,pendingRootCause:Object,subRootCause:Object},setup(n){const s=u("");u("");let m=u(!1),o=u(!1),_=u(!1),j=u(""),x=u(1),p=u("my"),k=u([]);const F=u({date:"YYYY-MM-DD",month:"MMM"});u(!1),$("user",n.user);const l=ee({id:null,code:null,edge_code:null,priority:null,assigned:null,target:null,status:1,description:null,comment:null,incident_id:null,data:null,root_causes:null,sub_root_causes:null,root_causes_id:null,sub_root_causes_id:null,complete_date:null});function h(){l.id=null,l.code=null,l.edge_code=null,l.priority=null,l.assigned=null,l.target=null,l.status=1,l.description=null,l.comment=null,l.incident_id=n.data,l.root_causes=null,l.sub_root_causes=null,l.root_causes_id=null,l.sub_root_causes_id=null,l.complete_date=null,j.value=null}function S(t){l.id=t.id,l.code=t.code,l.edge_code=t.edge_code,l.priority=t.priority,l.assigned=n.subcons.filter(c=>c.id==t.assigned)[0],l.description=t.description,l.incident_id=t.incident_id,l.comment=t.comment,l.status=t.status,l.target=t.target,l.data=t,l.root_causes=t.root_causes_id?n.pendingRootCause.filter(c=>c.id==t.root_causes_id)[0]:null,l.sub_root_causes=null,l.root_causes_id=t.root_causes_id,l.sub_root_causes_id=t.sub_root_causes_id,l.complete_date=t.complete_date,_.value=!0,o.value=!0,j.value=t.incident_id}function A(t){t.status!=2?Toast.fire({title:"Are you sure?",text:"Do you want to mark as completed !",icon:"warning",timer:!1,position:"center",showCancelButton:!0,dangerMode:!0}).then(c=>{c.isConfirmed&&v(t,2)}):Toast.fire({title:"Are you sure?",text:"Do you want to mark as WIP !",icon:"warning",timer:!1,position:"center",showCancelButton:!0,dangerMode:!0}).then(c=>{c.isConfirmed&&v(t,1)})}function v(t,c){l.id=t.id,l.assigned=n.subcons.filter(g=>g.id==t.assigned)[0],l.description=t.description,l.incident_id=t.incident_id,l.status=c,l.target=t.target,_.value=!0,o.value=!1,w()}function w(){_.value!=!0?(l._method="POST",E.post("/addTask",l,{preserveState:!0,onSuccess:t=>{o.value=!1,h(),Toast.fire({icon:"success",title:t.props.flash.message})},onError:t=>{console.log("error ..",t)}})):(l._method="PUT",E.post("/editTask/"+l.id,l,{onSuccess:t=>{o.value=!1,_.value=!1,h(),Toast.fire({icon:"success",title:t.props.flash.message})},onError:t=>{console.log("error ..",t)}}))}function D(){o.value=!1,preserveState=!0}function V(t){let c="WIP";return t==0?c="Deleted":t==1?c="WIP":t==2?c="Completed":t==3&&(c="Pending"),c}function M(){E.get("/mytask/",{keyword:s.value,status:x.value,task:p.value},{preserveState:!0})}function b(){let t="/mytask/";s.value!=null&&(t=t+"?keyword="+s.value),x.value!=""&&(t=t+"&status="+x.value),p.value!=""&&(t=t+"&task="+p.value),E.get(t,{keyword:s.value},{preserveState:!0})}function N(t){x.value=t,b()}function P(){p.value="my",b()}function R(){p.value="all",b()}const U=t=>{let c=n.subcons.filter(g=>g.id==t)[0];return c?c.name:""};function I(t){var g;k.value=[];let c=n.pendingRootCause.filter(B=>B.id==t.id);k.value=(g=c[0])==null?void 0:g.sub_root_causes,l.sub_root_causes_id&&(l.sub_root_causes=k.value.filter(B=>B.id==l.sub_root_causes_id)[0],l.sub_root_causes||(l.sub_root_causes_id=null))}te(()=>l.root_causes,t=>{t&&I(t)});const C=u(1);function O(t){C.value=t}return{search:s,loading:m,form:l,formatter:F,edit:o,editMode:_,search_status:x,task_user:p,getName:U,getStatus:V,editTask:S,completeIt:v,saveTask:w,cancelTask:D,completeTask:A,searchTask:M,goMyTasks:P,goAllTasks:R,changeStatus:b,subRCA:k,goSearch:N,tabClick:O,tab:C,selected_id:j}}},re={class:"py-1"},ie={class:"mx-auto sm:px-6 lg:px-8"},ne={key:0,class:"grid grid-cols-1 md:grid-cols-3 gap-2 py-2 w-full justify-items-end"},ce={class:"flex w-full"},me={class:"flex w-full items-center justify-end"},ue={class:"mr-3 text-sm font-medium text-gray-700"},fe={class:"inline-flex relative cursor-pointer"},pe=["checked"],ge={class:"flex w-full"},ye={key:1},xe={key:0,class:"hidden md:block"},be={class:"min-w-full divide-y divide-gray-200 table-auto"},_e={class:"bg-white divide-y divide-gray-200 text-sm w-full text-left"},ke={class:"px-2 py-3 whitespace-nowrap"},ve={class:"px-6 py-3 whitespace-nowrap"},he={class:"px-6 py-3 whitespace-nowrap"},we={class:"px-6 py-3 whitespace-nowrap"},Ce={class:"px-6 py-3 whitespace-nowrap"},Te={class:"px-6 py-3 whitespace-nowrap"},je={class:"px-6 py-3 whitespace-nowrap"},Se={class:"px-6 py-3 whitespace-nowrap"},Ae={class:"px-6 py-3 whitespace-nowrap"},De={class:"px-6 py-3 whitespace-nowrap"},Ve={class:"px-6 py-3 whitespace-nowrap"},Me=["onClick"],Ne={key:1,class:"grid grid-cols-1 sm:grid-cols-2 gap-2 md:hidden"},Pe={class:"flex items-center justify-between space-x-2 text-sm"},Re={class:"font-bold"},Ue={class:"text-sm text-gray-600"},Ie={class:"font-sm p-2 capitalize"},Oe={class:"mt-4"},Be={class:"text-xs text-gray-700"},ze={class:"text-xs text-gray-700"},Ee={class:"text-xs text-gray-700"},We={class:"flex flex-wrap justify-end"},Le=["onClick"],Ye={key:2,class:"w-full block mt-4"},Fe={class:"text-xs text-gray-600"},Ge={key:3},Ke={key:2,class:"inline-flex w-full bg-gray-50 rounded-t-lg"},qe={id:"tabs",class:"flex"},He={id:"tab-contents"},Je={key:0,class:"grid grid-cols-1 md:grid-cols-4 gap-2 w-full bg-white p-4"},Qe={class:"md:py-2 md:col-span-3 col-span-1"},Xe={class:"flex"},Ze={for:"ftth_id",class:"block text-sm font-bold text-gray-700 md:mt-2 md:mr-2"},$e={class:"md:py-2 md:col-span-3 col-span-1"},et={class:"flex"},tt={for:"ftth_id",class:"block text-sm font-bold text-gray-700 md:mt-2 md:mr-2"},st={class:"md:py-2 md:col-span-3 col-span-1"},ot={class:"flex"},lt={for:"type",class:"block text-sm font-bold text-gray-700 md:mt-2 md:mr-2 capitalize"},at={key:0,class:"py-2 col-span-1 w-full"},dt={key:1,class:"md:py-2 md:col-span-3 col-span-1"},rt={class:"flex"},it={for:"type",class:"block text-sm font-bold text-gray-700 md:mt-2 md:mr-2 capitalize"},nt={class:"md:py-2 md:col-span-3 col-span-1"},ct={class:"flex"},mt={for:"type",class:"block text-sm font-bold text-gray-700 md:mt-2 md:mr-2 whitespace-normal"},ut={class:"md:py-2 md:col-span-3 col-span-1"},ft={class:"flex"},pt={for:"type",class:"block text-sm font-bold text-gray-700 md:mt-2 md:mr-2 whitespace-normal"},gt={class:"md:py-2 md:col-span-3 col-span-1"},yt={class:"flex rounded-md shadow-sm"},xt={key:0,class:"flex rounded-md shadow-sm w-full"},bt={key:1,class:"mt-2 text-sm text-red-500"},_t={class:"md:py-2 col-span-1 md:col-span-3"},kt={class:"flex rounded-md shadow-sm"},vt={key:0,class:"mt-2 text-sm text-red-500"},ht={class:"md:py-2 col-span-1 md:col-span-3"},wt={class:"flex rounded-md shadow-sm"},Ct={key:0,class:"mt-2 text-sm text-red-500"},Tt={class:"md:py-2 col-span-1 md:col-span-3"},jt={class:"flex gap-4"},St={class:"inline-flex items-center"},At={class:"inline-flex items-center"},Dt={class:"inline-flex items-center"},Vt={class:"inline-flex items-center"},Mt={key:0,class:"mt-2 text-sm text-red-500"},Nt={class:"md:py-2 col-span-1 md:col-span-3"},Pt={class:"flex rounded-md shadow-sm"},Rt={key:0,class:"mt-2 text-sm text-red-500"},Ut={class:"py-2 col-span-1 md:col-span-3"},It={key:0,class:"flex rounded-md shadow-sm w-full"},Ot={key:1,class:"mt-2 text-sm text-red-500"},Bt={class:"py-2 col-span-1 md:col-span-3"},zt={key:0,class:"flex rounded-md shadow-sm w-full"},Et={key:1,class:"mt-2 text-sm text-red-500"},Wt={class:"md:py-2 col-span-1 md:col-span-3"},Lt={class:"flex rounded-md shadow-sm"},Yt={key:0,class:"mt-2 text-sm text-red-500"},Ft={class:"col-span-1 md:col-span-4 flex md:justify-end justify-between mt-4"},Gt={key:0},Kt={key:1},qt={key:0,"wire:loading":"",class:"fixed top-0 left-0 right-0 bottom-0 w-full h-screen z-50 overflow-hidden bg-gray-700 opacity-75 flex flex-col items-center justify-center"};function Ht(n,s,m,o,_,j){const x=z("pagination"),p=z("multiselect"),k=z("customer-detail"),F=z("app-layout");return d(),K(F,null,{default:se(()=>{var l,h,S,A,v,w,D,V,M,b,N,P,R,U,I,C,O;return[e("div",re,[e("div",ie,[o.edit?i("",!0):(d(),r("div",ne,[e("div",ce,[s[24]||(s[24]=e("span",{class:"z-10 mt-1 leading-snug font-normal text-center text-blueGray-300 absolute bg-transparent rounded text-base items-center justify-center w-8 pl-3 py-2"},[e("i",{class:"fas fa-search"})],-1)),y(e("input",{type:"text",placeholder:"ID/Description",class:"pl-10 pr-12 py-2.5 w-full rounded-lg overflow-hidden text-sm text-gray-700 placeholder-gray-400 transition-colors bg-white border border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-500 focus:ring-opacity-10 focus:outline-none dark:bg-gray-800 dark:border-gray-700 dark:text-gray-100 dark:placeholder-gray-500 dark:focus:border-indigo-500 dark:focus:ring-opacity-20",id:"search",tabindex:"1","onUpdate:modelValue":s[0]||(s[0]=t=>o.search=t),onKeyup:s[1]||(s[1]=oe((...t)=>o.searchTask&&o.searchTask(...t),["enter"]))},null,544),[[T,o.search]])]),e("div",me,[e("span",ue,a(o.task_user==="my"?"My Tasks":"All Tasks"),1),e("label",fe,[e("input",{type:"checkbox",class:"sr-only peer",checked:o.task_user==="all",onChange:s[2]||(s[2]=t=>o.task_user==="my"?o.goAllTasks():o.goMyTasks())},null,40,pe),s[25]||(s[25]=e("div",{class:"w-14 h-8 bg-gray-400 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-6 peer-checked:after:border-white after:content-[''] after:absolute after:top-[4px] after:left-[4px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-6 after:w-6 after:transition-all peer-checked:bg-indigo-600 shadow-sm"},null,-1))])]),e("div",ge,[e("button",{class:f(["w-32 btn py-3 px-8 bg-gray-400 rounded rounded-r-none focus:ring-0 focus:border-transparent focus:outline-none shadow-lg text-gray-50 text-xs font-semibold uppercase border-r-gray-300 border-r",{"bg-yellow-300 text-gray-600 font-bold":o.search_status==1}]),onClick:s[3]||(s[3]=t=>o.goSearch(1))},"WIP",2),e("button",{class:f(["w-32 btn py-3 px-8 bg-gray-400 focus:ring-0 focus:border-transparent focus:outline-none shadow-lg text-gray-50 text-xs font-semibold uppercase border-r-gray-300 border-r",{"bg-yellow-500 text-gray-600 font-bold":o.search_status==3}]),onClick:s[4]||(s[4]=t=>o.goSearch(3))},"Pending",2),e("button",{class:f(["w-32 btn py-3 px-8 bg-gray-400 focus:ring-0 focus:border-transparent focus:outline-none shadow-lg text-gray-50 text-xs font-semibold uppercase border-r-gray-300 border-r",{"bg-green-300 text-gray-600 font-bold":o.search_status==2}]),onClick:s[5]||(s[5]=t=>o.goSearch(2))},"Completed",2),e("button",{class:f(["w-32 btn py-3 px-8 bg-gray-400 rounded rounded-l-none focus:ring-0 focus:border-transparent focus:outline-none shadow-lg text-gray-50 text-xs font-semibold uppercase",{"bg-indigo-600 font-bold":o.search_status=="all"}]),onClick:s[6]||(s[6]=t=>o.goSearch("all"))},"All",2)])])),o.edit?i("",!0):(d(),r("div",ye,[(l=m.tasks)!=null&&l.data?(d(),r("div",xe,[e("table",be,[s[27]||(s[27]=e("thead",{class:"bg-gray-50"},[e("tr",null,[e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}),e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Code "),e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Customer ID"),e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Description"),e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Assigned To"),e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Assigned By"),e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Target Date"),e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Complete Date"),e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Status"),e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Action")])],-1)),e("tbody",_e,[(d(!0),r(W,null,q(m.tasks.data,(t,c)=>{var g;return d(),r("tr",{key:t.id},[e("td",ke,[e("i",{class:f(["fa fa-circle mr-2",{"text-yellow-400":t.priority=="normal","text-yellow-600":t.priority=="high","text-red-600":t.priority=="critical"}])},null,2),G(" "+a(c+=m.tasks.from),1)]),e("td",ve,a(t.code),1),e("td",he,a(t.edge_code),1),e("td",we,a(t.ftth_id),1),e("td",Ce,a((g=t.description)==null?void 0:g.substring(0,50)),1),e("td",Te,a(o.getName(t.assigned)),1),e("td",je,a(t.incharge.match(/\b\w/g).join("")),1),e("td",Se,a(t.target),1),e("td",Ae,a(t.complete_date),1),e("td",De,a(o.getStatus(t.status)),1),e("td",Ve,[e("a",{href:"#",onClick:B=>o.editTask(t),class:"text-blue-600"},s[26]||(s[26]=[e("i",{class:"fa fa-edit"},null,-1)]),8,Me)])])}),128))])])])):i("",!0),(h=m.tasks)!=null&&h.data?(d(),r("div",Ne,[(d(!0),r(W,null,q(m.tasks.data,(t,c)=>(d(),r("div",{class:"bg-white p-4 rounded-lg shadow mt-2 space-y-1 text-gray-600",key:t.id},[e("div",Pe,[e("label",Re,a(t.ftth_id),1),e("div",null,[e("span",{class:f(["text-xs font-bold px-2.5 py-0.5 rounded items-center justify-center",{"bg-yellow-400":t.status==1,"bg-yellow-500":t.status==3,"bg-green-300":t.status!=1}])},a(o.getStatus(t.status)),3)])]),e("div",Ue,[s[28]||(s[28]=e("label",{for:"details",class:"w-full font-bold"}," Description ",-1)),e("p",Ie,a(t.description),1)]),e("span",Oe,[e("div",Be," Assigned To : "+a(t.assigned_to),1),e("div",ze," Assigned By : "+a(t.incharge),1),e("div",Ee," Target Date : "+a(t.target),1)]),e("div",We,[e("div",null,[e("a",{type:"button",onClick:g=>o.editTask(t),href:"#",class:"bg-green-100 text-green-800 text-xs font-medium px-2.5 py-0.5 rounded dark:bg-green-900 dark:text-green-30 items-center justify-center"},s[29]||(s[29]=[e("span",{class:"text-sm"},"Edit",-1),e("i",{class:"fa fa-angle-double-right fa-lg ml-2","aria-hidden":"true"},null,-1)]),8,Le)])])]))),128))])):i("",!0),m.tasks.total?(d(),r("span",Ye,[e("label",Fe,a(m.tasks.data.length)+" Tasks in Current Page. Total Number of Tasks : "+a(m.tasks.total),1)])):i("",!0),m.tasks.links?(d(),r("span",Ge,[L(x,{class:"mt-4",links:m.tasks.links},null,8,["links"])])):i("",!0)])),o.edit?(d(),r("div",Ke,[e("ul",qe,[e("li",{class:f(["px-2 lg:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",[o.tab==1?"border-b-2 border-indigo-400 -mb-px":"opacity-50"]])},[e("a",{href:"#",onClick:s[7]||(s[7]=t=>o.tabClick(1)),"preserve-state":""},"Genaral")],2),e("li",{class:f(["px-2 lg:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",[o.tab==2?"border-b-2 border-indigo-400 -mb-px":"opacity-50"]])},[e("a",{href:"#",onClick:s[8]||(s[8]=t=>o.tabClick(2)),"preserve-state":""},"Customer Info")],2)])])):i("",!0),e("div",He,[e("div",{class:f([o.tab==1?"":"hidden"])},[o.edit?(d(),r("div",Je,[s[40]||(s[40]=e("div",{class:"py-2 col-span-1 w-full"},[e("div",{class:"flex md:justify-end"},[e("label",{for:"assigned",class:"block text-sm font-medium text-gray-700 md:mt-2 md:mr-2"}," Code : ")])],-1)),e("div",Qe,[e("div",Xe,[e("label",Ze,[e("i",{class:f(["fa fa-circle mr-2",{"text-yellow-400":((S=o.form.data)==null?void 0:S.priority)=="normal","text-yellow-600":((A=o.form.data)==null?void 0:A.priority)=="high","text-red-600":((v=o.form.data)==null?void 0:v.priority)=="critical"}])},null,2),G(" "+a((w=o.form.data)==null?void 0:w.code)+" | "+a((D=o.form.data)==null?void 0:D.edge_code),1)])])]),s[41]||(s[41]=e("div",{class:"py-2 col-span-1 w-full"},[e("div",{class:"flex md:justify-end"},[e("label",{for:"assigned",class:"block text-sm font-medium text-gray-700 md:mt-2 md:mr-2"}," Customer ID : ")])],-1)),e("div",$e,[e("div",et,[e("label",tt,a((V=o.form.data)==null?void 0:V.ftth_id),1)])]),s[42]||(s[42]=e("div",{class:"py-2 col-span-1 w-full"},[e("div",{class:"flex md:justify-end"},[e("label",{for:"assigned",class:"block text-sm font-medium text-gray-700 md:mt-2 md:mr-2"}," Ticket Type : ")])],-1)),e("div",st,[e("div",ot,[e("label",lt,a((M=o.form.data)==null?void 0:M.type.replace("_"," ")),1)])]),(b=o.form.data)!=null&&b.topic?(d(),r("div",at,s[30]||(s[30]=[e("div",{class:"flex md:justify-end"},[e("label",{for:"assigned",class:"block text-sm font-medium text-gray-700 md:mt-2 md:mr-2"}," Ticket Topic : ")],-1)]))):i("",!0),(N=o.form.data)!=null&&N.topic?(d(),r("div",dt,[e("div",rt,[e("label",it,a((P=o.form.data)==null?void 0:P.topic.replace("_"," ")),1)])])):i("",!0),s[43]||(s[43]=e("div",{class:"py-2 col-span-1 w-full"},[e("div",{class:"flex md:justify-end"},[e("label",{for:"assigned",class:"block text-sm font-medium text-gray-700 md:mt-2 md:mr-2"}," Ticket Detail : ")])],-1)),e("div",nt,[e("div",ct,[e("label",mt,a((R=o.form.data)==null?void 0:R.incident_description),1)])]),s[44]||(s[44]=e("div",{class:"py-2 col-span-1 w-full"},[e("div",{class:"flex md:justify-end"},[e("label",{for:"assigned",class:"block text-sm font-medium text-gray-700 md:mt-2 md:mr-2"}," Ticket Opened At : ")])],-1)),e("div",ut,[e("div",ft,[e("label",pt,a((U=o.form.data)==null?void 0:U.date)+" : "+a((I=o.form.data)==null?void 0:I.time),1)])]),s[45]||(s[45]=e("div",{class:"py-2 col-span-1 w-full"},[e("div",{class:"flex md:justify-end"},[e("label",{for:"assigned",class:"block text-sm font-medium text-gray-700 md:mt-2 md:mr-2"}," Assigned : ")])],-1)),e("div",gt,[e("div",yt,[m.subcons.length!==0?(d(),r("div",xt,[L(p,{"deselect-label":"Selected already",options:m.subcons,"track-by":"id",label:"name",modelValue:o.form.assigned,"onUpdate:modelValue":s[9]||(s[9]=t=>o.form.assigned=t),"allow-empty":!1,multiple:!1},null,8,["options","modelValue"])])):i("",!0),n.$page.props.errors.assigned?(d(),r("p",bt,a(n.$page.props.errors.assigned),1)):i("",!0)])]),s[46]||(s[46]=e("div",{class:"py-2 col-span-1 sm:col-span-1"},[e("div",{class:"flex md:justify-end"},[e("label",{for:"target",class:"block text-sm font-medium text-gray-700 md:mt-2 md:mr-2"}," Target : ")])],-1)),e("div",_t,[e("div",kt,[y(e("input",{type:"date","onUpdate:modelValue":s[10]||(s[10]=t=>o.form.target=t),name:"target",id:"target",class:"form-input focus:ring-indigo-500 focus:border-indigo-500 flex-1 block w-full rounded-md sm:text-sm border-gray-300"},null,512),[[T,o.form.target]])]),n.$page.props.errors.target?(d(),r("p",vt,a(n.$page.props.errors.target),1)):i("",!0)]),s[47]||(s[47]=e("div",{class:"py-2 col-span-1 sm:col-span-1"},[e("div",{class:"flex md:justify-end"},[e("label",{for:"description",class:"block text-sm font-medium text-gray-700 md:mt-2 md:mr-2"}," Description : ")])],-1)),e("div",ht,[e("div",wt,[y(e("textarea",{"onUpdate:modelValue":s[11]||(s[11]=t=>o.form.description=t),name:"description",id:"description",class:"form-input focus:ring-indigo-500 focus:border-indigo-500 flex-1 block w-full rounded-md sm:text-sm border-gray-300"},null,512),[[T,o.form.description]])]),n.$page.props.errors.description?(d(),r("p",Ct,a(n.$page.props.errors.description),1)):i("",!0)]),s[48]||(s[48]=e("div",{class:"py-2 col-span-1 sm:col-span-1"},[e("div",{class:"flex md:justify-end"},[e("label",{for:"status",class:"block text-sm font-medium text-gray-700 md:mr-2"}," Status : ")])],-1)),e("div",Tt,[e("div",jt,[e("label",St,[y(e("input",{type:"radio","onUpdate:modelValue":s[12]||(s[12]=t=>o.form.status=t),name:"status",value:"1",class:"form-radio text-yellow-500"},null,512),[[Y,o.form.status]]),s[31]||(s[31]=e("span",{class:"ml-2"},"WIP",-1))]),e("label",At,[y(e("input",{type:"radio","onUpdate:modelValue":s[13]||(s[13]=t=>o.form.status=t),name:"status",value:"3",class:"form-radio text-red-500"},null,512),[[Y,o.form.status]]),s[32]||(s[32]=e("span",{class:"ml-2"},"Pending",-1))]),e("label",Dt,[y(e("input",{type:"radio","onUpdate:modelValue":s[14]||(s[14]=t=>o.form.status=t),name:"status",value:"2",class:"form-radio text-green-500"},null,512),[[Y,o.form.status]]),s[33]||(s[33]=e("span",{class:"ml-2"},"Completed",-1))]),e("label",Vt,[y(e("input",{type:"radio","onUpdate:modelValue":s[15]||(s[15]=t=>o.form.status=t),name:"status",value:"0",class:"form-radio text-indigo-500"},null,512),[[Y,o.form.status]]),s[34]||(s[34]=e("span",{class:"ml-2"},"Deleted",-1))])]),n.$page.props.errors.status?(d(),r("p",Mt,a(n.$page.props.errors.status),1)):i("",!0)]),o.form.status==2?(d(),r(W,{key:2},[s[35]||(s[35]=e("div",{class:"py-2 col-span-1 sm:col-span-1"},[e("div",{class:"flex md:justify-end"},[e("label",{for:"target",class:"block text-sm font-medium text-gray-700 md:mt-2 md:mr-2"}," Complete At : ")])],-1)),e("div",Nt,[e("div",Pt,[y(e("input",{type:"date","onUpdate:modelValue":s[16]||(s[16]=t=>o.form.complete_date=t),name:"complete_date",id:"complete_date",class:"form-input focus:ring-indigo-500 focus:border-indigo-500 flex-1 block w-full rounded-md sm:text-sm border-gray-300"},null,512),[[T,o.form.complete_date]]),n.$page.props.errors.complete_date?(d(),r("p",Rt,a(n.$page.props.errors.complete_date)+">",1)):i("",!0)])])],64)):i("",!0),o.form.status==3?(d(),r(W,{key:3},[s[36]||(s[36]=e("div",{class:"py-2 col-span-1"},[e("div",{class:"flex md:justify-end"},[e("label",{for:"root_causes_id",class:"block text-sm font-medium text-gray-700 md:mt-2 md:mr-2"}," Root Cause for Pending : ")])],-1)),e("div",Ut,[((C=m.pendingRootCause)==null?void 0:C.length)!==0?(d(),r("div",It,[L(p,{"deselect-label":"Selected already",options:m.pendingRootCause,"track-by":"id",label:"name",modelValue:o.form.root_causes,"onUpdate:modelValue":[s[17]||(s[17]=t=>o.form.root_causes=t),s[18]||(s[18]=t=>o.form.root_causes_id=t==null?void 0:t.id)],"allow-empty":!1,multiple:!1},null,8,["options","modelValue"])])):i("",!0),n.$page.props.errors.root_causes_id?(d(),r("p",Ot,a(n.$page.props.errors.root_causes_id),1)):i("",!0)]),s[37]||(s[37]=e("div",{class:"py-2 col-span-1"},[e("div",{class:"flex md:justify-end"},[e("label",{for:"sub_root_causes",class:"block text-sm font-medium text-gray-700 md:mt-2 md:mr-2"},"Sub Root Cause : ")])],-1)),e("div",Bt,[((O=o.subRCA)==null?void 0:O.length)!==0?(d(),r("div",zt,[L(p,{"deselect-label":"Selected already",options:o.subRCA,"track-by":"id",label:"name",modelValue:o.form.sub_root_causes,"onUpdate:modelValue":[s[19]||(s[19]=t=>o.form.sub_root_causes=t),s[20]||(s[20]=t=>o.form.sub_root_causes_id=t==null?void 0:t.id)],"allow-empty":!1,multiple:!1},null,8,["options","modelValue"])])):i("",!0),n.$page.props.errors.sub_root_causes_id?(d(),r("p",Et,a(n.$page.props.errors.sub_root_causes_id),1)):i("",!0)])],64)):i("",!0),s[49]||(s[49]=e("div",{class:"py-2 col-span-1 sm:col-span-1"},[e("div",{class:"flex md:justify-end"},[e("label",{for:"comment",class:"block text-sm font-medium text-gray-700 md:mt-2 md:mr-2"}," Comments : ")])],-1)),e("div",Wt,[e("div",Lt,[y(e("textarea",{"onUpdate:modelValue":s[21]||(s[21]=t=>o.form.comment=t),name:"comment",id:"comment",class:"form-input focus:ring-indigo-500 focus:border-indigo-500 flex-1 block w-full rounded-md sm:text-sm border-gray-300"},null,512),[[T,o.form.comment]])]),n.$page.props.errors.comment?(d(),r("p",Yt,a(n.$page.props.errors.comment),1)):i("",!0)]),e("div",Ft,[e("a",{href:"#",onClick:s[22]||(s[22]=t=>o.saveTask()),class:"text-center px-4 py-3 bg-green-500 border border-transparent rounded-sm font-semibold text-xs text-white uppercase tracking-widest hover:bg-green-400 active:bg-green-600 focus:outline-none focus:border-gray-900 disabled:opacity-25 transition mr-1"},[o.editMode?i("",!0):(d(),r("span",Gt,"Save Task")),o.editMode?(d(),r("span",Kt,"Update Task")):i("",!0),s[38]||(s[38]=e("i",{class:"fas fa-save opacity-75 ml-1 text-sm"},null,-1))]),e("a",{href:"#",onClick:s[23]||(s[23]=t=>o.cancelTask()),class:"text-center px-4 py-3 bg-gray-500 border border-transparent rounded-sm font-semibold text-xs text-white uppercase tracking-widest hover:bg-gray-400 active:bg-gray-600 focus:outline-none focus:border-gray-900 disabled:opacity-25 transition"},s[39]||(s[39]=[G("Cancel"),e("i",{class:"fas fa-save opacity-75 ml-1 text-sm"},null,-1)]))])])):i("",!0)],2),e("div",{class:f([o.tab==2?"":"hidden"])},[o.selected_id&&o.tab==2?(d(),K(k,{key:0,data:o.selected_id},null,8,["data"])):i("",!0)],2)])])]),o.loading?(d(),r("div",qt,s[50]||(s[50]=[e("div",{class:"loader ease-linear rounded-full border-4 border-t-4 border-gray-200 h-12 w-12 mb-4"},null,-1),e("h2",{class:"text-center text-white text-xl font-semibold"},"Loading...",-1),e("p",{class:"w-1/3 text-center text-white"},"This may take a few seconds, please don't close this page.",-1)]))):i("",!0)]}),_:1})}const ts=ae(de,[["render",Ht]]);export{ts as default};
