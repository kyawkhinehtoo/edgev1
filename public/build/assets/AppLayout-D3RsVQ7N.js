import{_ as j,a as B,b as $}from"./DropdownLink-BlWtJOfe.js";import{o as r,d as n,a as o,n as c,t as m,e as w,s as C,j as I,B as D,Z as N,r as L,z as y,b as k,w as f,F as A,g as P,D as F,f as S,c as O,i as M}from"./app-D-9qcd9s.js";import{_ as R}from"./_plugin-vue_export-helper-DlAUqK2U.js";const q={props:{label:String,icon:String,isOpen:Boolean,isCollapsed:Boolean,show:Boolean,name:String},data(){return{showSubmenu:!1}},inject:["activeSubmenu","setActiveSubmenu"],methods:{toggleSubmenu(){this.isCollapsed?this.showSubmenu&&this.activeSubmenu===this.name?(this.showSubmenu=!1,this.setActiveSubmenu(null)):(this.showSubmenu=!0,this.setActiveSubmenu(this.name)):this.$emit("toggle")}},watch:{activeSubmenu(s){s!==this.name&&(this.showSubmenu=!1)}},emits:["toggle"]},T={class:"relative group"},G={class:"flex items-center min-w-max"},z={class:"px-2 py-2 text-xs font-bold text-gray-600 uppercase bg-indigo-50"},E={key:1,class:"mt-1 space-y-1"};function H(s,e,t,u,l,a){return r(),n("div",T,[o("button",{onClick:e[0]||(e[0]=(...d)=>a.toggleSubmenu&&a.toggleSubmenu(...d)),class:c(["w-full flex items-center justify-between p-2 transition-colors text-gray-600 hover:gray-blue-500 text-xs uppercase py-3 font-bold rounded-md bg-blueGray-100 shadow-sm cursor-pointer focus:border-none",[t.isCollapsed?"px-3":"px-4"]])},[o("div",G,[o("i",{class:c(["w-5",t.icon])},null,2),o("span",{class:c([t.isCollapsed?"opacity-0 group-hover:opacity-100":"opacity-100","ml-3"])},m(t.isCollapsed?"":t.label),3)]),t.isCollapsed?w("",!0):(r(),n("i",{key:0,class:c(["fas transition-transform",t.isOpen?"fa-chevron-down":"fa-chevron-right"])},null,2))],2),t.isCollapsed?(r(),n("div",{key:0,class:c(["fixed left-20 top-5 min-w-[200px] bg-indigo-50 shadow-lg",{hidden:!l.showSubmenu||a.activeSubmenu!==t.name}])},[o("div",null,[o("h6",z,m(t.label),1),C(s.$slots,"default",{},void 0,!0)])],2)):I((r(),n("div",E,[C(s.$slots,"default",{},void 0,!0)],512)),[[D,t.isOpen]])])}const V=R(q,[["render",H],["__scopeId","data-v-8c268619"]]),J={components:{ExpandableMenu:V,Head:N,JetDropdown:j,JetDropdownLink:B,JetNavLink:$,"jet-nav-link":$},provide(){const s=L(null);return{activeSubmenu:s,setActiveSubmenu:e=>{s.value=e}}},data(){var s,e,t,u;return{sidebarOpen:!1,isCollapsed:localStorage.getItem("sidebarCollapsed")==="true",panels:[{name:"admin",label:"Admin",icon:"fas fa-user-tie",isOpen:!1,links:[{name:"User Setup",route:"user.index",icon:"fas fa-user mr-2",show:!0},{name:"Role Setup",route:"role.index",icon:"fas fa-user-tag mr-2",show:!0},{name:"Partner Setup",route:"partner.index",icon:"fas fa-user-tag mr-2",show:!0},{name:"ISP Setup",route:"isps.index",icon:"fas fa-user-tag mr-2",show:!0},{name:"Subcon Setup",route:"subcom.index",icon:"fas fa-handshake mr-2",show:!0},{name:"CheckList Group",route:"subcon-checklists-group.index",icon:"fas fa-handshake mr-2",show:!0},{name:"CheckList",route:"subcon-checklists.index",icon:"fas fa-handshake mr-2",show:!0},{name:"Main RCA Setup",route:"root-causes.index",icon:"fas fa-handshake mr-2",show:!0},{name:"Sub RCA Setup",route:"sub-root-causes.index",icon:"fas fa-handshake mr-2",show:!0},{name:"City Setup",route:"city.index",icon:"fas fa-city mr-2",show:!0},{name:"Township Setup",route:"township.index",icon:"fas fa-city mr-2",show:!0},{name:"Zone Setup",route:"zone.index",icon:"fas fa-handshake mr-2",show:!0},{name:"Project Setup",route:"project.index",icon:"fas fa-handshake mr-2",show:!0},{name:"Customer Status",route:"status.index",icon:"fas fa-user-tag mr-2",show:!0},{name:"Template",route:"template.index",icon:"fas fa-envelope mr-2",show:!0},{name:"Announcement",route:"announcement.list",icon:"fas fa-bullhorn mr-2",show:!0},{name:"SMS Gateway",route:"smsgateway.index",icon:"fas fa-sms mr-2",show:!0},{name:"System Setting",route:"setting.index",icon:"fas fa-screwdriver-wrench mr-2",show:!0}]},{name:"product_catalog",label:"Product Catalog",icon:"fas fa-money-check-dollar",isOpen:!1,links:[{name:"Material Info",route:"equiptment.index",icon:"fas fa-warehouse mr-2",show:!0,show:!0},{name:"Network Point Info",route:"port-sharing-service.index",icon:"fas fa-cube mr-2",show:!0,show:!0},{name:"Maintenance Info",route:"maintenance-service.index",icon:"fas fa-cube mr-2",show:!0,show:!0},{name:"Installation Info",route:"installation-service.index",icon:"fas fa-cube mr-2",show:!0,show:!0},{name:"Discount Setup",route:"discount-setup.index",icon:"fas fa-percentage mr-2",show:!0,show:this.$page.props.login_type!="isp"},{name:"Suspense Config",route:"billconfig.index",icon:"fas fa-cube mr-2",show:!0,show:this.$page.props.login_type!="isp"}]},{name:"odn",label:"ODN ",icon:"fas fa-route",isOpen:!1,links:[{name:"POP Setup",route:"pop.index",icon:"fas fa-building mr-2",show:!0},{name:"ODF",route:"odfs.index",icon:"fas fa-network-wired mr-2",show:!0},{name:"ODB",route:"odbs.index",icon:"fas fa-network-wired mr-2",show:!0},{name:"ODB-Detail",route:"odb-fiber-cables.index",icon:"fas fa-network-wired mr-2",show:!0},{name:"Fiber Core",route:"fiber-cables.index",icon:"fas fa-network-wired mr-2",show:!0},{name:"Connection Node",route:"jc-boxes.index",icon:"fas fa-link mr-2",show:!0},{name:"Core Assignment",route:"core-assignments.index",icon:"fas fa-equals mr-2",show:!0},{name:"Distribution Node",route:"dn-boxes.index",icon:"fas fa-tv mr-2",show:!0},{name:"DN Splitter",route:"dn-splitters.index",icon:"fas fa-network-wired mr-2",show:!0},{name:"SN Box",route:"sn-boxes.index",icon:"fas fa-tv mr-2",show:!0},{name:"SN Splitter",route:"sn-splitters.index",icon:"fas fa-network-wired mr-2",show:!0}]},{name:"dashboard",label:"Dashboard ",icon:"fas fa-users",isOpen:!1,links:[{name:"Dashboard",route:"dashboard",icon:"fas fa-tv mr-2",show:!0},{name:"Installation",route:"installation-supervisor-dashboard",icon:"fas fa-users-cog mr-2",show:this.supervisorAndOss()},{name:"Retification",route:"incident-ticket-dashboard",icon:"fas fa-ticket-alt mr-2",show:this.supervisorAndOss()},{name:"Retification RCA",route:"rca-dashboard",icon:"fas fa-search mr-2",show:this.supervisorAndOss()},{name:"Retification Reporting",route:"oss-team-dashboard",icon:"fas fa-chart-bar mr-2",show:this.supervisorAndOss()}]},{name:"user",label:"Operation ",icon:"fas fa-users",isOpen:!1,links:[{name:"Customer",route:"customer.index",icon:"fas fa-users mr-2",show:!0},{name:"Feasibility Checker ",route:"sn.nearby",icon:"fas fa-circle-info mr-2",show:((e=(s=this.$page.props)==null?void 0:s.role)==null?void 0:e.check_sn)==1},{name:"Service Request",route:"servicerequest.index",icon:"fas fa-tasks mr-2",show:((u=(t=this.$page.props)==null?void 0:t.role)==null?void 0:u.service_request)==1},{name:"Incident Panel",route:"incident.index",icon:"fas fa-arrow-up-right-from-square mr-2 text-blue-600",show:!0}]},{name:"billing",label:"Billing Panel",icon:"fas fa-file-invoice",isOpen:!1,links:[{name:"Bill Generator",route:"billGenerator",icon:"fas fa-cogs mr-2",show:!0},{name:"Temp Bill List",route:"tempBilling",icon:"fas fa-clipboard-list mr-2",show:!0},{name:"Final Bill List",route:"showbill",icon:"fas fa-coins mr-2",show:!0}]},{name:"partner",label:"Partner ",icon:"fas fa-users",isOpen:!1,links:[{name:"Home",route:"home",icon:"fas fa-home mr-2",show:!0},{name:"Customer",route:"customer.index",icon:"fas fa-users mr-2",show:!0},{name:"DN SN Report",route:"dnSnReport",icon:"fas fa-tower-broadcast mr-2",show:!0},{name:"Incident Panel",route:"incident.index",icon:"fas fa-arrow-up-right-from-square mr-2 text-blue-600",show:!0}]},{name:"isp",label:"ISP ",icon:"fas fa-users",isOpen:!1,links:[{name:"Home",route:"home",icon:"fas fa-home mr-2",show:!0},{name:"Customer",route:"customer.index",icon:"fas fa-users mr-2",show:!0},{name:"Incident Panel",route:"incident.index",icon:"fas fa-arrow-up-right-from-square mr-2 text-blue-600",show:!0},{name:"Incident Report",route:"incidentReport",icon:"fas fa-users mr-2",show:!0}]},{name:"subcon",label:"Fiber Team ",icon:"fas fa-users",isOpen:!1,links:[{name:"Home",route:"home",icon:"fas fa-home mr-2",show:!0},{name:"Customer",route:"customer.index",icon:"fas fa-users mr-2",show:!0},{name:"Incident Panel",route:"incident.index",icon:"fas fa-arrow-up-right-from-square mr-2 text-blue-600",show:!0}]},{name:"report",label:"Report Panel",icon:"fas fa-chart-line",isOpen:!1,links:[{name:"Incident Report",route:"incidentReport",icon:"fas fa-users mr-2",show:!0},{name:"Bill Report",route:"dailyreceipt",icon:"fa fa-money-bill mr-2",show:!0},{name:"DN SN Report",route:"dnSnReport",icon:"fas fa-tower-broadcast mr-2",show:!0},{name:"Activity Log",route:"activity-log.index",icon:"fas fa-circle-info mr-2",show:!0}]}]}},computed:{isAdmin(){var s,e,t,u;return((e=(s=this.$page.props)==null?void 0:s.role)==null?void 0:e.id)===1||((u=(t=this.$page.props)==null?void 0:t.role)==null?void 0:u.id)===2},filteredPanels(){return this.panels.filter(s=>{var e,t,u,l,a,d,h,g,b,_,x,v,i,p;switch(s.name){case"admin":return(t=(e=this.$page.props)==null?void 0:e.role)==null?void 0:t.admin_panel;case"user":return(l=(u=this.$page.props)==null?void 0:u.role)==null?void 0:l.customer_panel;case"odn":return(d=(a=this.$page.props)==null?void 0:a.role)==null?void 0:d.dn_panel;case"product_catalog":return((g=(h=this.$page.props)==null?void 0:h.role)==null?void 0:g.product_catalog)||this.$page.props.login_type=="isp";case"billing":return(_=(b=this.$page.props)==null?void 0:b.role)==null?void 0:_.billing_panel;case"report":return(v=(x=this.$page.props)==null?void 0:x.role)==null?void 0:v.report_panel;case"partner":return this.$page.props.login_type=="partner";case"isp":return this.$page.props.login_type=="isp";case"subcon":return this.$page.props.login_type=="subcon";case"servicerequest":return(p=(i=this.$page.props)==null?void 0:i.role)==null?void 0:p.service_request;case"dashboard":return this.supervisorAndOss()}})}},methods:{supervisorAndOss(){var e,t,u,l,a,d,h,g;let s=((t=(e=this.$page.props)==null?void 0:e.role)==null?void 0:t.installation_oss)||((l=(u=this.$page.props)==null?void 0:u.role)==null?void 0:l.incident_oss)||((d=(a=this.$page.props)==null?void 0:a.role)==null?void 0:d.installation_supervisor)||((g=(h=this.$page.props)==null?void 0:h.role)==null?void 0:g.incident_supervisor);return console.log("Supervisor and OSS Access: ",s),s},toggleSidebar(){this.sidebarOpen=!this.sidebarOpen},toggleCollapse(){this.isCollapsed=!this.isCollapsed,localStorage.setItem("sidebarCollapsed",this.isCollapsed)},togglePanel(s){this.panels=this.panels.map(e=>({...e,isOpen:e.name===s?!e.isOpen:!1}))},openPanelForRoute(){console.log(route().current());const s=route().current().split(".")[0];this.panels.forEach(e=>{e.isOpen=e.links.some(t=>s===t.route.split(".")[0])})},checkActive(s){return route().current().split(".")[0]===s.split(".")[0]},logout(){this.$inertia.post(route("logout"))}},created(){this.openPanelForRoute()},watch:{"$page.props":{deep:!0,handler(){this.openPanelForRoute()}}}},Y={id:"root"},Z={class:"w-full flex justify-between items-center shadow-none shadow-gray-300 shadow-left"},U={href:"javascript:void(0)",class:"text-gray-400 flex items-center w-full"},K={key:0},Q=["src"],W={key:1},X=["src"],ee={key:2},se=["src"],oe={key:3,class:"font-bold text-md self-center text-center w-full"},te={class:"px-4 md:px-10 mx-auto w-full my-4"},re={class:"ml-3 absolute top-8 right-8"},ae={key:0,class:"flex text-sm border-2 border-transparent rounded-full focus:outline-none focus:border-gray-300 transition"},ne=["src","alt"],ie={key:1,class:"inline-flex rounded-md"},le={type:"button",class:"inline-flex items-center px-3 py-2 border border-transparent text-sm leading-4 font-medium rounded-md text-gray-500 bg-white hover:text-gray-700 focus:outline-none transition"},ue={class:"p-2"},pe={class:"block py-4"},ce={class:"container mx-auto px-4"},de={class:"flex flex-wrap items-center md:justify-between justify-center"},me={class:"w-full md:w-4/12 px-4"},fe={class:"text-sm text-blueGray-500 font-semibold py-1"},he={class:"w-full md:w-8/12 px-4"},ge={class:"flex flex-wrap list-none md:justify-end justify-center"},we={class:"text-sm text-blueGray-500 font-semibold py-1"};function be(s,e,t,u,l,a){var x,v;const d=y("Head"),h=y("jet-nav-link"),g=y("ExpandableMenu"),b=y("jet-dropdown-link"),_=y("jet-dropdown");return r(),n("div",Y,[k(d,null,{default:f(()=>[o("title",null,m(s.$page.props.isp?s.$page.props.isp.name+" |":"")+" "+m(s.$page.props.application_name),1),e[3]||(e[3]=o("meta",{name:"description",content:"ISP Manager OSS BSS SYSTEM"},null,-1)),e[4]||(e[4]=o("link",{rel:"icon",type:"image/png",href:"/storage/logos/favicon.png"},null,-1))]),_:1}),o("nav",{class:c(["sm:h-screen overflow-y-auto sm:fixed sm:top-0 sm:left-0 transition-all duration-300 md:overflow-y-auto md:overflow-hidden scrollbar-thin scrollbar-thumb-gray-300 scrollbar-track-gray-200",l.isCollapsed?"sm:w-20 z-10":"sm:w-64","dark:bg-gray-900 p-4 scrollbar-thin scrollbar-thumb-gray-300 scrollbar-track-gray-200"])},[o("div",Z,[o("a",U,[s.$page.props.login_type==="isp"?(r(),n("span",K,[(x=s.$page.props.isp)!=null&&x.logo?(r(),n("img",{key:0,src:`/storage/${s.$page.props.isp.logo}`,alt:"Logo",class:"w-16"},null,8,Q)):w("",!0)])):s.$page.props.login_type==="partner"?(r(),n("span",W,[(v=s.$page.props.partner)!=null&&v.logo?(r(),n("img",{key:0,src:`/storage/${s.$page.props.partner.logo}`,alt:"Logo",class:"w-16"},null,8,X)):w("",!0)])):(r(),n("span",ee,[s.$page.props.logo_small?(r(),n("img",{key:0,src:`/storage/${s.$page.props.logo_small}`,alt:"Logo",class:"w-16"},null,8,se)):w("",!0)])),l.isCollapsed?w("",!0):(r(),n("span",oe,m(s.$page.props.application_name),1))]),o("button",{class:"text-black md:hidden",onClick:e[0]||(e[0]=(...i)=>a.toggleSidebar&&a.toggleSidebar(...i))},e[5]||(e[5]=[o("i",{class:"fas fa-bars"},null,-1)])),o("button",{onClick:e[1]||(e[1]=(...i)=>a.toggleCollapse&&a.toggleCollapse(...i)),class:"text-blue-900 hidden w-4 md:block focus:ring-0 focus:outline-none -mr-4"},[o("i",{class:c(l.isCollapsed?"fas fa-caret-right":"fas fa-caret-left")},null,2)])]),o("div",{class:c([{hidden:!l.sidebarOpen},"md:flex md:flex-col mt-4 w-full grid grid-cols-1 gap-2"])},[(r(!0),n(A,null,P(a.filteredPanels,i=>(r(),O(g,{key:i.name,name:i.name,label:i.label,icon:i.icon,isOpen:i.isOpen,isCollapsed:l.isCollapsed,onToggle:p=>a.togglePanel(i.name)},{default:f(()=>[(r(!0),n(A,null,P(i.links,p=>(r(),O(h,{key:p.name,href:s.route(p.route),active:a.checkActive(p.route),isCollapsed:l.isCollapsed,show:p.show,class:"flex items-center px-3"},{default:f(()=>[o("i",{class:c([p.icon,"min-w-[20px]"])},null,2),o("span",null,m(p.name),1)]),_:2},1032,["href","active","isCollapsed","show"]))),128))]),_:2},1032,["name","label","icon","isOpen","isCollapsed","onToggle"]))),128))],2)],2),o("div",{class:c(["relative transition-all duration-300",l.isCollapsed?"md:ml-20":"md:ml-64","bg-gray-100 dark:bg-gray-900 h-screen overflow-auto scrollbar-thin scrollbar-thumb-gray-200 scrollbar-track-gray-100"])},[s.$slots.header?(r(),n("header",{key:0,class:"relative w-full bg-blue-900 md:flex-row md:flex-nowrap md:justify-start flex items-center py-4",style:F({backgroundColor:s.$page.props.theme_color})},[o("div",te,[C(s.$slots,"header")]),o("div",re,[k(_,{align:"right",width:"48"},{trigger:f(()=>[s.$page.props.jetstream.managesProfilePhotos?(r(),n("button",ae,[o("img",{class:"h-8 w-8 rounded-full object-cover",src:s.$page.props.auth.user.profile_photo_url,alt:s.$page.props.auth.user.name},null,8,ne)])):(r(),n("span",ie,[o("button",le,[S(m(s.$page.props.auth.user.name)+" ",1),e[6]||(e[6]=o("svg",{class:"ml-2 -mr-0.5 h-4 w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[o("path",{"fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule":"evenodd"})],-1))])]))]),content:f(()=>[e[10]||(e[10]=o("div",{class:"block px-4 py-2 text-xs text-gray-400"},"Manage Account",-1)),k(b,{href:s.route("profile.show")},{default:f(()=>e[7]||(e[7]=[S(" Profile ")])),_:1},8,["href"]),s.$page.props.jetstream.hasApiFeatures?(r(),O(b,{key:0,href:s.route("api-tokens.index")},{default:f(()=>e[8]||(e[8]=[S(" API Tokens ")])),_:1},8,["href"])):w("",!0),e[11]||(e[11]=o("div",{class:"border-t border-gray-100"},null,-1)),o("form",{onSubmit:e[2]||(e[2]=M((...i)=>a.logout&&a.logout(...i),["prevent"]))},[k(b,{as:"button"},{default:f(()=>e[9]||(e[9]=[S(" Log Out ")])),_:1})],32)]),_:1})])],4)):w("",!0),o("main",ue,[C(s.$slots,"default")]),o("footer",pe,[o("div",ce,[e[12]||(e[12]=o("hr",{class:"mb-4 border-b-1 border-blueGray-200"},null,-1)),o("div",de,[o("div",me,[o("div",fe," © "+m(new Date().getFullYear()),1)]),o("div",he,[o("ul",ge,[o("li",we,m(s.$page.props.application_name),1)])])])])])],2)])}const _e=R(J,[["render",be]]);export{_e as A};
