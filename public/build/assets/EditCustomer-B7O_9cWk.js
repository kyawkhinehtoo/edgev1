import{A as je}from"./AppLayout-DG15ydYj.js";import{M as Se}from"./vue3-multiselect.umd.min-BWwxl7cE.js";import{r as p,m as W,p as I,o as m,d as u,f as b,a as t,e as g,F as z,g as Q,b as V,N as J,t as a,i as Ue,C as De,T as ue,I as A,c as L,w as M,h as Ne,n as N,q as d,v,s as x,O as ce,L as G}from"./app-w46C5q5-.js";import{U as Fe}from"./Upload-gIwQe9Cu.js";import{_ as X}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{_ as Ie}from"./ImageUploader-CF6gk6oO.js";import"./DropdownLink-DlTIZnVz.js";const Te={name:"File",components:{Upload:Fe},props:["data","permission"],setup(o){let e=p(!1),c=p(),s=p(!1),C=p("");function O(){s.value=!0,C.value={customer_id:o.data}}function f(){s.value=!1,S()}function w(k){console.log(o.permission),o.permission&&Toast.fire({title:"Are you sure?",text:"Once deleted, you will not be able to recover this data !",icon:"warning",timer:!1,position:"center",showCancelButton:!0,dangerMode:!0}).then(U=>{U.isConfirmed?P(k):Toast.fire("Your data is safe!")})}function P(k){k._method="DELETE",J.post("/deleteFile/"+k.id,k,{onSuccess(U){Toast.fire({icon:"success",title:"Your File has been Deleted !"}),S()}})}const j=async()=>{let k="/getCustomerFile/"+o.data;console.log(k);try{return await(await fetch(k)).json()}catch(U){console.error(U)}},F=k=>{k&&(s.value=!1,S(),Toast.fire({icon:"success",title:"Successfully Uploaded the File"}))},S=()=>{j().then(k=>{c.value=k})};return W(()=>{S()}),{file_list:c,add:s,deleteFile:w,addFile:O,closeFile:f,checkUpload:F,incident_id:C,loading:e}}},Ae={key:0,class:"flex w-full justify-end"},Le={key:1,"wire:loading":"",class:"w-full flex flex-col items-center justify-center"},ze={key:2},Ee={class:"min-w-full divide-y divide-gray-200 table-auto"},Be={class:"bg-white divide-y divide-gray-200 text-sm max-h-64 w-full overflow-auto scrollbar-thin scrollbar-thumb-gray-400 scrollbar-track-white block text-left"},Me={class:"px-6 py-3 whitespace-nowrap tracking-wider w-1/12"},qe={class:"px-6 py-3 whitespace-nowrap tracking-wider w-full"},He=["href"],Re={class:"px-6 py-3 whitespace-nowrap tracking-wider text-right w-1/12 mr-4"},Ke=["onClick"],Ye={key:3};function Ge(o,e,c,s,C,O){const f=I("upload");return m(),u(z,null,[c.permission?(m(),u("div",Ae,[s.add?g("",!0):(m(),u("a",{key:0,href:"#",onClick:e[0]||(e[0]=w=>s.addFile()),class:"-mt-2 mb-2 text-center items-center px-4 py-3 bg-indigo-500 border border-transparent rounded-sm font-semibold text-xs text-white uppercase tracking-widest hover:bg-indigo-400 active:bg-indigo-600 focus:outline-none focus:border-gray-900 disabled:opacity-25 transition mr-1"},e[2]||(e[2]=[b("Add File"),t("i",{class:"fas fa-plus-circle opacity-75 lg:ml-1 text-sm"},null,-1)]))),s.add?(m(),u("a",{key:1,href:"#",onClick:e[1]||(e[1]=w=>s.closeFile()),class:"-mt-2 mb-2 text-center items-center px-4 py-3 bg-indigo-500 border border-transparent rounded-sm font-semibold text-xs text-white uppercase tracking-widest hover:bg-indigo-400 active:bg-indigo-600 focus:outline-none focus:border-gray-900 disabled:opacity-25 transition mr-1"},e[3]||(e[3]=[b("Close"),t("i",{class:"fas fa-times-circle opacity-75 lg:ml-1 text-sm"},null,-1)]))):g("",!0)])):g("",!0),s.file_list?g("",!0):(m(),u("div",Le,e[4]||(e[4]=[t("div",{class:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-purple-500"},null,-1),t("h2",{class:"text-center text-gray-600 text-sm font-semibold mt-2"},"Loading...",-1)]))),s.file_list&&!s.add?(m(),u("div",ze,[t("table",Ee,[e[7]||(e[7]=t("thead",{class:"bg-gray-50 w-full flex block table text-left"},[t("tr",null,[t("th",{scope:"col",class:"px-6 py-3 text-xs font-medium text-gray-500 uppercase tracking-wider w-1/12"},"ID"),t("th",{scope:"col",class:"px-6 py-3 text-xs font-medium text-gray-500 uppercase tracking-wider w-full"},"File"),t("th",{scope:"col",class:"px-6 py-3 text-xs font-medium text-gray-500 uppercase tracking-wider w-1/12"}," Action ")])],-1)),t("tbody",Be,[(m(!0),u(z,null,Q(s.file_list,(w,P)=>(m(),u("tr",{key:w.id,class:"flex"},[t("td",Me,a(P+1),1),t("td",qe,[t("a",{href:w.path,target:"_blank"},e[5]||(e[5]=[t("i",{class:"fas fa-paperclip text-indigo-600"},null,-1)]),8,He),b(" "+a(w.name),1)]),t("td",Re,[t("a",{href:"#",onClick:j=>s.deleteFile(w),class:"text-red-600"},e[6]||(e[6]=[t("i",{class:"fa fa-trash"},null,-1)]),8,Ke)])]))),128))])])])):g("",!0),s.add?(m(),u("div",Ye,[V(f,{data:s.incident_id,onStatus:s.checkUpload},null,8,["data","onStatus"])])):g("",!0)],64)}const Je=X(Te,[["render",Ge]]),We={name:"CustomerHistory",props:["data"],setup(o){const e=p(),c=async()=>{let O="/getCustomerHistory/"+o.data;try{return await(await fetch(O)).json()}catch(f){console.error(f)}},s=()=>{c().then(O=>{e.value=O})},C=O=>{var f=new Date(O),w=f.getFullYear(),P=f.getMonth()+1,j=f.getDate();console.log(),j<10&&(j="0"+j),P<10&&(P="0"+P);var F=w+"-"+P+"-"+j+" "+f.getHours()+":"+f.getMinutes()+":"+f.getSeconds();return F};return W(()=>{s()}),{logs:e,formatDate:C}}},Qe={key:0,"wire:loading":"",class:"w-full flex flex-col items-center justify-center"},Xe={key:1},Ze={class:"min-w-full divide-y divide-gray-200"},$e={class:"bg-white divide-y divide-gray-200 text-sm text-left"},et={class:"px-3 py-3 text-xs font-medium tracking-wider"},tt={class:"px-3 py-3 text-xs font-medium tracking-wider"},st={class:"px-3 py-3 text-xs font-medium tracking-wider"},ot={class:"px-3 py-3 text-xs font-medium tracking-wider"},lt={key:0},rt=["innerHTML"];function nt(o,e,c,s,C,O){return m(),u(z,null,[s.logs?g("",!0):(m(),u("div",Qe,e[0]||(e[0]=[t("div",{class:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-purple-500"},null,-1),t("h2",{class:"text-center text-gray-600 text-sm font-semibold mt-2"},"Loading...",-1)]))),s.logs?(m(),u("div",Xe,[t("table",Ze,[e[3]||(e[3]=t("thead",{class:"bg-gray-50 text-left"},[t("tr",null,[t("th",{scope:"col",class:"px-6 py-3 text-xs font-medium text-gray-500 uppercase tra"},"No."),t("th",{scope:"col",class:"px-6 py-3 text-xs font-medium text-gray-500 uppercase tracking-wider"},"Updated On"),t("th",{scope:"col",class:"px-6 py-3 text-xs font-medium text-gray-500 uppercase tracking-wider"},"Actor"),t("th",{scope:"col",class:"px-6 py-3 text-xs font-medium text-gray-500 uppercase tracking-wider"},"Action")])],-1)),t("tbody",$e,[(m(!0),u(z,null,Q(s.logs,(f,w)=>(m(),u("tr",{key:f.id},[t("td",et,a(w+1),1),t("td",tt,a(s.formatDate(f.created_at)),1),t("td",st,a(f.actor_name),1),t("td",ot,[f.general?(m(),u("span",lt,[t("span",{innerHTML:f.general},null,8,rt),e[1]||(e[1]=b()),e[2]||(e[2]=t("br",null,null,-1))])):g("",!0)])]))),128))])])])):g("",!0)],64)}const at=X(We,[["render",nt]]),it={name:"EditCustomer",components:{AppLayout:je,CustomerFile:Je,Multiselect:Se,CustomerHistory:at,Link:Ue,ImageUploader:Ie},props:{packages:Object,isps:Object,townships:Object,partners:Object,errors:Object,customer:Object,status_list:Object,subcoms:Object,user:Object,customer_history:Object,pops:Object,total_documents:Number,bundle_equiptments:Object,userPerm:Array,allStatus:Object,subconCheckList:Object,popDevices:Object,snPort:Object},setup(o){var re,ne,ae,ie,de;De("role",o.role),p(""),p(""),p("");let e=p("");p(!1);let c="";const s=p(null),C=p(null),O=p(null),f=p(null),w=p(null);p([]);const P=p([]),j=p({}),F=p([{id:"team_assigned",name:"Team Assigned"},{id:"cable_done",name:"Cable Done"},{id:"config_done",name:"Config Done"},{id:"completed",name:"Completed"},{id:"customer_cancel",name:"Customer Cancel"},{id:"pending_odb_issue",name:"Pending ODB Issue"},{id:"pending_port_full",name:"Pending Port Full"},{id:"pending_reappointment",name:"Pending Reappointment"}]);let S=p(o.allStatus),k=p(!1);const U=p(o.customer.route_kmz_image||null),T=p(o.customer.drum_no_image||null),E=p(o.customer.start_meter_image||null),l=p(o.customer.end_meter_image||null),Z=r=>r.disabled===!0,h=p(Array.from({length:16},(r,n)=>({id:n+1,name:`SN Port ${n+1}`}))),$=p(Array.from({length:127},(r,n)=>({id:n,name:`OnuID${n}`})));o.customer.location&&(c=o.customer.location.split(",",2));let ee=p(1),fe=p("");const q=p([]),H=p([]),R=p([]);function pe(r){fe.value!=null&&(ee.value=r)}const i=ue({id:o.customer.id,name:o.customer.name,phone_1:o.customer.phone_1,address:o.customer.address,latitude:c[0]?c[0]:"",longitude:c[1]?c[1]:"",order_date:o.customer.order_date,order_remark:o.customer.order_remark,installation_date:o.customer.installation_date,service_activation_date:o.customer.service_activation_date,isp_ftth_id:o.customer.isp_ftth_id,ftth_id:o.customer.ftth_id,township:o.customer.township,package:o.customer.package,status:"",subcom:"",prefer_install_date:o.customer.prefer_install_date,splitter_no:(re=o.snPort)==null?void 0:re.port_number,installation_remark:o.customer.installation_remark,fc_used:o.customer.fc_used,fc_damaged:o.customer.fc_damaged,onu_serial:o.customer.onu_serial,onu_power:o.customer.onu_power,fiber_distance:o.customer.fiber_distance,vlan:o.customer.vlan,bundles:"",gpon_ontid:o.customer.gpon_ontid,port_balance:o.customer.port_balance,pop_id:(ne=o.snPort)==null?void 0:ne.pop,pop_device_id:(ae=o.snPort)==null?void 0:ae.pop_device,dn_id:(ie=o.snPort)==null?void 0:ie.dn_splitter,sn_id:(de=o.snPort)==null?void 0:de.sn_splitter,partner_id:o.customer.partner,isp_id:o.customer.isp,way_list_date:o.customer.way_list_date,installation_status:"",route_kmz_image:o.customer.route_kmz_image,drum_no_txt:o.customer.drum_no_txt,drum_no_image:o.customer.drum_no_image,start_meter_txt:o.customer.start_meter_txt,start_meter_image:o.customer.start_meter_image,end_meter_txt:o.customer.end_meter_txt,end_meter_image:o.customer.end_meter_image}),te=ue({...Object.fromEntries(o.subconCheckList?Object.values(o.subconCheckList).flatMap(r=>{var n,y,D,_;return[[`checklist_${r.id}_title`,((y=(n=o.customer.checklist_values)==null?void 0:n[r.id])==null?void 0:y.title)||""],[`checklist_${r.id}_attachment`,null],[`checklist_${r.id}_status`,((_=(D=o.customer.checklist_values)==null?void 0:D[r.id])==null?void 0:_.status)||""]]}):[])}),K=p(!1),Y=p(null);function be(r){Y.value=r,K.value=!0}function ge(){K.value=!1,Y.value=null}function xe(){J.post("/installationApproval/"+i.id,te,{onSuccess:r=>{Toast.fire({icon:"success",title:r.props.flash.message})},onError:r=>{console.error("Error submitting form:",r)},headers:{"Content-Type":"multipart/form-data"}})}function _e(){const r=new FormData;Object.keys(i).forEach(n=>{n!=="_method"&&(n.includes("image")&&i[n]instanceof File?r.append(n,i[n]):typeof i[n]=="object"&&i[n]!==null?r.append(n,JSON.stringify(i[n])):i[n]!==null&&i[n]!==void 0&&r.append(n,i[n]))}),r.append("_method","PUT"),J.post("/customer/"+i.id,r,{onSuccess:n=>{Toast.fire({icon:"success",title:n.props.flash.message})},onError:n=>{console.error("Error submitting form:",n)},headers:{"Content-Type":"multipart/form-data"}})}function ye(r){var y;const n=(y=o.user)==null?void 0:y.role;return n&&n!=null&&n.read_customer?!0:!o.userPerm.includes(r)}function ve(r){r=r||window.event;var n=r.which?r.which:r.keyCode;if(n>31&&(n<48||n>57)&&n!==46)r.preventDefault();else return!0}function we(r,n){if(!r||!n)return console.error("Invalid inputs: roleStatus or customerStatus is missing"),!1;try{return typeof r=="string"&&(r=JSON.parse(r)),Array.isArray(r)?r.some(y=>y.id==n.id):(console.error("Error: roleStatus is not an array",r),!1)}catch(y){return console.error("Error parsing roleStatus:",y),!1}}const se=async()=>{if(!i.pop_id){q.value=[];return}try{const n=await(await fetch(`/getOLTByPOP/${i.pop_id.id}`)).json();q.value=n||[],console.log("fetch POP Devices")}catch(r){console.error("Failed to fetch POP devices",r)}},oe=async()=>{if(!i.pop_device_id){H.value=[];return}try{const n=await(await fetch(`/getDNByOLT/${i.pop_device_id.id}`)).json();H.value=n||[]}catch(r){console.error("Failed to fetch DNs",r)}},le=async()=>{if(!i.dn_id){R.value=[];return}try{const n=await(await fetch(`/getDnId/${i.dn_id.id}`)).json();R.value=n||[]}catch(r){console.error("Failed to fetch SNs",r)}},ke=async()=>{var r;if(!i.sn_id){h.value=Array.from({length:16},(n,y)=>({id:y+1,name:`SN Port ${y+1}`}));return}try{const y=await(await fetch(`/getAvailablePortBySplitterId/${(r=i.sn_id)==null?void 0:r.id}`)).json();h.value=y||[]}catch(n){console.error("Failed to fetch available ports",n),h.value=Array.from({length:16},(y,D)=>({id:D+1,name:`SN Port ${D+1}`}))}};A(()=>i.township,async r=>{if(r)try{i.pop_id=null,i.pop_device_id=null,i.dn_id=null,i.sn_id=null,i.partner=null,r.partner_id&&(i.partner=o.partners.find(D=>D.id===r.partner_id));const y=await(await fetch(`/getPOPsByTownship/${r.id}`)).json();P.value=y||[]}catch(n){console.error("Failed to fetch data for township",n),P.value=[]}else P.value=[],i.partner=null}),A(()=>i.pop_id,()=>{se(),i.sn_id=null,i.dn_id=null,i.pop_device_id=null,i.splitter_no=null,i.gpon_ontid=null,i.port_balance=null}),A(()=>i.pop_device_id,()=>{oe(),i.dn_id=null,i.sn_id=null,i.splitter_no=null}),A(()=>i.dn_id,()=>{le(),i.sn_id=null,i.splitter_no=null}),A(()=>i.sn_id,()=>{ke()});function he(r){return Array.isArray(r)?(console.log("array"),r.length===0?(console.log("empty array"),!0):r.every(n=>typeof n=="object"&&Object.keys(n).length===0)):r&&typeof r=="object"?Object.keys(r).length===0:!1}const Pe=()=>{if(C.value){let r=C.value.innerText;navigator.clipboard.writeText(r).then(()=>{alert("Text copied to clipboard!")}).catch(n=>{console.error("Failed to copy text: ",n)})}else console.error("Text content ref is undefined.")},Ve=()=>{if(C.value){let r=C.value.innerText;navigator.share&&navigator.share({title:"Customer Information",text:r}).then(()=>{alert("Text copied to clipboard!")}).catch(n=>{console.error("Failed to copy text: ",n)})}else console.error("Text content ref is undefined.")};return W(()=>{var y,D;if(i.installation_status=o.customer.installation_status?F.value.filter(_=>_.id==o.customer.installation_status)[0]:null,i.township&&fetch(`/getPOPsByTownship/${i.township.id}`).then(_=>_.json()).then(_=>{P.value=_||[]}).catch(_=>{console.error("Failed to fetch pop for township",_),P.value=[]}),i.pop_id&&se(),i.pop_device_id&&oe(),i.dn_id&&le(),o.customer.bundle){let _=o.customer.bundle.split(",").filter(Boolean),me=[];s.value=[],_.forEach(Ce=>{const B=o.bundle_equiptments.find(Oe=>Oe.id==Ce);B&&(me.push(B),s.value=s.value?`${s.value},${B.name}`:B.name)}),i.bundles=me}(y=o.snPort)!=null&&y.port_number&&(i.splitter_no=h.value.filter(_=>_.id==o.snPort.port_number)[0],w.value=(D=i.splitter_no)==null?void 0:D.name),o.customer.gpon_ontid&&(i.gpon_ontid=$.value.filter(_=>_.name==o.customer.gpon_ontid)[0]),i.status=o.allStatus.filter(_=>_.id==o.customer.status_id)[0],i.subcom=o.subcoms.filter(_=>_.id==o.customer.subcom_id)[0];let r=o.allStatus.filter(_=>_.id==o.customer.status_id)[0];i.status=r;let n=o.status_list;we(n,r)?S.value=n:(S.value=o.allStatus,k.value=!0)}),{form:i,form2:te,submit:_e,isNumber:ve,checkPerm:ye,tab:ee,tabClick:pe,isEmptyObject:he,pop_devices:e,snPortNoOptions:h,gponOnuIdOptions:$,bundle:s,shareText:Ve,copyText:Pe,textContent:C,dnName:O,snName:f,snPort:w,popDevices:q,dnOptions:H,snOptions:R,filteredPops:P,disableStatus:k,statusList:S,routeImagePreview:U,drumImagePreview:T,startMeterImagePreview:E,endMeterImagePreview:l,installationStatus:F,checklistImagePreviews:j,showFullView:K,selectedImageId:Y,openFullView:be,closeFullView:ge,installationApproval:xe,isOptionDisabled:Z}}},dt={class:"py-2"},mt={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},ut={class:"mt-5 md:mt-0 md:col-span-2"},ct={class:"shadow sm:rounded-md sm:overflow-hidden"},ft={class:"inline-flex w-full bg-gray-50 rounded-t-lg"},pt={id:"tabs",class:"flex"},bt={class:"bg-blue-100 text-blue-800 text-xs font-medium mr-2 px-2.5 py-0.5 rounded dark:bg-blue-900 dark:text-blue-300"},gt={id:"tab-contents"},xt={class:"px-4 py-5 bg-white space-y-6 sm:p-6"},_t={class:"grid grid-cols-1 sm:grid-cols-4 gap-2"},yt={class:"col-span-1 sm:col-span-1"},vt={class:"mt-1 flex rounded-md shadow-sm"},wt=["disabled"],kt={class:"col-span-1 sm:col-span-1"},ht={key:0,class:"mt-1 flex rounded-md shadow-sm"},Pt={class:"col-span-1 sm:col-span-2"},Vt={class:"mt-1 flex rounded-md shadow-sm"},Ct=["disabled"],Ot={class:"col-span-1 sm:col-span-1"},jt={class:"mt-1 flex rounded-md shadow-sm"},St=["disabled"],Ut={class:"col-span-1 sm:col-span-1"},Dt={class:"mt-1 flex rounded-md shadow-sm"},Nt=["disabled"],Ft={class:"col-span-1 sm:col-span-2"},It={class:"mt-1 flex rounded-md shadow-sm"},Tt=["disabled"],At={class:"grid grid-cols-1 sm:grid-cols-4 gap-2"},Lt={key:0,class:"col-span-1 sm:col-span-1"},zt={id:"ftth_id",class:"pl-10 mt-2 flex-1 block w-full rounded-md sm:text-sm border-gray-300"},Et={class:"col-span-1 sm:col-span-1 w-full"},Bt={class:"mt-1 flex rounded-md shadow-sm"},Mt=["disabled"],qt={class:"col-span-1 sm:col-span-1"},Ht={class:"mt-1 flex rounded-md shadow-sm"},Rt=["disabled"],Kt={class:"col-span-1 sm:col-span-1"},Yt={key:0,class:"mt-1 flex rounded-md shadow-sm"},Gt={class:"col-span-1 sm:col-span-1"},Jt={class:"mt-1 p-2 space-x-2 inline-flex"},Wt={class:"col-span-1 sm:col-span-1"},Qt={class:"mt-1 flex rounded-md shadow-sm"},Xt=["disabled"],Zt={class:"col-span-1 sm:col-span-1"},$t={key:0,class:"mt-1 flex rounded-md shadow-sm"},es={class:"col-span-1 sm:col-span-2"},ts={class:"mt-1 flex rounded-md shadow-sm"},ss=["disabled"],os={key:0},ls={class:"grid grid-cols-1 sm:grid-cols-4 gap-2 mt-4"},rs={class:"col-span-1 sm:col-span-1"},ns=["disabled"],as={class:"col-span-1 sm:col-span-1"},is={key:0,class:"mt-1 flex rounded-md shadow-sm"},ds={class:"col-span-1 sm:col-span-1"},ms={key:0,class:"mt-1 flex rounded-md shadow-sm"},us={class:"col-span-1 sm:col-span-1"},cs={key:0,class:"mt-1 flex rounded-md shadow-sm"},fs={key:1,class:"text-sm text-gray-500 mt-1"},ps={class:"col-span-1 sm:col-span-1"},bs={class:"mt-1 flex rounded-md shadow-sm"},gs={class:"col-span-1 sm:col-span-1"},xs={key:0,class:"mt-1 flex rounded-md shadow-sm"},_s={class:"col-span-1 sm:col-span-1"},ys={key:0,class:"mt-1 flex rounded-md shadow-sm"},vs={class:"col-span-1 sm:col-span-1"},ws={key:0,class:"mt-1 flex rounded-md shadow-sm w-full"},ks={class:"col-span-1 sm:col-span-1"},hs={class:"mt-1 flex rounded-md shadow-sm"},Ps=["disabled"],Vs={class:"col-span-1 sm:col-span-1"},Cs={class:"mt-1 flex rounded-md shadow-sm"},Os={class:"col-span-1 sm:col-span-1"},js={class:"mt-1 flex rounded-md shadow-sm"},Ss=["disabled"],Us={key:0},Ds={class:"grid grid-cols-1 sm:grid-cols-4 gap-2 mt-4"},Ns={class:"col-span-1 sm:col-span-1"},Fs={key:0,class:"mt-1 flex rounded-md shadow-sm"},Is={class:"col-span-1 md:col-span-1"},Ts={key:0,class:"mt-1 flex rounded-md shadow-sm"},As={class:"col-span-1 sm:col-span-1"},Ls={class:"mt-1 flex rounded-md shadow-sm"},zs=["disabled"],Es={class:"col-span-1 sm:col-span-1"},Bs={class:"mt-1 flex rounded-md shadow-sm"},Ms=["disabled"],qs={class:"col-span-1 sm:col-span-1"},Hs={class:"mt-1 flex rounded-md shadow-sm"},Rs=["disabled"],Ks={class:"col-span-1 md:col-span-1"},Ys={key:0,class:"mt-1 flex rounded-md shadow-sm"},Gs={class:"col-span-1 sm:col-span-1"},Js={class:"mt-1 flex rounded-md shadow-sm"},Ws=["disabled"],Qs={class:"col-span-1 sm:col-span-1"},Xs={class:"mt-1 flex rounded-md shadow-sm"},Zs=["disabled"],$s={class:"col-span-1 sm:col-span-4"},eo={class:"mt-1 flex rounded-md shadow-sm"},to=["disabled"],so={class:"px-4 py-3 bg-gray-50 text-right sm:px-6"},oo={class:"px-4 py-5 bg-white space-y-6 sm:p-6"},lo={class:"px-4 py-5 bg-white space-y-6 sm:p-6"},ro={class:"px-4 py-5 bg-white space-y-6 sm:p-6"},no={class:"w-full flex justify-between"},ao={class:"gap-2"},io={id:"text-code",ref:"textContent"},mo={key:0},uo={class:"px-4 py-5 bg-white space-y-6 sm:p-6"},co={class:"grid grid-cols-1 sm:grid-cols-3 gap-4"},fo={class:"block text-sm font-medium text-gray-700"},po=["onUpdate:modelValue"],bo={key:1},go={key:2,class:"mt-2"},xo=["src","onClick"],_o={class:"relative"},yo=["src"],vo={key:3,class:"mt-2"},wo={class:"py-2"},ko={class:"mt-2 flex"},ho={class:"flex-auto items-center"},Po=["name","onUpdate:modelValue"],Vo={class:"flex-auto items-center"},Co=["name","onUpdate:modelValue"],Oo={class:"flex-auto items-center"},jo=["name","onUpdate:modelValue"],So={class:"text-right"};function Uo(o,e,c,s,C,O){const f=I("multiselect"),w=I("Link"),P=I("customer-file"),j=I("customer-history"),F=I("app-layout");return m(),L(F,null,{header:M(()=>e[46]||(e[46]=[t("h2",{class:"font-semibold text-xl text-white leading-tight"},"Customer Details",-1)])),default:M(()=>{var S,k,U,T,E;return[t("div",dt,[t("div",mt,[t("div",ut,[t("form",{onSubmit:e[45]||(e[45]=Ne((...l)=>s.submit&&s.submit(...l),["prevent"]))},[t("div",ct,[t("div",ft,[t("ul",pt,[t("li",{class:N(["px-2 lg:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",[s.tab==1?"border-b-2 border-indigo-400 -mb-px":"opacity-50"]])},[t("a",{href:"#",onClick:e[0]||(e[0]=l=>s.tabClick(1)),"preserve-state":""},"Genaral")],2),(S=c.user.role)!=null&&S.installation_supervisor?(m(),u("li",{key:0,class:N(["px-2 lg:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",[s.tab==7?"border-b-2 border-indigo-400 -mb-px":"opacity-50"]])},[t("a",{href:"#",onClick:e[1]||(e[1]=l=>s.tabClick(7)),"preserve-state":""},"Installation")],2)):g("",!0),t("li",{class:N(["px-2 lg:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",[s.tab==2?"border-b-2 border-indigo-400 -mb-px":"opacity-50"]])},[t("a",{href:"#",onClick:e[2]||(e[2]=l=>s.tabClick(2)),"preserve-state":""},[e[47]||(e[47]=b("Documents ")),t("span",bt,a(c.total_documents),1)])],2),t("li",{class:N(["px-2 lg:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",[s.tab==6?"border-b-2 border-indigo-400 -mb-px":"opacity-50"]])},[t("a",{href:"#",onClick:e[3]||(e[3]=l=>s.tabClick(6)),"preserve-state":""},"Text")],2),t("li",{class:N(["px-2 lg:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",[s.tab==3?"border-b-2 border-indigo-400 -mb-px":"opacity-50"]])},[t("a",{href:"#",onClick:e[4]||(e[4]=l=>s.tabClick(3)),"preserve-state":""},"History")],2)])]),t("div",gt,[t("div",{class:N(["p-4",[s.tab==1?"":"hidden"]])},[t("div",xt,[e[104]||(e[104]=t("h6",{class:"md:min-w-full text-indigo-700 text-xs uppercase font-bold block pt-1 no-underline"}," Customer Basic Information",-1)),t("div",_t,[t("div",yt,[e[49]||(e[49]=t("label",{for:"name",class:"block text-sm font-medium text-gray-700"},[t("span",{class:"text-red-500"},"*"),b(" Customer Name ")],-1)),t("div",vt,[e[48]||(e[48]=t("span",{class:"z-10 leading-snug font-normal text-center text-gray-300 absolute bg-transparent rounded text-base items-center justify-center w-8 pl-3 py-2"},[t("i",{class:"fas fa-user"})],-1)),d(t("input",{type:"text","onUpdate:modelValue":e[5]||(e[5]=l=>s.form.name=l),name:"name",id:"name",class:"pl-10 focus:ring-indigo-500 focus:border-indigo-500 flex-1 block w-full rounded-md sm:text-sm border-gray-300",placeholder:"Customer Name",required:"",disabled:s.checkPerm("name")},null,8,wt),[[v,s.form.name]])]),d(t("p",{class:"mt-2 text-sm text-red-500"},a(o.$page.props.errors.name),513),[[x,o.$page.props.errors.name]])]),t("div",kt,[e[50]||(e[50]=t("label",{for:"township",class:"block text-sm font-medium text-gray-700"},[t("span",{class:"text-red-500"},"*"),b(" Township ")],-1)),c.townships.length!==0?(m(),u("div",ht,[V(f,{"deselect-label":"Selected already",options:c.townships,"track-by":"id",label:"name",modelValue:s.form.township,"onUpdate:modelValue":e[6]||(e[6]=l=>s.form.township=l),placeholder:"Select Township","allow-empty":!1,disabled:s.checkPerm("township_id"),required:""},null,8,["options","modelValue","disabled"])])):g("",!0),d(t("p",{class:"mt-2 text-sm text-red-500"},a(o.$page.props.errors.township_id),513),[[x,o.$page.props.errors.township_id]])]),t("div",Pt,[e[52]||(e[52]=t("label",{for:"phone_1",class:"block text-sm font-medium text-gray-700"},[t("span",{class:"text-red-500"},"*"),b(" Phone No. (e.g. 09-123/09-456)")],-1)),t("div",Vt,[e[51]||(e[51]=t("span",{class:"z-10 leading-snug font-normal absolute text-center text-gray-300 bg-transparent rounded text-base items-center justify-center w-8 pl-3 py-2"},[t("i",{class:"fas fa-phone"})],-1)),d(t("input",{type:"text","onUpdate:modelValue":e[7]||(e[7]=l=>s.form.phone_1=l),name:"phone_1",id:"phone_1",class:"pl-10 focus:ring-indigo-500 focus:border-indigo-500 flex-1 block w-full rounded-md sm:text-sm border-gray-300",placeholder:"e.g 0945000111",required:"",disabled:s.checkPerm("phone_1")},null,8,Ct),[[v,s.form.phone_1]])]),d(t("p",{class:"mt-2 text-sm text-red-500"},a(o.$page.props.errors.phone_1),513),[[x,o.$page.props.errors.phone_1]])]),t("div",Ot,[e[54]||(e[54]=t("label",{for:"latitude",class:"block text-sm font-medium text-gray-700"},"Latitude ",-1)),t("div",jt,[e[53]||(e[53]=t("span",{class:"z-10 leading-snug font-normal text-center text-gray-300 absolute bg-transparent rounded text-base items-center justify-center w-8 pl-3 py-3"},[t("i",{class:"fas fa-location-arrow"})],-1)),d(t("input",{type:"text","onUpdate:modelValue":e[8]||(e[8]=l=>s.form.latitude=l),name:"latitude",id:"latitude",class:"pl-10 mt-1 form-input focus:ring-indigo-500 focus:border-indigo-500 flex-1 block w-full rounded-md sm:text-sm border-gray-300",onKeypress:e[9]||(e[9]=l=>s.isNumber(o.event)),disabled:s.checkPerm("location")},null,40,St),[[v,s.form.latitude]])]),d(t("p",{class:"mt-2 text-sm text-red-500"},a(o.$page.props.errors.latitude),513),[[x,o.$page.props.errors.latitude]])]),t("div",Ut,[e[56]||(e[56]=t("label",{for:"longitude",class:"block text-sm font-medium text-gray-700"},"Longitude ",-1)),t("div",Dt,[e[55]||(e[55]=t("span",{class:"z-10 leading-snug font-normal text-center text-gray-300 absolute bg-transparent rounded text-base items-center justify-center w-8 pl-3 py-3"},[t("i",{class:"fas fa-location-arrow"})],-1)),d(t("input",{type:"text","onUpdate:modelValue":e[10]||(e[10]=l=>s.form.longitude=l),name:"longitude",id:"longitude",class:"pl-10 mt-1 form-input focus:ring-indigo-500 focus:border-indigo-500 flex-1 block w-full rounded-md sm:text-sm border-gray-300",onKeypress:e[11]||(e[11]=l=>s.isNumber(o.event)),disabled:s.checkPerm("location")},null,40,Nt),[[v,s.form.longitude]])]),d(t("p",{class:"mt-2 text-sm text-red-500"},a(o.$page.props.errors.longitude),513),[[x,o.$page.props.errors.longitude]])]),t("div",Ft,[e[58]||(e[58]=t("label",{for:"address",class:"block text-sm font-medium text-gray-700"},[t("span",{class:"text-red-500"},"*"),b(" Full Address ")],-1)),t("div",It,[e[57]||(e[57]=t("span",{class:"z-10 leading-snug font-normal absolute text-center text-gray-300 bg-transparent rounded text-base items-center justify-center w-8 pl-3 py-2"},[t("i",{class:"fas fa-map-marker-alt"})],-1)),d(t("textarea",{"onUpdate:modelValue":e[12]||(e[12]=l=>s.form.address=l),name:"address",id:"address",class:"pl-10 focus:ring-indigo-500 focus:border-indigo-500 flex-1 block w-full rounded-md sm:text-sm border-gray-300",required:"",disabled:s.checkPerm("address")},null,8,Tt),[[v,s.form.address]])]),d(t("p",{class:"mt-2 text-sm text-red-500"},a(o.$page.props.errors.address),513),[[x,o.$page.props.errors.address]])])]),e[105]||(e[105]=t("hr",{class:"my-4 md:min-w-full"},null,-1)),e[106]||(e[106]=t("h6",{class:"md:min-w-full text-indigo-700 text-xs uppercase font-bold block pt-1 no-underline"}," Order Information",-1)),t("div",At,[o.$page.props.login_type=="isp"?(m(),u("div",Lt,[e[59]||(e[59]=t("label",{for:"isp",class:"block text-sm font-medium text-gray-700"}," Unique ID ",-1)),e[60]||(e[60]=t("span",{class:"z-10 leading-snug font-normal text-center text-gray-300 absolute bg-transparent rounded text-base items-center justify-center w-8 pl-3 py-2"},[t("i",{class:"fas fa-id-badge"})],-1)),t("label",zt,a(s.form.ftth_id),1)])):g("",!0),t("div",Et,[e[62]||(e[62]=t("label",{for:"ftth_id",class:"block text-sm font-medium text-gray-700"},[t("span",{class:"text-red-500"},"*"),b(" Customer ID ")],-1)),t("div",Bt,[e[61]||(e[61]=t("span",{class:"z-10 leading-snug font-normal text-center text-gray-300 absolute bg-transparent rounded text-base items-center justify-center w-8 pl-3 py-2"},[t("i",{class:"fas fa-id-badge"})],-1)),d(t("input",{"onUpdate:modelValue":e[13]||(e[13]=l=>s.form.isp_ftth_id=l),type:"text",name:"isp_ftth_id",id:"isp_ftth_id",class:"pl-10 focus:ring-indigo-500 focus:border-indigo-500 flex-1 block w-full rounded-md sm:text-sm border-gray-300",required:"",disabled:s.checkPerm("isp_ftth_id")},null,8,Mt),[[v,s.form.isp_ftth_id]])]),d(t("p",{class:"mt-2 text-sm text-red-500"},a(o.$page.props.errors.isp_ftth_id),513),[[x,o.$page.props.errors.isp_ftth_id]])]),t("div",qt,[e[63]||(e[63]=t("label",{for:"order_date",class:"block text-sm font-medium text-gray-700"},[t("span",{class:"text-red-500"},"*"),b(" Order Date ")],-1)),t("div",Ht,[d(t("input",{type:"date","onUpdate:modelValue":e[14]||(e[14]=l=>s.form.order_date=l),name:"order_date",id:"order_date",class:"focus:ring-indigo-500 focus:border-indigo-500 flex-1 block w-full rounded-md sm:text-sm border-gray-300",required:"",disabled:s.checkPerm("order_date")},null,8,Rt),[[v,s.form.order_date]])]),d(t("p",{class:"mt-2 text-sm text-red-500"},a(o.$page.props.errors.order_date),513),[[x,o.$page.props.errors.order_date]])]),t("div",Kt,[e[64]||(e[64]=t("label",{for:"package",class:"block text-sm font-medium text-gray-700"},[t("span",{class:"text-red-500"},"*"),b(" Package ")],-1)),c.packages?(m(),u("div",Yt,[V(f,{"deselect-label":"Selected already",options:c.packages,"track-by":"id",label:"name",modelValue:s.form.package,"onUpdate:modelValue":e[15]||(e[15]=l=>s.form.package=l),"allow-empty":!1,disabled:s.checkPerm("package_id")},null,8,["options","modelValue","disabled"])])):g("",!0),d(t("p",{class:"mt-2 text-sm text-red-500"},a(o.$page.props.errors.package),513),[[x,o.$page.props.errors.package]])]),t("div",Gt,[e[65]||(e[65]=t("label",{class:"block text-sm font-medium text-gray-700"}," Installation Timeline ",-1)),t("div",Jt,a((k=s.form.package)==null?void 0:k.installation_timeline)+" "+a(s.form.package?" Hours":""),1)]),t("div",Wt,[e[67]||(e[67]=t("label",{for:"prefer_install_date",class:"block text-sm font-medium text-gray-700"},[t("span",{class:"text-red-500"},"*"),b(" Prefer Installation Date ")],-1)),t("div",Qt,[e[66]||(e[66]=t("span",{class:"z-10 leading-snug font-normal text-center text-gray-300 absolute bg-transparent rounded text-base items-center justify-center w-8 pl-3 py-2"},[t("i",{class:"fas fa-tools"})],-1)),d(t("input",{"onUpdate:modelValue":e[16]||(e[16]=l=>s.form.prefer_install_date=l),type:"date",name:"prefer_install_date",id:"prefer_install_date",class:"pl-10 focus:ring-indigo-500 focus:border-indigo-500 flex-1 block w-full rounded-md sm:text-sm border-gray-300",disabled:s.checkPerm("prefer_install_date")},null,8,Xt),[[v,s.form.prefer_install_date]])])]),t("div",Zt,[e[68]||(e[68]=t("label",{for:"status",class:"block text-sm font-medium text-gray-700"},[t("span",{class:"text-red-500"},"*"),b(" Customer Status ")],-1)),c.status_list.length!==0?(m(),u("div",$t,[V(f,{"deselect-label":"Selected already",options:s.statusList,"track-by":"id",label:"name",modelValue:s.form.status,"onUpdate:modelValue":e[17]||(e[17]=l=>s.form.status=l),"allow-empty":!1,disabled:s.disableStatus?s.disableStatus:s.checkPerm("status_id")},null,8,["options","modelValue","disabled"])])):g("",!0),d(t("p",{class:"mt-2 text-sm text-red-500"},a(o.$page.props.errors.status),513),[[x,o.$page.props.errors.status]])]),t("div",es,[e[70]||(e[70]=t("label",{for:"order_remark",class:"block text-sm font-medium text-gray-700"}," Order Remark ",-1)),t("div",ts,[e[69]||(e[69]=t("span",{class:"z-10 leading-snug font-normal text-center text-gray-300 absolute bg-transparent rounded text-base items-center justify-center w-8 pl-3 py-2"},[t("i",{class:"fas fa-comment"})],-1)),d(t("textarea",{name:"order_remark","onUpdate:modelValue":e[18]||(e[18]=l=>s.form.order_remark=l),id:"order_remark",class:"pl-10 focus:ring-indigo-500 focus:border-indigo-500 flex-1 block w-full rounded-md sm:text-sm border-gray-300",disabled:s.checkPerm("order_remark")},null,8,ss),[[v,s.form.order_remark]])]),d(t("p",{class:"mt-2 text-sm text-red-500"},a(o.$page.props.errors.order_remark),513),[[x,o.$page.props.errors.order_remark]])])]),o.$page.props.login_type=="internal"?(m(),u("div",os,[e[102]||(e[102]=t("hr",{class:"my-4 md:min-w-full"},null,-1)),e[103]||(e[103]=t("h6",{class:"md:min-w-full text-indigo-700 text-xs uppercase font-bold block pt-1 no-underline"}," ODN Information",-1)),t("div",ls,[t("div",rs,[e[71]||(e[71]=t("label",{for:"isp",class:"block text-sm font-medium text-gray-700"}," Customer ID ",-1)),e[72]||(e[72]=t("span",{class:"z-10 leading-snug font-normal text-center text-gray-300 absolute bg-transparent rounded text-base items-center justify-center w-8 pl-3 py-2"},[t("i",{class:"fas fa-id-badge"})],-1)),d(t("input",{"onUpdate:modelValue":e[19]||(e[19]=l=>s.form.ftth_id=l),type:"text",name:"ftth_id",id:"ftth_id",class:"pl-10 focus:ring-indigo-500 focus:border-indigo-500 flex-1 block w-full rounded-md sm:text-sm border-gray-300",required:"",disabled:s.checkPerm("ftth_id")},null,8,ns),[[v,s.form.ftth_id]]),d(t("p",{class:"mt-2 text-sm text-red-500"},a(o.$page.props.errors.ftth_id),513),[[x,o.$page.props.errors.ftth_id]])]),t("div",as,[e[73]||(e[73]=t("label",{for:"isp",class:"block text-sm font-medium text-gray-700"}," ISP Assignment ",-1)),c.isps.length!==0?(m(),u("div",is,[V(f,{"deselect-label":"Selected already",options:c.isps,"track-by":"id",label:"name",modelValue:s.form.isp_id,"onUpdate:modelValue":e[20]||(e[20]=l=>s.form.isp_id=l),"allow-empty":!0,disabled:s.checkPerm("isp_id")},null,8,["options","modelValue","disabled"])])):g("",!0),d(t("p",{class:"mt-2 text-sm text-red-500"},a(o.$page.props.errors.isp_id),513),[[x,o.$page.props.errors.isp_id]])]),t("div",ds,[e[74]||(e[74]=t("label",{for:"partner",class:"block text-sm font-medium text-gray-700"}," Partner ",-1)),c.partners.length!==0?(m(),u("div",ms,[V(f,{"deselect-label":"Selected already",options:c.partners,"track-by":"id",label:"name",modelValue:s.form.partner_id,"onUpdate:modelValue":e[21]||(e[21]=l=>s.form.partner_id=l),"allow-empty":!0,disabled:s.checkPerm("partner_id")},null,8,["options","modelValue","disabled"])])):g("",!0),d(t("p",{class:"mt-2 text-sm text-red-500"},a(o.$page.props.errors.partner_id),513),[[x,o.$page.props.errors.partner_id]])]),t("div",us,[e[75]||(e[75]=t("label",{for:"pop_site",class:"block text-sm font-medium text-gray-700"},"Choose POP Site ",-1)),s.filteredPops.length!==0?(m(),u("div",cs,[V(f,{"deselect-label":"Selected already",options:s.filteredPops,"track-by":"id",label:"site_name",modelValue:s.form.pop_id,"onUpdate:modelValue":e[22]||(e[22]=l=>s.form.pop_id=l),"allow-empty":!1},null,8,["options","modelValue"])])):(m(),u("div",fs," Please select a township first to view available POPs "))]),t("div",ps,[e[76]||(e[76]=t("label",{for:"pop_device_id",class:"block text-sm font-medium text-gray-700"}," Choose OLT",-1)),t("div",bs,[V(f,{"deselect-label":"Selected already",options:s.popDevices,"track-by":"id",label:"device_name",modelValue:s.form.pop_device_id,"onUpdate:modelValue":e[23]||(e[23]=l=>s.form.pop_device_id=l),"allow-empty":!1},null,8,["options","modelValue"])])]),t("div",gs,[e[77]||(e[77]=t("label",{for:"fiber_distance",class:"block text-sm font-medium text-gray-700"}," Please Choose DN ",-1)),s.dnOptions?(m(),u("div",xs,[V(f,{"deselect-label":"Selected already",options:s.dnOptions,"track-by":"id",label:"name",modelValue:s.form.dn_id,"onUpdate:modelValue":e[24]||(e[24]=l=>s.form.dn_id=l),"allow-empty":!1},null,8,["options","modelValue"])])):g("",!0)]),t("div",_s,[e[78]||(e[78]=t("label",{for:"fiber_distance",class:"block text-sm font-medium text-gray-700"}," Please Choose SN ",-1)),s.snOptions?(m(),u("div",ys,[V(f,{"deselect-label":"Selected already",options:s.snOptions,"track-by":"id",label:"name",modelValue:s.form.sn_id,"onUpdate:modelValue":e[25]||(e[25]=l=>s.form.sn_id=l),"allow-empty":!0},null,8,["options","modelValue"])])):g("",!0)]),t("div",vs,[e[79]||(e[79]=t("label",{for:"splitter_no",class:"block text-sm font-medium text-gray-700"}," SN Port No. ",-1)),s.snPortNoOptions.length!==0?(m(),u("div",ws,[V(f,{"deselect-label":"Selected already",options:s.snPortNoOptions,"track-by":"id",label:"name",modelValue:s.form.splitter_no,"onUpdate:modelValue":e[26]||(e[26]=l=>s.form.splitter_no=l),"allow-empty":!0},{singleLabel:M(({option:l})=>[t("strong",null,a(l.name)+" "+a(l.language),1)]),_:1},8,["options","modelValue"])])):g("",!0),d(t("p",{class:"mt-2 text-sm text-red-500 w-full"},a(o.$page.props.errors.splitter_no),513),[[x,o.$page.props.errors.splitter_no]])]),t("div",ks,[e[81]||(e[81]=t("label",{for:"port_balance",class:"block text-sm font-medium text-gray-700"}," Port Balance",-1)),t("div",hs,[e[80]||(e[80]=t("span",{class:"z-10 leading-snug font-normal text-center text-gray-300 absolute bg-transparent rounded text-base items-center justify-center w-8 pl-3 py-2"},[t("i",{class:"fas fa-tools"})],-1)),d(t("input",{"onUpdate:modelValue":e[27]||(e[27]=l=>s.form.port_balance=l),type:"number",name:"port_balance",id:"port_balance",class:"pl-10 focus:ring-indigo-500 focus:border-indigo-500 flex-1 block w-full rounded-md sm:text-sm border-gray-300",placeholder:"Enter Port Balance",disabled:s.checkPerm("port_balance")},null,8,Ps),[[v,s.form.port_balance]]),d(t("p",{class:"mt-2 text-sm text-red-500"},a(o.$page.props.errors.port_balance),513),[[x,o.$page.props.errors.port_balance]])])]),t("div",Vs,[e[82]||(e[82]=t("label",{for:"gpon_ontid",class:"block text-sm font-medium text-gray-700"}," GPON ONTID ",-1)),t("div",Cs,[V(f,{"deselect-label":"Selected already",options:s.gponOnuIdOptions,"track-by":"id",label:"name",modelValue:s.form.gpon_ontid,"onUpdate:modelValue":e[28]||(e[28]=l=>s.form.gpon_ontid=l),"allow-empty":!0,disabled:s.checkPerm("gpon_ontid")},null,8,["options","modelValue","disabled"]),d(t("p",{class:"mt-2 text-sm text-red-500"},a(o.$page.props.errors.gpon_ontid),513),[[x,o.$page.props.errors.gpon_ontid]])])]),t("div",Os,[e[84]||(e[84]=t("label",{for:"service_activation_date",class:"block text-sm font-medium text-gray-700"}," Service Activation Date ",-1)),t("div",js,[e[83]||(e[83]=t("span",{class:"z-10 leading-snug font-normal absolute text-center text-gray-300 bg-transparent rounded text-base items-center justify-center w-8 pl-3 py-2"},[t("i",{class:"fas fa-tools"})],-1)),d(t("input",{"onUpdate:modelValue":e[29]||(e[29]=l=>s.form.service_activation_date=l),type:"date",name:"service_activation_date",id:"service_activation_date",class:"pl-10 focus:ring-indigo-500 focus:border-indigo-500 flex-1 block w-full rounded-md sm:text-sm border-gray-300",disabled:s.checkPerm("service_activation_date")},null,8,Ss),[[v,s.form.service_activation_date]])]),d(t("p",{class:"mt-2 text-sm text-red-500"},a(o.$page.props.errors.service_activation_date),513),[[x,o.$page.props.errors.service_activation_date]])])]),s.form.sn_id?(m(),u("div",Us,[e[100]||(e[100]=t("hr",{class:"my-4 md:min-w-full"},null,-1)),e[101]||(e[101]=t("h6",{class:"md:min-w-full text-indigo-700 text-xs uppercase font-bold block pt-1 no-underline"}," Installation Information",-1)),t("div",Ds,[t("div",Ns,[e[85]||(e[85]=t("label",{for:"subcom",class:"block text-sm font-medium text-gray-700"}," Assign Installation Team ",-1)),c.subcoms.length!==0?(m(),u("div",Fs,[V(f,{"deselect-label":"Selected already",options:c.subcoms,"track-by":"id",label:"name",modelValue:s.form.subcom,"onUpdate:modelValue":e[30]||(e[30]=l=>s.form.subcom=l),"allow-empty":!0,disabled:s.checkPerm("subcom_id")},null,8,["options","modelValue","disabled"])])):g("",!0),d(t("p",{class:"mt-2 text-sm text-red-500"},a(o.$page.props.errors.subcom),513),[[x,o.$page.props.errors.subcom]])]),t("div",Is,[e[86]||(e[86]=t("label",{for:"installation_status",class:"block text-sm font-medium text-gray-700"}," Installation Status ",-1)),s.installationStatus.length!==0?(m(),u("div",Ts,[V(f,{"deselect-label":"Selected already",options:s.installationStatus,"track-by":"id",label:"name",modelValue:s.form.installation_status,"onUpdate:modelValue":e[31]||(e[31]=l=>s.form.installation_status=l),"allow-empty":!1,disabled:s.checkPerm("installation_status"),multiple:!1,taggable:!1},null,8,["options","modelValue","disabled"])])):g("",!0),d(t("p",{class:"mt-2 text-sm text-red-500"},a(o.$page.props.errors.installation_status),513),[[x,o.$page.props.errors.installation_status]])]),t("div",As,[e[88]||(e[88]=t("label",{for:"way_list_date",class:"block text-sm font-medium text-gray-700"}," Way List Date ",-1)),t("div",Ls,[e[87]||(e[87]=t("span",{class:"z-10 leading-snug font-normal absolute text-center text-gray-300 bg-transparent rounded text-base items-center justify-center w-8 pl-3 py-2"},[t("i",{class:"fas fa-tools"})],-1)),d(t("input",{"onUpdate:modelValue":e[32]||(e[32]=l=>s.form.way_list_date=l),type:"date",name:"way_list_date",id:"way_list_date",class:"pl-10 focus:ring-indigo-500 focus:border-indigo-500 flex-1 block w-full rounded-md sm:text-sm border-gray-300",disabled:s.checkPerm("way_list_date")},null,8,zs),[[v,s.form.way_list_date]])]),d(t("p",{class:"mt-2 text-sm text-red-500"},a(o.$page.props.errors.way_list_date),513),[[x,o.$page.props.errors.way_list_date]])]),t("div",Es,[e[90]||(e[90]=t("label",{for:"installation_date",class:"block text-sm font-medium text-gray-700"}," Actual Installed Date ",-1)),t("div",Bs,[e[89]||(e[89]=t("span",{class:"z-10 leading-snug font-normal absolute text-center text-gray-300 bg-transparent rounded text-base items-center justify-center w-8 pl-3 py-2"},[t("i",{class:"fas fa-tools"})],-1)),d(t("input",{"onUpdate:modelValue":e[33]||(e[33]=l=>s.form.installation_date=l),type:"date",name:"installation_date",id:"installation_date",class:"pl-10 focus:ring-indigo-500 focus:border-indigo-500 flex-1 block w-full rounded-md sm:text-sm border-gray-300",disabled:s.checkPerm("installation_date")},null,8,Ms),[[v,s.form.installation_date]])]),d(t("p",{class:"mt-2 text-sm text-red-500"},a(o.$page.props.errors.installation_date),513),[[x,o.$page.props.errors.installation_date]])]),t("div",qs,[e[92]||(e[92]=t("label",{for:"fiber_distance",class:"block text-sm font-medium text-gray-700"}," Actual Fiber Distance ",-1)),t("div",Hs,[d(t("input",{"onUpdate:modelValue":e[34]||(e[34]=l=>s.form.fiber_distance=l),type:"number",name:"fiber_distance",id:"fiber_distance",class:"focus:ring-indigo-500 focus:border-indigo-500 flex-1 block w-full rounded-none rounded-l-md sm:text-sm border-gray-300",disabled:s.checkPerm("fiber_distance")},null,8,Rs),[[v,s.form.fiber_distance]]),e[91]||(e[91]=t("span",{class:"inline-flex items-center px-3 rounded-r-md border border-l-0 border-gray-300 bg-gray-50 text-gray-500 text-sm"}," Meter ",-1)),d(t("p",{class:"mt-2 text-sm text-red-500"},a(o.$page.props.errors.fiber_distance),513),[[x,o.$page.props.errors.fiber_distance]])])]),t("div",Ks,[e[93]||(e[93]=t("label",{for:"bundle",class:"block text-sm font-medium text-gray-700"}," Devices ",-1)),c.bundle_equiptments.length!==0?(m(),u("div",Ys,[V(f,{"deselect-label":"Selected already",options:c.bundle_equiptments,"track-by":"id",label:"name",modelValue:s.form.bundles,"onUpdate:modelValue":e[35]||(e[35]=l=>s.form.bundles=l),"allow-empty":!1,disabled:s.checkPerm("bundle"),multiple:!0,taggable:!1},null,8,["options","modelValue","disabled"])])):g("",!0),d(t("p",{class:"mt-2 text-sm text-red-500"},a(o.$page.props.errors.bundles),513),[[x,o.$page.props.errors.bundles]])]),t("div",Gs,[e[95]||(e[95]=t("label",{for:"onu_serial",class:"block text-sm font-medium text-gray-700"}," ONU Serial ",-1)),t("div",Js,[e[94]||(e[94]=t("span",{class:"z-10 leading-snug font-normal text-center text-gray-300 absolute bg-transparent rounded text-base items-center justify-center w-8 pl-3 py-2"},[t("i",{class:"fas fa-tools"})],-1)),d(t("input",{"onUpdate:modelValue":e[36]||(e[36]=l=>s.form.onu_serial=l),type:"text",name:"onu_serial",id:"onu_serial",class:"pl-10 focus:ring-indigo-500 focus:border-indigo-500 flex-1 block w-full rounded-md sm:text-sm border-gray-300",disabled:s.checkPerm("onu_serial")},null,8,Ws),[[v,s.form.onu_serial]])]),d(t("p",{class:"mt-2 text-sm text-red-500"},a(o.$page.props.errors.onu_serial),513),[[x,o.$page.props.errors.onu_serial]])]),t("div",Qs,[e[97]||(e[97]=t("label",{for:"onu_power",class:"block text-sm font-medium text-gray-700"}," ONU Power ",-1)),t("div",Xs,[d(t("input",{type:"text","onUpdate:modelValue":e[37]||(e[37]=l=>s.form.onu_power=l),name:"onu_power",id:"onu_power",class:"focus:ring-indigo-500 focus:border-indigo-500 flex-1 block w-full rounded-none rounded-l-md sm:text-sm border-gray-300",disabled:s.checkPerm("onu_power")},null,8,Zs),[[v,s.form.onu_power]]),e[96]||(e[96]=t("span",{class:"inline-flex items-center px-3 rounded-r-md border border-l-0 border-gray-300 bg-gray-50 text-gray-500 text-sm"}," dBi ",-1)),d(t("p",{class:"mt-2 text-sm text-red-500"},a(o.$page.props.errors.onu_power),513),[[x,o.$page.props.errors.onu_power]])])]),t("div",$s,[e[99]||(e[99]=t("label",{for:"installation_remark",class:"block text-sm font-medium text-gray-700"}," Installation Remark ",-1)),t("div",eo,[e[98]||(e[98]=t("span",{class:"z-10 leading-snug font-normal text-center text-gray-300 absolute bg-transparent rounded text-base items-center justify-center w-8 pl-3 py-2"},[t("i",{class:"fas fa-comment"})],-1)),d(t("textarea",{name:"installation_remark","onUpdate:modelValue":e[38]||(e[38]=l=>s.form.installation_remark=l),id:"installation_remark",class:"pl-10 focus:ring-indigo-500 focus:border-indigo-500 flex-1 block w-full rounded-md sm:text-sm border-gray-300",disabled:s.checkPerm("installation_remark")},null,8,to),[[v,s.form.installation_remark]])]),d(t("p",{class:"mt-2 text-sm text-red-500"},a(o.$page.props.errors.installation_remark),513),[[x,o.$page.props.errors.installation_remark]])])])])):g("",!0)])):g("",!0)]),t("div",so,[V(w,{href:o.route("customer.index"),class:"inline-flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-yellow-600 hover:bg-yellow-700 shadow-sm focus:outline-none focus:border-blue-300 focus:shadow-outline-blue transition ease-in-out duration-150"},{default:M(()=>e[107]||(e[107]=[b(" Back")])),_:1},8,["href"]),t("button",{onClick:e[39]||(e[39]=(...l)=>o.resetForm&&o.resetForm(...l)),type:"button",class:"ml-2 inline-flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-gray-600 hover:bg-gray-700 shadow-sm focus:outline-none focus:border-blue-300 focus:shadow-outline-blue transition ease-in-out duration-150"},"Reset"),e[108]||(e[108]=t("button",{type:"submit",class:"ml-2 inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"},"Save",-1))])],2),t("div",{class:N(["p-4",[s.tab==2?"":"hidden"]])},[t("div",oo,[e[109]||(e[109]=t("h6",{class:"md:min-w-full text-indigo-700 text-xs uppercase font-bold block pt-1 no-underline"}," Customer Documents",-1)),e[110]||(e[110]=t("hr",{class:"my-4 md:min-w-full"},null,-1)),(m(),L(ce,null,[s.tab==2?(m(),L(P,{key:0,data:s.form.id,permission:!s.checkPerm("order_date")},null,8,["data","permission"])):g("",!0)],1024))])],2),t("div",{class:N(["p-4",[s.tab==3?"":"hidden"]])},[t("div",lo,[e[111]||(e[111]=t("h6",{class:"md:min-w-full text-indigo-700 text-xs uppercase font-bold block pt-1 no-underline"}," Customer History",-1)),e[112]||(e[112]=t("hr",{class:"my-4 md:min-w-full"},null,-1)),(m(),L(ce,null,[s.tab==3?(m(),L(j,{key:0,data:s.form.id,permission:!s.checkPerm("order_date")},null,8,["data","permission"])):g("",!0)],1024))])],2),t("div",{class:N(["p-4",[s.tab==6?"":"hidden"]])},[t("div",ro,[t("div",no,[e[116]||(e[116]=t("h6",{class:"text-indigo-700 text-xs uppercase font-bold block pt-1 no-underline"},"Text ",-1)),t("span",ao,[t("a",{href:"#",onClick:e[40]||(e[40]=l=>s.copyText())},e[113]||(e[113]=[b("Copy "),t("i",{class:"ml-2 fa text-xl fa-copy text-right text-indigo-500 hover:text-indigo-700 cursor-pointer"},null,-1)])),e[115]||(e[115]=b(" | ")),t("a",{href:"#",onClick:e[41]||(e[41]=l=>s.shareText())},e[114]||(e[114]=[b(" Share "),t("i",{class:"fa text-xl fa-share-nodes text-right text-indigo-500 hover:text-indigo-700 cursor-pointer"},null,-1)]))])]),e[132]||(e[132]=t("hr",{class:"my-4 md:min-w-full"},null,-1)),t("div",io,[b(" Customer ID – "+a(s.form.ftth_id),1),e[117]||(e[117]=t("br",null,null,-1)),b(" Service Order Date - "+a(s.form.order_date),1),e[118]||(e[118]=t("br",null,null,-1)),b(" Customer Name – "+a(s.form.name),1),e[119]||(e[119]=t("br",null,null,-1)),b(" Contact Number – "+a(s.form.phone_1)+" ",1),e[120]||(e[120]=t("br",null,null,-1)),b(" Township – "+a(s.form.township.name),1),e[121]||(e[121]=t("br",null,null,-1)),b(" Fully Address – "+a(s.form.address),1),e[122]||(e[122]=t("br",null,null,-1)),b(" Location – "+a(s.form.latitude)+","+a(s.form.longitude)+" ",1),e[123]||(e[123]=t("br",null,null,-1)),b(" Applied Mbps – "+a(s.form.package.name)+" ("+a(s.form.package.speed)+" Mbps)",1),e[124]||(e[124]=t("br",null,null,-1)),b(" Installation Timeline – "+a((U=s.form.package)==null?void 0:U.installation_timeline)+" Hrs",1),e[125]||(e[125]=t("br",null,null,-1)),b(" Preferred installation date & time – "+a(s.form.prefer_install_date),1),e[126]||(e[126]=t("br",null,null,-1)),s.form.order_remark?(m(),u("span",mo,"Order Remark : "+a(s.form.order_remark),1)):g("",!0),e[127]||(e[127]=t("hr",null,null,-1)),b(" Devices - "+a(s.bundle),1),e[128]||(e[128]=t("br",null,null,-1)),b(" DN - "+a((T=s.form.dn_id)==null?void 0:T.name),1),e[129]||(e[129]=t("br",null,null,-1)),b(" SN - "+a((E=s.form.sn_id)==null?void 0:E.name),1),e[130]||(e[130]=t("br",null,null,-1)),b(" SN Port - "+a(s.snPort),1),e[131]||(e[131]=t("br",null,null,-1))],512)])],2),t("div",{class:N(["p-4",[s.tab==7?"":"hidden"]])},[t("div",uo,[e[138]||(e[138]=t("h6",{class:"text-indigo-700 text-xs uppercase font-bold block pt-1 no-underline"}," Installation Information ",-1)),e[139]||(e[139]=t("hr",{class:"my-4 md:min-w-full"},null,-1)),t("div",co,[(m(!0),u(z,null,Q(c.subconCheckList,(l,Z)=>(m(),u("div",{key:l.id,class:"mt-6 sm:mt-0"},[t("label",fo,a(l.name),1),s.form2[`checklist_${l.id}_title`]?d((m(),u("input",{key:0,type:"text","onUpdate:modelValue":h=>s.form2[`checklist_${l.id}_title`]=h,class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",disabled:""},null,8,po)),[[v,s.form2[`checklist_${l.id}_title`]]]):(m(),u("span",bo,"No Data")),l.has_attachment&&c.customer.checklist_images[l.id]?(m(),u("div",go,[t("div",null,[t("img",{class:"h-40 w-40 object-cover cursor-pointer",src:c.customer.checklist_images&&c.customer.checklist_images[l.id]?`/storage/${c.customer.checklist_images[l.id]}`:null,onClick:h=>s.openFullView(l.id),alt:""},null,8,xo),s.showFullView&&s.selectedImageId===l.id?(m(),u("div",{key:0,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",onClick:e[43]||(e[43]=(...h)=>s.closeFullView&&s.closeFullView(...h))},[t("div",_o,[t("img",{class:"max-h-[90vh] max-w-[90vw]",src:c.customer.checklist_images&&c.customer.checklist_images[l.id]?`/storage/${c.customer.checklist_images[l.id]}`:null,alt:""},null,8,yo),t("button",{class:"absolute top-4 right-4 text-white bg-black bg-opacity-50 rounded-full w-8 h-8 flex items-center justify-center",onClick:e[42]||(e[42]=(...h)=>s.closeFullView&&s.closeFullView(...h))},e[133]||(e[133]=[t("span",{class:"text-xl"},"×",-1)]))])])):g("",!0)])])):g("",!0),s.form2[`checklist_${l.id}_title`]?(m(),u("div",vo,[t("div",wo,[e[137]||(e[137]=t("label",{for:"status",class:"block text-md font-medium text-gray-700"}," Status ",-1)),t("div",ko,[t("label",ho,[d(t("input",{type:"radio",class:"form-radio h-5 w-5 text-yellow-600",name:s.form2[`checklist_${l.id}`],"onUpdate:modelValue":h=>s.form2[`checklist_${l.id}_status`]=h,value:"requested"},null,8,Po),[[G,s.form2[`checklist_${l.id}_status`]]]),e[134]||(e[134]=t("span",{class:"ml-2 text-gray-700 text-sm"},"Request",-1))]),t("label",Vo,[d(t("input",{type:"radio",class:"form-radio h-5 w-5 text-red-600",name:s.form2[`checklist_${l.id}`],"onUpdate:modelValue":h=>s.form2[`checklist_${l.id}_status`]=h,value:"declined"},null,8,Co),[[G,s.form2[`checklist_${l.id}_status`]]]),e[135]||(e[135]=t("span",{class:"ml-2 text-gray-700 text-sm"},"Declined",-1))]),t("label",Oo,[d(t("input",{type:"radio",class:"form-radio h-5 w-5 text-green-600",name:s.form2[`checklist_${l.id}`],"onUpdate:modelValue":h=>s.form2[`checklist_${l.id}_status`]=h,value:"approved"},null,8,jo),[[G,s.form2[`checklist_${l.id}_status`]]]),e[136]||(e[136]=t("span",{class:"ml-2 text-gray-700 text-sm"},"Approved",-1))])])])])):g("",!0),d(t("p",{class:"mt-2 text-sm text-red-500"},a(o.$page.props.errors[`checklist_${l.id}_attachment`]),513),[[x,o.$page.props.errors[`checklist_${l.id}_attachment`]]])]))),128))]),t("div",So,[t("button",{type:"button",onClick:e[44]||(e[44]=(...l)=>s.installationApproval&&s.installationApproval(...l)),class:"inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"},"Save")])])],2)])])],32)])])])]}),_:1})}const zo=X(it,[["render",Uo]]);export{zo as default};
