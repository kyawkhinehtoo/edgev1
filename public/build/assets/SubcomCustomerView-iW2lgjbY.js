import{m as st,r as p,T as ot,y as lt,q as nt,z as S,c as O,w as j,o as a,a as t,t as l,n as k,d,F as q,f as b,b as T,e as V,j as r,B as u,k as f,g as tt,i as it,P as at,A as B}from"./app-CUc8g28W.js";import{A as dt}from"./AppLayout-C5kTv2Li.js";import{_ as rt,C as mt}from"./ImageUploader-DyvXZjHQ.js";import{M as ut}from"./vue3-multiselect.umd.min-oBwQjjqr.js";import{_ as ct}from"./_plugin-vue_export-helper-DlAUqK2U.js";/* empty css                                                   */import"./DropdownLink-BW-_ZUfw.js";import"./Upload-CUlQLeR5.js";const xt={name:"EditCustomer",components:{AppLayout:dt,Multiselect:ut,Link:st,ImageUploader:rt,CustomerFile:mt},props:{customer:Object,snPort:Object,bundle_equiptments:Object,subconCheckList:Object,checkListSummary:Object},setup(n){var I;const e=p(null),i=p(null),o=p(null),R=p(null),C=p(null),A=p({});let N=p(1);function M(m){N.value=m}let _="";(I=n.customer.current_address)!=null&&I.actual_location&&(_=n.customer.current_address.actual_location.split(",",2));const h=ot({installation_status:null,way_list_date:n.customer.way_list_date,installation_date:n.customer.installation_date,fiber_distance:n.customer.fiber_distance,bundles:"",onu_serial:n.customer.onu_serial,onu_power:n.customer.onu_power,route_kmz_image:null,drum_no_txt:n.customer.drum_no_txt,drum_no_image:null,start_meter_txt:n.customer.start_meter_txt,start_meter_image:null,end_meter_txt:n.customer.end_meter_txt,end_meter_image:null,installation_remark:n.customer.installation_remark,actual_latitude:_[0]?_[0]:"",actual_longitude:_[1]?_[1]:"",...Object.fromEntries(n.subconCheckList?Object.values(n.subconCheckList).flatMap(m=>{var g,v,x,w;return[[`checklist_${m.id}_title`,((v=(g=n.customer.checklist_values)==null?void 0:g[m.id])==null?void 0:v.title)||""],[`checklist_${m.id}_attachment`,null],[`checklist_${m.id}_status`,((w=(x=n.customer.checklist_values)==null?void 0:x[m.id])==null?void 0:w.status)||""]]}):[])}),U=p([{id:"team_assigned",name:"Team Assigned",$isDisabled:!0},{id:"installation_start",name:"Installation Start"},{id:"photo_upload_complete",name:"Photo Upload Complete"},{id:"photo_upload_rejected",name:"Photo Upload Rejected",$isDisabled:!0},{id:"supervisor_approved",name:"Supervisor Approved",$isDisabled:!0},{id:"installation_complete",name:"Installation Complete",$isDisabled:!0},{id:"customer_cancel",name:"Customer Cancel"},{id:"port_full",name:"Port Full"}]);lt(()=>{if(h.installation_status=n.customer.installation_status?U.value.filter(m=>m.id==n.customer.installation_status)[0]:null,n.customer.bundle){let m=n.customer.bundle.split(",").filter(Boolean),g=[];C.value=[],m.forEach(v=>{const x=n.bundle_equiptments.find(w=>w.id==v);x&&(g.push(x),C.value=C.value?`${C.value},${x.name}`:x.name)}),h.bundles=g}});const D=()=>{h.post(route("subcom.customer.update",n.customer.id),{preserveScroll:!0,onSuccess:m=>{Toast.fire({icon:"success",title:m.props.flash.message}),P()}})},y=p(null),P=()=>{y.value=null},L=nt(()=>y.value?n.subconCheckList.filter(m=>m.group_id===y.value):null);return{submit:D,installationStatus:U,form:h,routeImagePreview:e,drumImagePreview:i,startMeterImagePreview:o,endMeterImagePreview:R,checklistImagePreviews:A,tab:N,tabClick:M,selectedGroupId:y,filteredChecklists:L,clostModel:P}}},pt={class:"font-semibold text-xl text-white leading-tight"},ft={class:"py-12"},gt={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},bt={class:"inline-flex w-full bg-white rounded-t-lg font-semibold"},_t={id:"tabs",class:"flex"},yt={class:"grid grid-cols-2 sm:grid-cols-4 gap-2 mb-6 mt-6"},vt={class:"mt-1"},wt={class:"mt-1"},kt={class:"mt-1"},ht={class:"mt-1"},Ct={class:"mt-1"},Ut={class:"mt-1"},Pt={class:"mt-1"},It={class:"mt-1"},St={class:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800"},Vt={class:"mt-1"},Nt={class:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-yellow-100 text-yellow-800"},Dt={class:"mt-1"},Lt={class:"mt-1"},jt={class:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-red-100 text-red-800"},At={class:"mt-1"},Mt={class:"mt-1"},Ot={class:"grid grid-cols-2 sm:grid-cols-4 gap-2 mb-6 mt-6"},qt={class:"mt-1"},Tt={class:"mt-1"},Bt={class:"mt-1"},Rt={class:"mt-1"},Et={class:"mt-1"},Ft={class:"mt-1"},Gt={class:"mt-1"},zt={key:1},Kt={class:"mt-1"},Ht={class:"mt-1"},Zt={class:"mt-1"},Wt={class:"grid grid-cols-1 sm:grid-cols-4 gap-6 mt-6"},Jt={class:"col-span-1"},Qt={key:0,class:"mt-1 flex rounded-md shadow-sm"},Xt={class:"col-span-1"},Yt={class:"col-span-1"},$t={class:"col-span-1"},te={class:"col-span-1"},ee={class:"col-span-1"},se={class:"col-span-1 sm:col-span-1"},oe={class:"mt-1 flex rounded-md shadow-sm"},le={class:"col-span-1 sm:col-span-1"},ne={class:"mt-1 flex rounded-md shadow-sm"},ie={class:"col-span-1 sm:col-span-4"},ae={class:"px-4 py-3 text-right sm:px-6"},de={class:"overflow-x-auto rounded-lg shadow mb-6 mt-4"},re={class:"min-w-full divide-y divide-gray-200 bg-white"},me=["onClick"],ue={class:"px-4 py-2 text-blue-600 underline font-medium"},ce={class:"px-4 py-2 text-center"},xe={key:0,class:"px-2 py-1 rounded-xl bg-yellow-100 text-yellow-700 text-xs font-semibold"},pe={key:1,class:"text-gray-400"},fe={class:"px-4 py-2 text-center"},ge={key:0,class:"px-2 py-1 rounded-xl bg-indigo-100 text-indigo-700 text-xs font-semibold"},be={key:1,class:"text-gray-400"},_e={class:"px-4 py-2 text-center"},ye={key:0,class:"px-2 py-1 rounded-xl bg-indigo-100 text-indigo-700 text-xs font-semibold"},ve={key:1,class:"text-gray-400"},we={class:"px-4 py-2 text-center"},ke={key:0,class:"px-2 py-1 rounded-xl bg-red-100 text-red-700 text-xs font-semibold"},he={key:1,class:"text-gray-400"},Ce={class:"px-4 py-2 text-center"},Ue={key:0,class:"px-2 py-1 rounded-xl bg-green-100 text-green-700 text-xs font-semibold"},Pe={key:1,class:"text-gray-400"},Ie={class:"px-4 py-2 text-center"},Se={key:0,class:"px-2 py-1 rounded-xl bg-gray-100 text-gray-700 text-xs font-semibold"},Ve={key:1,class:"text-gray-400"},Ne={key:0,ref:"showModal",class:"fixed z-10 inset-0 overflow-y-auto ease-out duration-400"},De={class:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0"},Le={class:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-7xl sm:w-full",role:"dialog","aria-modal":"true","aria-labelledby":"modal-headline"},je={class:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4"},Ae={class:""},Me={key:0,class:"mt-2 text-sm text-indigo-600 font-semibold"},Oe={class:"underline"},qe={class:"grid grid-cols-1 sm:grid-cols-3 gap-4"},Te={class:"block text-sm font-medium text-gray-700"},Be=["onUpdate:modelValue"],Re={key:0,class:"mt-2"},Ee={class:"py-2"},Fe={class:"mt-2 flex"},Ge={class:"flex-auto items-center"},ze=["name","onUpdate:modelValue","disabled"],Ke={class:"flex-auto items-center"},He=["name","onUpdate:modelValue","disabled"],Ze={class:"flex-auto items-center"},We=["name","onUpdate:modelValue","disabled"],Je={class:"flex-auto items-center"},Qe={key:0,class:"mt-1 fa fa-lg fas fa-circle-check text-red-600"},Xe={key:1,class:"mt-1 fa fa-lg fa-regular fa-circle text-red-600"},Ye={class:"flex-auto items-center"},$e={key:0,class:"mt-1 fa fa-lg fas fa-circle-check text-green-600"},ts={key:1,class:"mt-1 fa fa-lg fa-regular fa-circle text-green-600"},es={class:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse"},ss={class:"flex w-full rounded-md shadow-sm sm:ml-3 sm:w-auto"},os={class:"mt-3 flex w-full rounded-md shadow-sm sm:mt-0 sm:w-auto"};function ls(n,e,i,o,R,C){const A=S("multiselect"),N=S("Link"),M=S("ImageUploader"),_=S("customer-file"),h=S("AppLayout");return a(),O(h,{title:"Customer Details"},{header:j(()=>[t("h2",pt," ID :"+l(i.customer.ftth_id),1)]),default:j(()=>{var U,D,y,P,L,I,m,g,v,x,w,E,F,G,z,K,H,Z,W,J,Q,X,Y;return[t("div",ft,[t("div",gt,[t("div",bt,[t("ul",_t,[t("li",{class:k(["px-2 lg:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",[o.tab==1?"border-b-2 border-indigo-400 -mb-px":"opacity-50"]])},[t("a",{href:"#",onClick:e[0]||(e[0]=s=>o.tabClick(1)),"preserve-state":""},"General")],2),t("li",{class:k(["px-2 lg:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",[o.tab==2?"border-b-2 border-indigo-400 -mb-px":"opacity-50"]])},[t("a",{href:"#",onClick:e[1]||(e[1]=s=>o.tabClick(2)),"preserve-state":""},"Attachment")],2),t("li",{class:k(["px-2 lg:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",[o.tab==3?"border-b-2 border-indigo-400 -mb-px":"opacity-50"]])},[t("a",{href:"#",onClick:e[2]||(e[2]=s=>o.tabClick(3)),"preserve-state":""},"KMZ Files")],2)])]),t("div",{class:k(["bg-white shadow-xl sm:rounded-lg sm:rounded-t-none p-6",[o.tab==1?"":"hidden"]])},[e[54]||(e[54]=t("h6",{class:"md:min-w-full text-indigo-700 text-xs uppercase font-bold block pt-1 no-underline"}," Customer Information",-1)),t("div",yt,[t("div",null,[e[19]||(e[19]=t("p",{class:"text-sm font-medium text-gray-500"},"Unique ID",-1)),t("p",vt,l(i.customer.ftth_id),1)]),t("div",null,[e[20]||(e[20]=t("p",{class:"text-sm font-medium text-gray-500"},"Customer ID",-1)),t("p",wt,l(i.customer.isp_ftth_id),1)]),t("div",null,[e[21]||(e[21]=t("p",{class:"text-sm font-medium text-gray-500"},"Name",-1)),t("p",kt,l(i.customer.name),1)]),t("div",null,[e[22]||(e[22]=t("p",{class:"text-sm font-medium text-gray-500"},"Phone",-1)),t("p",ht,l(i.customer.phone_1),1)]),t("div",null,[e[23]||(e[23]=t("p",{class:"text-sm font-medium text-gray-500"},"Township",-1)),t("p",Ct,l((y=(D=(U=i.customer)==null?void 0:U.current_address)==null?void 0:D.township)==null?void 0:y.name),1)]),t("div",null,[e[24]||(e[24]=t("p",{class:"text-sm font-medium text-gray-500"},"Address",-1)),t("p",Ut,l((L=(P=i.customer)==null?void 0:P.current_address)==null?void 0:L.address),1)]),t("div",null,[e[25]||(e[25]=t("p",{class:"text-sm font-medium text-gray-500"},"Location",-1)),t("p",Pt,l((m=(I=i.customer)==null?void 0:I.current_address)==null?void 0:m.location),1)]),t("div",null,[e[26]||(e[26]=t("p",{class:"text-sm font-medium text-gray-500"},"Order Date",-1)),t("p",It,[t("span",St,l(i.customer.order_date),1)])]),t("div",null,[e[27]||(e[27]=t("p",{class:"text-sm font-medium text-gray-500"},"Assign Date",-1)),t("p",Vt,[t("span",Nt,l(i.customer.subcom_assign_date),1)])]),t("div",null,[e[28]||(e[28]=t("p",{class:"text-sm font-medium text-gray-500"},"Package",-1)),t("p",Dt,l(i.customer.service_type)+" "+l(i.customer.bandwidth)+" Mbps",1)]),t("div",null,[e[29]||(e[29]=t("p",{class:"text-sm font-medium text-gray-500"},"Installation Timeline",-1)),t("p",Lt,[t("span",jt,l((g=i.customer.installation_service)==null?void 0:g.sla_hours)+" Hours ",1)])]),t("div",null,[e[30]||(e[30]=t("p",{class:"text-sm font-medium text-gray-500"},"Prefer Install Date",-1)),t("p",At,l(i.customer.prefer_install_date),1)]),t("div",null,[e[31]||(e[31]=t("p",{class:"text-sm font-medium text-gray-500"},"Order Remark",-1)),t("p",Mt,l(i.customer.order_remark),1)])]),e[55]||(e[55]=t("hr",{class:"my-4 md:min-w-full"},null,-1)),e[56]||(e[56]=t("h6",{class:"md:min-w-full text-indigo-700 text-xs uppercase font-bold block pt-1 no-underline"}," ODN Information",-1)),t("div",Ot,[t("div",null,[e[32]||(e[32]=t("p",{class:"text-sm font-medium text-gray-500"},"Internet Service Provider",-1)),t("p",qt,l((x=(v=i.customer)==null?void 0:v.isp)==null?void 0:x.name),1)]),t("div",null,[e[33]||(e[33]=t("p",{class:"text-sm font-medium text-gray-500"},"POP ID",-1)),t("p",Tt,l((w=i.snPort)==null?void 0:w.pop.site_name),1)]),i.customer.service_type=="FTTH"?(a(),d(q,{key:0},[t("div",null,[e[34]||(e[34]=t("p",{class:"text-sm font-medium text-gray-500"},"DN Name",-1)),t("p",Bt,l((F=(E=i.snPort)==null?void 0:E.dn_splitter)==null?void 0:F.name),1)]),t("div",null,[e[35]||(e[35]=t("p",{class:"text-sm font-medium text-gray-500"},"DN Location",-1)),t("p",Rt,l((z=(G=i.snPort)==null?void 0:G.dn_splitter)==null?void 0:z.location),1)]),t("div",null,[e[36]||(e[36]=t("p",{class:"text-sm font-medium text-gray-500"},"SN Name",-1)),t("p",Et,l((H=(K=i.snPort)==null?void 0:K.sn_splitter)==null?void 0:H.name),1)]),t("div",null,[e[37]||(e[37]=t("p",{class:"text-sm font-medium text-gray-500"},"SN Location",-1)),t("p",Ft,l((W=(Z=i.snPort)==null?void 0:Z.sn_splitter)==null?void 0:W.location),1)]),t("div",null,[e[38]||(e[38]=t("p",{class:"text-sm font-medium text-gray-500"},"SN Port No.",-1)),t("p",Gt,"SN Port "+l((J=i.snPort)==null?void 0:J.port_number),1)])],64)):(a(),d("div",zt,[e[39]||(e[39]=t("p",{class:"text-sm font-medium text-gray-500"},"Cabinet/ DN Box",-1)),t("p",Kt,l((X=(Q=i.snPort)==null?void 0:Q.dn_box)==null?void 0:X.name),1)])),t("div",null,[e[40]||(e[40]=t("p",{class:"text-sm font-medium text-gray-500"},"PPPOE User Name",-1)),t("p",Ht,l(i.customer.pppoe_username??"NA"),1)]),t("div",null,[e[41]||(e[41]=t("p",{class:"text-sm font-medium text-gray-500"},"PPPOE Password",-1)),t("p",Zt,l(i.customer.pppoe_password??"NA"),1)])]),e[57]||(e[57]=t("hr",{class:"my-4 md:min-w-full"},null,-1)),e[58]||(e[58]=t("h6",{class:"md:min-w-full text-indigo-700 text-xs uppercase font-bold block pt-1 no-underline"}," Installation Information",-1)),t("div",Wt,[t("div",Jt,[e[42]||(e[42]=t("label",{class:"block text-sm font-medium text-gray-700"},[t("span",{class:"text-red-500"},"*"),b(" Installation Status")],-1)),o.installationStatus.length!==0?(a(),d("div",Qt,[T(A,{"deselect-label":"Selected already",options:o.installationStatus,"track-by":"id",label:"name",modelValue:o.form.installation_status,"onUpdate:modelValue":e[3]||(e[3]=s=>o.form.installation_status=s),"allow-empty":!1,multiple:!1,taggable:!1},{singleLabel:j(({option:s})=>[t("strong",null,l(s.name),1)]),_:1},8,["options","modelValue"])])):V("",!0),r(t("p",{class:"mt-2 text-sm text-red-500"},l(n.$page.props.errors.installation_status),513),[[u,n.$page.props.errors.installation_status]])]),t("div",Xt,[e[43]||(e[43]=t("label",{class:"block text-sm font-medium text-gray-700"},[t("span",{class:"text-red-500"},"*"),b(" Way List Date")],-1)),r(t("input",{type:"date","onUpdate:modelValue":e[4]||(e[4]=s=>o.form.way_list_date=s),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"},null,512),[[f,o.form.way_list_date]]),r(t("p",{class:"mt-2 text-sm text-red-500"},l(n.$page.props.errors.way_list_date),513),[[u,n.$page.props.errors.way_list_date]])]),t("div",Yt,[e[44]||(e[44]=t("label",{class:"block text-sm font-medium text-gray-700"},"Installation Date",-1)),r(t("input",{type:"date","onUpdate:modelValue":e[5]||(e[5]=s=>o.form.installation_date=s),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"},null,512),[[f,o.form.installation_date]]),r(t("p",{class:"mt-2 text-sm text-red-500"},l(n.$page.props.errors.installation_date),513),[[u,n.$page.props.errors.installation_date]])]),t("div",$t,[e[45]||(e[45]=t("label",{class:"block text-sm font-medium text-gray-700"},"Fiber Distance",-1)),r(t("input",{type:"number","onUpdate:modelValue":e[6]||(e[6]=s=>o.form.fiber_distance=s),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"},null,512),[[f,o.form.fiber_distance]]),r(t("p",{class:"mt-2 text-sm text-red-500"},l(n.$page.props.errors.fiber_distance),513),[[u,n.$page.props.errors.fiber_distance]])]),t("div",te,[e[46]||(e[46]=t("label",{class:"block text-sm font-medium text-gray-700"},[t("span",{class:"text-red-500"},"*"),b(" ONU Serial ")],-1)),r(t("input",{type:"text","onUpdate:modelValue":e[7]||(e[7]=s=>o.form.onu_serial=s),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"},null,512),[[f,o.form.onu_serial]]),r(t("p",{class:"mt-2 text-sm text-red-500"},l(n.$page.props.errors.onu_serial),513),[[u,n.$page.props.errors.onu_serial]])]),t("div",ee,[e[47]||(e[47]=t("label",{class:"block text-sm font-medium text-gray-700"},[t("span",{class:"text-red-500"},"*"),b(" ONU Power")],-1)),r(t("input",{type:"text","onUpdate:modelValue":e[8]||(e[8]=s=>o.form.onu_power=s),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"},null,512),[[f,o.form.onu_power]]),r(t("p",{class:"mt-2 text-sm text-red-500"},l(n.$page.props.errors.onu_power),513),[[u,n.$page.props.errors.onu_power]])]),t("div",se,[e[49]||(e[49]=t("label",{for:"actual_latitude",class:"block text-sm font-medium text-gray-700"},[t("span",{class:"text-red-500"},"*"),b(" Actual Latitude ")],-1)),t("div",oe,[e[48]||(e[48]=t("span",{class:"z-10 leading-snug font-normal text-center text-gray-300 absolute bg-transparent rounded text-base items-center justify-center w-8 pl-3 py-3"},[t("i",{class:"fas fa-location-arrow"})],-1)),r(t("input",{type:"text","onUpdate:modelValue":e[9]||(e[9]=s=>o.form.actual_latitude=s),name:"actual_latitude",id:"actual_latitude",class:"pl-10 mt-1 form-input focus:ring-indigo-500 focus:border-indigo-500 flex-1 block w-full rounded-md sm:text-sm border-gray-300",onKeypress:e[10]||(e[10]=s=>n.isNumber(n.event))},null,544),[[f,o.form.actual_latitude]])]),r(t("p",{class:"mt-2 text-sm text-red-500"},l(n.$page.props.errors.actual_latitude),513),[[u,n.$page.props.errors.actual_latitude]])]),t("div",le,[e[51]||(e[51]=t("label",{for:"actual_longitude",class:"block text-sm font-medium text-gray-700"},[t("span",{class:"text-red-500"},"*"),b(" Actual Longitude ")],-1)),t("div",ne,[e[50]||(e[50]=t("span",{class:"z-10 leading-snug font-normal text-center text-gray-300 absolute bg-transparent rounded text-base items-center justify-center w-8 pl-3 py-3"},[t("i",{class:"fas fa-location-arrow"})],-1)),r(t("input",{type:"text","onUpdate:modelValue":e[11]||(e[11]=s=>o.form.actual_longitude=s),name:"actual_longitude",id:"actual_longitude",class:"pl-10 mt-1 form-input focus:ring-indigo-500 focus:border-indigo-500 flex-1 block w-full rounded-md sm:text-sm border-gray-300",onKeypress:e[12]||(e[12]=s=>n.isNumber(n.event))},null,544),[[f,o.form.actual_longitude]])]),r(t("p",{class:"mt-2 text-sm text-red-500"},l(n.$page.props.errors.actual_longitude),513),[[u,n.$page.props.errors.actual_longitude]])]),t("div",ie,[e[52]||(e[52]=t("label",{class:"block text-sm font-medium text-gray-700"},"Installation Remark",-1)),r(t("textarea",{"onUpdate:modelValue":e[13]||(e[13]=s=>o.form.installation_remark=s),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"},null,512),[[f,o.form.installation_remark]]),r(t("p",{class:"mt-2 text-sm text-red-500"},l(n.$page.props.errors.installation_remark),513),[[u,n.$page.props.errors.installation_remark]])])]),t("div",ae,[T(N,{href:n.route("customer.index"),class:"inline-flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-yellow-600 hover:bg-yellow-700 shadow-sm focus:outline-none focus:border-blue-300 focus:shadow-outline-blue transition ease-in-out duration-150"},{default:j(()=>e[53]||(e[53]=[b(" Back")])),_:1},8,["href"]),t("button",{type:"submit",onClick:e[14]||(e[14]=(...s)=>o.submit&&o.submit(...s)),class:"ml-2 inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"},"Save")])],2),t("div",{class:k(["bg-white overflow-hidden shadow-xl sm:rounded-lg sm:rounded-t-none p-6",[o.tab==2?"":"hidden"]])},[e[69]||(e[69]=t("h6",{class:"md:min-w-full text-indigo-700 text-xs uppercase font-bold block pt-1 no-underline"}," Installation Data",-1)),t("div",de,[t("table",re,[e[59]||(e[59]=t("thead",{class:"bg-indigo-50"},[t("tr",null,[t("th",{class:"px-4 py-3 text-left text-xs font-semibold text-indigo-700 uppercase tracking-wider"}," Group Name"),t("th",{class:"px-4 py-3 text-center text-xs font-semibold text-indigo-700 uppercase tracking-wider"}," Total"),t("th",{class:"px-4 py-3 text-center text-xs font-semibold text-indigo-700 uppercase tracking-wider"}," Skip"),t("th",{class:"px-4 py-3 text-center text-xs font-semibold text-indigo-700 uppercase tracking-wider"}," Requested"),t("th",{class:"px-4 py-3 text-center text-xs font-semibold text-indigo-700 uppercase tracking-wider"}," Rejected"),t("th",{class:"px-4 py-3 text-center text-xs font-semibold text-indigo-700 uppercase tracking-wider"}," Approved"),t("th",{class:"px-4 py-3 text-center text-xs font-semibold text-indigo-700 uppercase tracking-wider"}," Remaining")])],-1)),t("tbody",null,[(a(!0),d(q,null,tt(i.checkListSummary,s=>(a(),d("tr",{key:s.group_name,onClick:et=>o.selectedGroupId=s.id,class:k(["cursor-pointer transition-colors",o.selectedGroupId===s.id?"bg-indigo-100":"hover:bg-gray-50"])},[t("td",ue,l(s.group_name),1),t("td",ce,[s.total>0?(a(),d("span",xe,l(s.total),1)):(a(),d("span",pe,l(s.total),1))]),t("td",fe,[s.skip>0?(a(),d("span",ge,l(s.skip),1)):(a(),d("span",be,l(s.skip),1))]),t("td",_e,[s.requested>0?(a(),d("span",ye,l(s.requested),1)):(a(),d("span",ve,l(s.requested),1))]),t("td",we,[s.rejected>0?(a(),d("span",ke,l(s.rejected),1)):(a(),d("span",he,l(s.rejected),1))]),t("td",Ce,[s.approved>0?(a(),d("span",Ue,l(s.approved),1)):(a(),d("span",Pe,l(s.approved),1))]),t("td",Ie,[s.remaining>0?(a(),d("span",Se,l(s.remaining),1)):(a(),d("span",Ve,l(s.remaining),1))])],10,me))),128))])])]),o.filteredChecklists?(a(),d("div",Ne,[t("div",De,[e[67]||(e[67]=t("div",{class:"fixed inset-0 transition-opacity"},[t("div",{class:"absolute inset-0 bg-gray-500 opacity-75"})],-1)),e[68]||(e[68]=t("span",{class:"hidden sm:inline-block sm:align-middle sm:h-screen"},null,-1)),t("div",Le,[t("form",{onSubmit:e[18]||(e[18]=it((...s)=>o.submit&&o.submit(...s),["prevent"]))},[t("div",je,[t("div",Ae,[o.selectedGroupId?(a(),d("div",Me,[e[60]||(e[60]=b(" Showing details for: ")),t("span",Oe,l((Y=i.checkListSummary.find(s=>s.id===o.selectedGroupId))==null?void 0:Y.group_name),1)])):V("",!0),t("div",qe,[(a(!0),d(q,null,tt(o.filteredChecklists,(s,et)=>{var $;return a(),d("div",{key:s.id,class:"mt-6"},[t("label",Te,l(s.name),1),r(t("input",{type:"text","onUpdate:modelValue":c=>o.form[`checklist_${s.id}_title`]=c,class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"},null,8,Be),[[f,o.form[`checklist_${s.id}_title`]]]),s.has_attachment?(a(),d("div",Re,[T(M,{modelValue:o.form[`checklist_${s.id}_attachment`],"onUpdate:modelValue":c=>o.form[`checklist_${s.id}_attachment`]=c,imageUrl:o.checklistImagePreviews[s.id],"onUpdate:imageUrl":c=>o.checklistImagePreviews[s.id]=c,existingImage:i.customer.checklist_images&&i.customer.checklist_images[s.id]?`/storage/${i.customer.checklist_images[s.id]}`:null,"upload-text":`Upload ${s.name} image`,submitStatus:($=i.customer.checklist_values[s.id])==null?void 0:$.status},null,8,["modelValue","onUpdate:modelValue","imageUrl","onUpdate:imageUrl","existingImage","upload-text","submitStatus"])])):V("",!0),t("div",Ee,[e[66]||(e[66]=t("label",{for:"status",class:"block text-md font-medium text-gray-700"}," Status ",-1)),t("div",Fe,[t("label",Ge,[r(t("input",{type:"radio",class:"form-radio h-5 w-5 text-blue-600",name:o.form[`checklist_${s.id}`],"onUpdate:modelValue":c=>o.form[`checklist_${s.id}_status`]=c,value:"",disabled:o.form[`checklist_${s.id}_status`]=="approved"},null,8,ze),[[B,o.form[`checklist_${s.id}_status`]]]),e[61]||(e[61]=t("span",{class:"ml-2 text-gray-700 text-sm"},"N/A",-1))]),t("label",Ke,[r(t("input",{type:"radio",class:"form-radio h-5 w-5 text-yellow-600",name:o.form[`checklist_${s.id}`],"onUpdate:modelValue":c=>o.form[`checklist_${s.id}_status`]=c,value:"skip",disabled:o.form[`checklist_${s.id}_status`]=="skip"},null,8,He),[[B,o.form[`checklist_${s.id}_status`]]]),e[62]||(e[62]=t("span",{class:"ml-2 text-gray-700 text-sm"},"Skip",-1))]),t("label",Ze,[r(t("input",{type:"radio",class:"form-radio h-5 w-5 text-yellow-600",name:o.form[`checklist_${s.id}`],"onUpdate:modelValue":c=>o.form[`checklist_${s.id}_status`]=c,value:"requested",disabled:o.form[`checklist_${s.id}_status`]=="approved"},null,8,We),[[B,o.form[`checklist_${s.id}_status`]]]),e[63]||(e[63]=t("span",{class:"ml-2 text-gray-700 text-sm"},"Request",-1))]),t("label",Je,[o.form[`checklist_${s.id}_status`]=="declined"?(a(),d("i",Qe)):(a(),d("i",Xe)),e[64]||(e[64]=t("span",{class:"ml-2 text-gray-700 text-sm"},"Declined",-1))]),t("label",Ye,[o.form[`checklist_${s.id}_status`]=="approved"?(a(),d("i",$e)):(a(),d("i",ts)),e[65]||(e[65]=t("span",{class:"ml-2 text-gray-700 text-sm"},"Approved",-1))])])]),r(t("p",{class:"mt-2 text-sm text-red-500"},l(n.$page.props.errors[`checklist_${s.id}_attachment`]),513),[[u,n.$page.props.errors[`checklist_${s.id}_attachment`]]]),r(t("p",{class:"mt-2 text-sm text-red-500"},l(n.$page.props.errors[`checklist_${s.id}_status`]),513),[[u,n.$page.props.errors[`checklist_${s.id}_status`]]])])}),128))])])]),t("div",es,[t("span",ss,[r(t("button",{type:"submit",onClick:e[15]||(e[15]=(...s)=>o.submit&&o.submit(...s)),class:"inline-flex items-center px-4 py-2 bg-gray-800 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-gray-700 active:bg-gray-900 focus:outline-none focus:border-gray-900 focus:ring focus:ring-gray-300 disabled:opacity-25 transition"}," Save ",512),[[u,!o.form.id]]),r(t("button",{type:"submit",onClick:e[16]||(e[16]=(...s)=>o.submit&&o.submit(...s)),class:"inline-flex items-center px-4 py-2 bg-gray-800 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-gray-700 active:bg-gray-900 focus:outline-none focus:border-gray-900 focus:ring focus:ring-gray-300 disabled:opacity-25 transition"}," Update ",512),[[u,o.form.id]])]),t("span",os,[t("button",{onClick:e[17]||(e[17]=(...s)=>o.clostModel&&o.clostModel(...s)),type:"button",class:"inline-flex justify-center w-full rounded-md border border-gray-300 px-4 py-2 bg-white text-base leading-6 font-medium text-gray-700 shadow-sm hover:text-gray-500 focus:outline-none focus:border-blue-300 focus:shadow-outline-blue transition ease-in-out duration-150 sm:text-sm sm:leading-5"}," Cancel ")])])],32)])])],512)):V("",!0)],2),t("div",{class:k(["bg-white overflow-hidden shadow-xl sm:rounded-lg sm:rounded-t-none p-6",[o.tab==3?"":"hidden"]])},[e[70]||(e[70]=t("h6",{class:"md:min-w-full text-indigo-700 text-xs uppercase font-bold block pt-1 no-underline"}," Customer KMZ",-1)),e[71]||(e[71]=t("hr",{class:"my-4 md:min-w-full"},null,-1)),(a(),O(at,null,[o.tab==3?(a(),O(_,{key:0,data:i.customer.id,permission:!0},null,8,["data"])):V("",!0)],1024))],2)])])]}),_:1})}const xs=ct(xt,[["render",ls]]);export{xs as default};
