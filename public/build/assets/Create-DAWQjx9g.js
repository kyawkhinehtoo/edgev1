import{A as _}from"./AppLayout-Dspi5UzH.js";import{m as h,T as k,z as u,c as C,w as f,o as i,a as o,i as T,j as l,v as c,d as r,g as b,F as x,t as d,e as n,k as g,l as V,b as A,f as L}from"./app-H2w1vmnZ.js";import{_ as N}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./DropdownLink-CwGO-xmN.js";const S={components:{AppLayout:_,Link:h},props:{cities:Array,townships:Array},setup(){return{form:k({name:"",description:"",is_active:!0,city_id:"",township_ids:[]})}},data(){return{filteredTownships:[]}},methods:{submit(){this.form.post(route("zone.store"))},filterTownships(){this.form.city_id?(this.filteredTownships=this.townships.filter(a=>a.city_id==this.form.city_id),this.form.township_ids=[]):(this.filteredTownships=[],this.form.township_ids=[])}}},U={class:"py-12"},B={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},M={class:"bg-white overflow-hidden shadow-xl sm:rounded-lg p-6"},z={class:"grid grid-cols-1 gap-6"},D=["value"],j={key:0,class:"text-red-500 text-xs mt-1"},F={key:0,class:"text-red-500 text-xs mt-1"},Z={key:0,class:"text-red-500 text-xs mt-1"},E={class:"mt-1"},P=["disabled"],q=["value"],G={key:0,class:"text-sm text-gray-500 mt-1"},H={key:0,class:"text-red-500 text-xs mt-1"},I={class:"mt-2"},J={class:"inline-flex items-center"},K={class:"mt-6 flex items-center justify-end"};function O(a,t,p,s,y,m){const w=u("Link"),v=u("app-layout");return i(),C(v,null,{header:f(()=>t[7]||(t[7]=[o("h2",{class:"font-semibold text-xl text-white leading-tight"},"Create Zone",-1)])),default:f(()=>[o("div",U,[o("div",B,[o("div",M,[o("form",{onSubmit:t[6]||(t[6]=T((...e)=>m.submit&&m.submit(...e),["prevent"]))},[o("div",z,[o("div",null,[t[9]||(t[9]=o("label",{class:"block text-sm font-medium text-gray-700"},"City",-1)),l(o("select",{"onUpdate:modelValue":t[0]||(t[0]=e=>s.form.city_id=e),onChange:t[1]||(t[1]=(...e)=>m.filterTownships&&m.filterTownships(...e)),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"},[t[8]||(t[8]=o("option",{value:""},"Select a City",-1)),(i(!0),r(x,null,b(p.cities,e=>(i(),r("option",{key:e.id,value:e.id},d(e.name),9,D))),128))],544),[[c,s.form.city_id]]),s.form.errors.city_id?(i(),r("div",j,d(s.form.errors.city_id),1)):n("",!0)]),o("div",null,[t[10]||(t[10]=o("label",{class:"block text-sm font-medium text-gray-700"},"Name",-1)),l(o("input",{type:"text","onUpdate:modelValue":t[2]||(t[2]=e=>s.form.name=e),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"},null,512),[[g,s.form.name]]),s.form.errors.name?(i(),r("div",F,d(s.form.errors.name),1)):n("",!0)]),o("div",null,[t[11]||(t[11]=o("label",{class:"block text-sm font-medium text-gray-700"},"Description",-1)),l(o("textarea",{"onUpdate:modelValue":t[3]||(t[3]=e=>s.form.description=e),rows:"3",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"},null,512),[[g,s.form.description]]),s.form.errors.description?(i(),r("div",Z,d(s.form.errors.description),1)):n("",!0)]),o("div",null,[t[12]||(t[12]=o("label",{class:"block text-sm font-medium text-gray-700"},"Townships",-1)),o("div",E,[l(o("select",{"onUpdate:modelValue":t[4]||(t[4]=e=>s.form.township_ids=e),multiple:"",disabled:!s.form.city_id,class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 disabled:bg-gray-100 disabled:cursor-not-allowed"},[(i(!0),r(x,null,b(y.filteredTownships,e=>(i(),r("option",{key:e.id,value:e.id},d(e.name),9,q))),128))],8,P),[[c,s.form.township_ids]]),s.form.city_id?n("",!0):(i(),r("p",G,"Please select a city first"))]),s.form.errors.township_ids?(i(),r("div",H,d(s.form.errors.township_ids),1)):n("",!0)]),o("div",null,[t[14]||(t[14]=o("label",{class:"block text-sm font-medium text-gray-700"},"Status",-1)),o("div",I,[o("label",J,[l(o("input",{type:"checkbox","onUpdate:modelValue":t[5]||(t[5]=e=>s.form.is_active=e),class:"rounded border-gray-300 text-indigo-600 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"},null,512),[[V,s.form.is_active]]),t[13]||(t[13]=o("span",{class:"ml-2"},"Active",-1))])])])]),o("div",K,[A(w,{href:a.route("zone.index"),class:"bg-gray-300 hover:bg-gray-400 text-black font-bold py-2 px-4 rounded mr-2"},{default:f(()=>t[15]||(t[15]=[L(" Cancel ")])),_:1},8,["href"]),t[16]||(t[16]=o("button",{type:"submit",class:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded"}," Create Zone ",-1))])],32)])])])]),_:1})}const Y=N(S,[["render",O]]);export{Y as default};
