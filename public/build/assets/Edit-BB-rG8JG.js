import{T as U,r as C,c as B,w as f,o as i,a as t,b as u,f as p,u as o,m as F,i as T,d as a,t as b,e as n,j as c,k as w,v as A,g as L,F as M}from"./app-C7rYWCBH.js";import{A as N}from"./AppLayout-_WSQTBiw.js";import{M as m}from"./vue3-multiselect.umd.min-C3JivLe2.js";import"./DropdownLink-rjaimqtX.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const O={class:"py-12"},h={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},j={class:"bg-white overflow-hidden shadow-xl sm:rounded-lg"},E={class:"p-6 bg-white border-b border-gray-200"},I={class:"mb-4"},q={class:"grid sm:grid-cols-4 gap-6"},z={key:0,class:"text-red-500 text-sm mt-1"},G={key:0,class:"text-red-500 text-sm mt-1"},H={key:0,class:"text-red-500 text-sm mt-1"},J={key:0,class:"text-red-500 text-sm mt-1"},K={class:"grid sm:grid-cols-4 gap-6"},Q={key:0,class:"text-red-500 text-sm mt-1"},R={key:0,class:"text-red-500 text-sm mt-1"},W={key:0,class:"text-red-500 text-sm mt-1"},X=["value"],Y={key:0,class:"text-red-500 text-sm mt-1"},Z={class:"col-span-4"},$={key:0,class:"text-red-500 text-sm mt-1"},ee={class:"flex justify-end space-x-3 mt-4"},oe=["disabled"],ie={__name:"Edit",props:{odbFiberCable:Object,odbs:Array,odfs:Array,popDevices:Array,fiberCables:Array},setup(_){var g,k;const d=_,y=Array.from({length:96},(r,e)=>({value:e+1,label:`Port ${e+1}`})),l=U({odf:d.odfs.find(r=>{var e;return r.id===((e=d.odbFiberCable.odb)==null?void 0:e.odf_id)}),odf_id:(g=d.odbFiberCable.odb)==null?void 0:g.odf_id,odb:d.odbs.find(r=>r.id===d.odbFiberCable.odb_id),odb_id:d.odbFiberCable.odb_id,fiber_cable:d.fiberCables.find(r=>r.id===d.odbFiberCable.fiber_cable_id),fiber_cable_id:d.odbFiberCable.fiber_cable_id,pop_device:(k=d.popDevices)==null?void 0:k.filter(r=>r.id==d.odbFiberCable.pop_device_id),pop_device_id:d.odbFiberCable.pop_device_id,odb_port_all:d.odbFiberCable.odb_port?{value:d.odbFiberCable.odb_port,label:`Port ${d.odbFiberCable.odb_port}`}:null,odb_port:d.odbFiberCable.odb_port,olt_port_all:d.odbFiberCable.olt_port?{value:d.odbFiberCable.olt_port,label:`Port ${d.odbFiberCable.olt_port}`}:null,olt_port:d.odbFiberCable.olt_port,olt_cable_label:d.odbFiberCable.olt_cable_label,description:d.odbFiberCable.description,status:d.odbFiberCable.status}),x=C([]),v=C([]),V=r=>{l.odf=r,l.odf_id=r==null?void 0:r.id,l.pop_device=null,l.pop_device_id=null,l.odb=null,l.odb_id=null,r&&d.popDevices?x.value=d.popDevices.filter(e=>r.pop_device_id.includes(e.id)):x.value=[],r&&d.odbs?v.value=d.odbs.filter(e=>e.odf_id===r.id):v.value=[]},D=r=>{l.odb=r,l.odb_id=r==null?void 0:r.id},S=[{value:"active",label:"Active"},{value:"inactive",label:"Inactive"},{value:"maintenance",label:"Maintenance"}],P=()=>{l.put(route("odb-fiber-cables.update",d.odbFiberCable.id),{onSuccess:r=>{Toast.fire({icon:"success",title:r.props.flash.message})},transform:r=>{var e,s;return{...r,odf_port:(e=r.odf_port)==null?void 0:e.value,olt_port:(s=r.olt_port)==null?void 0:s.value}}})};return(r,e)=>(i(),B(N,null,{header:f(()=>e[13]||(e[13]=[t("h2",{class:"font-semibold text-xl text-white leading-tight"},"Edit ODB Details",-1)])),default:f(()=>[t("div",O,[t("div",h,[t("div",j,[t("div",E,[t("div",I,[u(o(F),{href:r.route("odb-fiber-cables.index"),class:"text-indigo-600 hover:text-indigo-900"},{default:f(()=>e[14]||(e[14]=[t("i",{class:"fas fa-arrow-left"},null,-1),p(" Back to List ")])),_:1},8,["href"])]),t("form",{onSubmit:T(P,["prevent"])},[e[26]||(e[26]=t("h6",{class:"md:min-w-full text-indigo-700 text-xs uppercase font-bold block pt-1 no-underline mb-2"}," Feeder Connection Information ",-1)),t("div",q,[t("div",null,[e[15]||(e[15]=t("label",{class:"block text-sm font-medium text-gray-700"},[p("ODF "),t("span",{class:"text-red-600"},"*")],-1)),u(o(m),{modelValue:o(l).odf,"onUpdate:modelValue":[e[0]||(e[0]=s=>o(l).odf=s),V],options:_.odfs,"track-by":"id",label:"name",placeholder:"Select ODF",searchable:!0,"allow-empty":!1},null,8,["modelValue","options"]),o(l).errors.odf_id?(i(),a("div",z,b(o(l).errors.odf_id),1)):n("",!0)]),t("div",null,[e[16]||(e[16]=t("label",{class:"block text-sm font-medium text-gray-700"},[p("ODB "),t("span",{class:"text-red-600"},"*")],-1)),u(o(m),{modelValue:o(l).odb,"onUpdate:modelValue":[e[1]||(e[1]=s=>o(l).odb=s),D],options:v.value,"track-by":"id",label:"name",placeholder:"Select ODB",searchable:!0,"allow-empty":!1,disabled:!o(l).odf_id},null,8,["modelValue","options","disabled"]),o(l).errors.odb_id?(i(),a("div",G,b(o(l).errors.odb_id),1)):n("",!0)]),t("div",null,[e[17]||(e[17]=t("label",{class:"block text-sm font-medium text-gray-700"},[p("Fiber Cable (Feeder) "),t("span",{class:"text-red-600"},"*")],-1)),u(o(m),{modelValue:o(l).fiber_cable,"onUpdate:modelValue":[e[2]||(e[2]=s=>o(l).fiber_cable=s),e[3]||(e[3]=s=>{o(l).fiber_cable_id=s==null?void 0:s.id})],options:_.fiberCables,"track-by":"id",label:"name",placeholder:"Select Fiber Cable",searchable:!0,"allow-empty":!1},null,8,["modelValue","options"]),o(l).errors.fiber_cable_id?(i(),a("div",H,b(o(l).errors.fiber_cable_id),1)):n("",!0)]),t("div",null,[e[18]||(e[18]=t("label",{class:"block text-sm font-medium text-gray-700"},[p("ODB Port No. "),t("span",{class:"text-red-600"},"*")],-1)),u(o(m),{modelValue:o(l).odb_port_all,"onUpdate:modelValue":[e[4]||(e[4]=s=>o(l).odb_port_all=s),e[5]||(e[5]=s=>o(l).odb_port=s==null?void 0:s.value)],options:o(y),"track-by":"value",label:"label",placeholder:"Select Port",searchable:!0,"allow-empty":!1},null,8,["modelValue","options"]),o(l).errors.odb_port?(i(),a("div",J,b(o(l).errors.odb_port),1)):n("",!0)])]),e[27]||(e[27]=t("hr",{class:"my-4 md:min-w-full"},null,-1)),e[28]||(e[28]=t("h6",{class:"md:min-w-full text-indigo-700 text-xs uppercase font-bold block pt-1 no-underline mb-2"}," OLT Information ",-1)),t("div",K,[t("div",null,[e[19]||(e[19]=t("label",{class:"block text-sm font-medium text-gray-700"},"POP Device (OLT)",-1)),u(o(m),{modelValue:o(l).pop_device,"onUpdate:modelValue":[e[6]||(e[6]=s=>o(l).pop_device=s),e[7]||(e[7]=s=>{o(l).pop_device_id=s==null?void 0:s.id})],options:x.value,"track-by":"id",label:"device_name",placeholder:"Select POP Device",searchable:!0,"allow-empty":!1,disabled:!o(l).odf_id},null,8,["modelValue","options","disabled"]),o(l).errors.pop_device_id?(i(),a("div",Q,b(o(l).errors.pop_device_id),1)):n("",!0)]),t("div",null,[e[20]||(e[20]=t("label",{class:"block text-sm font-medium text-gray-700"},"OLT Port No.",-1)),u(o(m),{modelValue:o(l).olt_port_all,"onUpdate:modelValue":[e[8]||(e[8]=s=>o(l).olt_port_all=s),e[9]||(e[9]=s=>o(l).olt_port=s==null?void 0:s.value)],options:o(y),"track-by":"value",label:"label",placeholder:"Select Port",searchable:!0,"allow-empty":!0},null,8,["modelValue","options"]),o(l).errors.olt_port?(i(),a("div",R,b(o(l).errors.olt_port),1)):n("",!0)]),t("div",null,[e[21]||(e[21]=t("label",{class:"block text-sm font-medium text-gray-700"},"OLT To ODF Label",-1)),c(t("input",{type:"text","onUpdate:modelValue":e[10]||(e[10]=s=>o(l).olt_cable_label=s),class:"block w-full rounded-md border-gray-200 shadow-xsfocus:border-indigo-500 focus:ring-indigo-500"},null,512),[[w,o(l).olt_cable_label]]),o(l).errors.olt_cable_label?(i(),a("div",W,b(o(l).errors.olt_cable_label),1)):n("",!0)]),t("div",null,[e[23]||(e[23]=t("label",{class:"block text-sm font-medium text-gray-700"},"Status",-1)),c(t("select",{"onUpdate:modelValue":e[11]||(e[11]=s=>o(l).status=s),class:"block w-full rounded-md border-gray-200 shadow-xsfocus:border-indigo-500 focus:ring-indigo-500"},[e[22]||(e[22]=t("option",{value:""},"Select Status",-1)),(i(),a(M,null,L(S,s=>t("option",{key:s.value,value:s.value},b(s.label),9,X)),64))],512),[[A,o(l).status]]),o(l).errors.status?(i(),a("div",Y,b(o(l).errors.status),1)):n("",!0)]),t("div",Z,[e[24]||(e[24]=t("label",{class:"block text-sm font-medium text-gray-700"},"Description",-1)),c(t("textarea",{"onUpdate:modelValue":e[12]||(e[12]=s=>o(l).description=s),rows:"3",class:"block w-full rounded-md border-gray-200 shadow-xsfocus:border-indigo-500 focus:ring-indigo-500"},null,512),[[w,o(l).description]]),o(l).errors.description?(i(),a("div",$,b(o(l).errors.description),1)):n("",!0)])]),t("div",ee,[u(o(F),{href:r.route("odb-fiber-cables.index"),class:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50"},{default:f(()=>e[25]||(e[25]=[p(" Cancel ")])),_:1},8,["href"]),t("button",{type:"submit",class:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",disabled:o(l).processing}," Update ",8,oe)])],32)])])])])]),_:1}))}};export{ie as default};
