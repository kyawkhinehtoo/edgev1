import{r as A,c as _,w as a,o as x,a as t,b as o,u as i,f as r,m,d as v,g as h,t as u,F as j,N as k}from"./app-C08waHBK.js";import{A as S}from"./AppLayout-CxpjQkyP.js";import{_ as c}from"./Badge-DtZXlUQX.js";import{M as b}from"./vue3-multiselect.umd.min-P9Gz0R1j.js";import"./DropdownLink-BgvUhlqv.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const V={class:"py-12"},N={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},D={class:"bg-white overflow-hidden shadow-xl sm:rounded-lg p-6"},B={class:"mb-6 grid grid-cols-1 md:grid-cols-4 gap-4"},L={class:"flex justify-between mb-6"},U={class:"min-w-full divide-y divide-gray-200"},E={class:"bg-white divide-y divide-gray-200 text-sm"},F={class:"px-6 py-4 whitespace-nowrap"},M={class:"px-6 py-4 whitespace-nowrap"},O={class:"px-6 py-4 whitespace-nowrap"},P={class:"px-6 py-4 whitespace-nowrap"},T={class:"px-6 py-4 whitespace-nowrap"},I={class:"px-6 py-4 whitespace-nowrap"},R={class:"px-6 py-4 whitespace-nowrap"},W={__name:"Index",props:{coreAssignments:Object,fiberCables:Array,jcBoxes:Array,filters:{type:Object,default:()=>({source:"",source_id:"",dest:"",dest_id:"",jc:"",jc_id:""})}},setup(d){const p=d,l=A({source_id:p.filters.source_id,dest_id:p.filters.dest_id,jc_id:p.filters.jc_id}),y=()=>{k.get(route("core-assignments.index"),l.value,{preserveState:!0,preserveScroll:!0})},C=n=>{Toast.fire({icon:"warning",title:"Are you sure you want to delete this core assignment?"}),confirm("Are you sure you want to delete this core assignment?")&&k.delete(route("core-assignments.destroy",n),{preserveState:!0,preserveScroll:!0})};return(n,e)=>(x(),_(S,{title:"Core Assignments"},{header:a(()=>e[7]||(e[7]=[t("h2",{class:"font-semibold text-xl text-white leading-tight"}," Core Assignments ",-1)])),default:a(()=>[t("div",V,[t("div",N,[t("div",D,[t("div",B,[t("div",null,[e[8]||(e[8]=t("label",{class:"block text-sm font-medium text-gray-700"},"Source Cable",-1)),o(i(b),{"deselect-label":"Selected already",options:d.fiberCables,"track-by":"id",label:"name",modelValue:l.value.source,"onUpdate:modelValue":[e[0]||(e[0]=s=>l.value.source=s),e[1]||(e[1]=s=>l.value.source_id=s==null?void 0:s.id)],"allow-empty":!0,multiple:!1,tabindex:"1"},null,8,["options","modelValue"])]),t("div",null,[e[9]||(e[9]=t("label",{class:"block text-sm font-medium text-gray-700"},"Destination Cable",-1)),o(i(b),{"deselect-label":"Selected already",options:d.fiberCables,"track-by":"id",label:"name",modelValue:l.value.dest,"onUpdate:modelValue":[e[2]||(e[2]=s=>l.value.dest=s),e[3]||(e[3]=s=>l.value.dest_id=s==null?void 0:s.id)],"allow-empty":!0,multiple:!1,tabindex:"2"},null,8,["options","modelValue"])]),t("div",null,[e[10]||(e[10]=t("label",{class:"block text-sm font-medium text-gray-700"},"Connection Node",-1)),o(i(b),{"deselect-label":"Selected already",options:d.jcBoxes,"track-by":"id",label:"name",modelValue:l.value.jc,"onUpdate:modelValue":[e[4]||(e[4]=s=>l.value.jc=s),e[5]||(e[5]=s=>l.value.jc_id=s==null?void 0:s.id)],"allow-empty":!0,multiple:!1,tabindex:"2"},null,8,["options","modelValue"])]),t("div",null,[t("button",{class:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 mt-4",onClick:y},"Search"),t("button",{class:"ml-2 px-4 py-2 bg-gray-600 text-white rounded-md hover:bg-gray-700 mt-4",onClick:e[6]||(e[6]=()=>{l.value.source_id="",l.value.dest_id="",l.value.jc_id="",y()})},"Reset")])]),t("div",L,[e[12]||(e[12]=t("h3",{class:"text-lg font-medium"},"Core Assignment List",-1)),o(i(m),{href:n.route("core-assignments.create"),class:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700"},{default:a(()=>e[11]||(e[11]=[r(" Add New Core Assignment ")])),_:1},8,["href"])]),t("table",U,[e[20]||(e[20]=t("thead",null,[t("tr",null,[t("th",{class:"px-6 py-3 bg-gray-50 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Source Cable"),t("th",{class:"px-6 py-3 bg-gray-50 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Source Details"),t("th",{class:"px-6 py-3 bg-gray-50 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Destination Cable"),t("th",{class:"px-6 py-3 bg-gray-50 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Destination Details"),t("th",{class:"px-6 py-3 bg-gray-50 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Connection Node"),t("th",{class:"px-6 py-3 bg-gray-50 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Status"),t("th",{class:"px-6 py-3 bg-gray-50 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Actions")])],-1)),t("tbody",E,[(x(!0),v(j,null,h(d.coreAssignments.data,s=>{var g,f,w;return x(),v("tr",{key:s.id},[t("td",F,u((g=s.source_fiber_cable)==null?void 0:g.name),1),t("td",M,[e[13]||(e[13]=r(" Color: ")),o(c,{color:s.source_color,text:s.source_color},null,8,["color","text"]),e[14]||(e[14]=r()),e[15]||(e[15]=t("br",null,null,-1)),r(" Port: "+u(s.source_port),1)]),t("td",O,u((f=s.destination_fiber_cable)==null?void 0:f.name),1),t("td",P,[e[16]||(e[16]=r(" Color: ")),o(c,{color:s.dest_color,text:s.dest_color},null,8,["color","text"]),e[17]||(e[17]=t("br",null,null,-1)),r(" Port: "+u(s.dest_port),1)]),t("td",T,u((w=s.jc_box)==null?void 0:w.name),1),t("td",I,[o(c,{color:s.status==="active"?"green":"red",text:s.status},null,8,["color","text"])]),t("td",R,[o(i(m),{href:n.route("core-assignments.edit",s.id),class:"text-indigo-600 hover:text-indigo-900 mr-3"},{default:a(()=>e[18]||(e[18]=[r(" Edit ")])),_:2},1032,["href"]),o(i(m),{as:"button",class:"text-red-600 hover:text-red-900",onClick:q=>C(s.id)},{default:a(()=>e[19]||(e[19]=[r(" Delete ")])),_:2},1032,["onClick"])])])}),128))])])])])])]),_:1}))}};export{W as default};
