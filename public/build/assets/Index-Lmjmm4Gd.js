import{r as p,x as M,c as P,w as i,o as d,a as e,b as o,f,u as b,m as v,j as w,k as j,v as S,d as c,e as A,g as B,F as D,t as h,N as V}from"./app-B83Cld7c.js";import{A as I}from"./AppLayout-Cgpo2JBg.js";import{_ as x}from"./Badge-OVy2WAOa.js";import{P as Y}from"./Pagination-gUAmXw6T.js";import"./DropdownLink-CJ61rNbI.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const L={class:"py-12"},U={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},E={class:"bg-white shadow-xl sm:rounded-lg p-6"},O={class:"flex justify-between mb-6"},$={class:"grid grid-cols-4 gap-6"},C={class:"flex items-end"},q={class:"min-w-full divide-y divide-gray-200 mt-4"},z={class:"bg-white divide-y divide-gray-200 text-xs"},G={class:"px-3 py-4 whitespace-nowrap"},H={class:"px-3 py-4"},J={class:"px-3 py-4 whitespace-nowrap"},K={class:"px-3 py-4 whitespace-nowrap"},Q={class:"px-3 py-4 whitespace-nowrap"},W={class:"px-3 py-4 whitespace-nowrap"},X={class:"px-3 py-4 whitespace-nowrap"},Z={class:"px-3 py-4 whitespace-nowrap"},ee={key:0},ie={__name:"Index",props:{rootCauses:Object,filters:Object},setup(g){var k,_,N,T;const u=g,l=p(((k=u.filters)==null?void 0:k.search)||""),m=p(((_=u.filters)==null?void 0:_.is_installation)||""),y=p(((N=u.filters)==null?void 0:N.is_maintenance)||""),n=p(((T=u.filters)==null?void 0:T.is_pending)||"");M([l,m,y,n],R(()=>{V.get(route("root-causes.index"),{search:l.value,is_installation:m.value,is_maintenance:y.value,is_pending:n.value},{preserveState:!0,replace:!0})},300));function R(a,t=300){let r;return(...s)=>{clearTimeout(r),r=setTimeout(()=>a(...s),t)}}const F=()=>{l.value="",m.value="",y.value="",n.value="",V.get(route("root-causes.index"),{},{preserveState:!0,replace:!0})};return(a,t)=>(d(),P(I,{title:"Root Causes"},{header:i(()=>t[4]||(t[4]=[e("h2",{class:"font-semibold text-xl text-white leading-tight"}," Root Causes ",-1)])),default:i(()=>{var r;return[e("div",L,[e("div",U,[e("div",E,[e("div",O,[t[6]||(t[6]=e("h3",{class:"text-lg font-medium"},"Root Cause List",-1)),o(b(v),{href:a.route("root-causes.create"),class:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700"},{default:i(()=>t[5]||(t[5]=[f(" Add New Root Cause ")])),_:1},8,["href"])]),e("div",$,[e("div",null,[t[7]||(t[7]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Search ",-1)),w(e("input",{"onUpdate:modelValue":t[0]||(t[0]=s=>l.value=s),type:"text",placeholder:"Search root causes...",class:"w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},null,512),[[j,l.value]])]),e("div",null,[t[9]||(t[9]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Filter by Type",-1)),w(e("select",{"onUpdate:modelValue":t[1]||(t[1]=s=>a.selectedType=s),class:"w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},t[8]||(t[8]=[e("option",{value:""},"All Types",-1),e("option",{value:"installation"},"Installation",-1),e("option",{value:"maintenance"},"Maintenance",-1)]),512),[[S,a.selectedType]])]),e("div",null,[t[11]||(t[11]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Pending Reason",-1)),w(e("select",{"onUpdate:modelValue":t[2]||(t[2]=s=>n.value=s),class:"w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},t[10]||(t[10]=[e("option",{value:""},"All",-1),e("option",{value:"true"},"Yes",-1),e("option",{value:"false"},"No",-1)]),512),[[S,n.value]])]),e("div",C,[a.selectedType||n.value!==""||l.value?(d(),c("button",{key:0,onClick:F,class:"px-4 py-2 bg-gray-200 text-gray-700 rounded-md hover:bg-gray-300"}," Clear Filters ")):A("",!0)])]),e("table",q,[t[15]||(t[15]=e("thead",null,[e("tr",null,[e("th",{class:"px-3 py-3 bg-gray-50 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Name"),e("th",{class:"px-3 py-3 bg-gray-50 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Description"),e("th",{class:"px-3 py-3 bg-gray-50 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Sub Causes"),e("th",{class:"px-3 py-3 bg-gray-50 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Installation"),e("th",{class:"px-3 py-3 bg-gray-50 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Maintenance"),e("th",{class:"px-3 py-3 bg-gray-50 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Pending"),e("th",{class:"px-3 py-3 bg-gray-50 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Status"),e("th",{class:"px-3 py-3 bg-gray-50 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Actions")])],-1)),e("tbody",z,[(d(!0),c(D,null,B(g.rootCauses.data,s=>(d(),c("tr",{key:s.id},[e("td",G,h(s.name),1),e("td",H,h(s.description),1),e("td",J,h(s.sub_root_causes.length),1),e("td",K,[o(x,{color:s.is_installation?"green":"gray",text:s.is_installation?"Yes":"No"},null,8,["color","text"])]),e("td",Q,[o(x,{color:s.is_maintenance?"blue":"gray",text:s.is_maintenance?"Yes":"No"},null,8,["color","text"])]),e("td",W,[o(x,{color:s.is_pending?"yellow":"gray",text:s.is_pending?"Yes":"No"},null,8,["color","text"])]),e("td",X,[o(x,{color:s.status==="active"?"green":"red",text:s.status},null,8,["color","text"])]),e("td",Z,[o(b(v),{href:a.route("root-causes.edit",s.id),class:"text-indigo-600 hover:text-indigo-900 mr-3"},{default:i(()=>t[12]||(t[12]=[f(" Edit ")])),_:2},1032,["href"]),o(b(v),{href:a.route("root-causes.destroy",s.id),method:"delete",as:"button",class:"text-red-600 hover:text-red-900",onClick:t[3]||(t[3]=te=>a.confirm("Are you sure you want to delete this root cause?"))},{default:i(()=>t[13]||(t[13]=[f(" Delete ")])),_:2},1032,["href"])])]))),128)),((r=a.filteredRootCauses)==null?void 0:r.data.length)===0?(d(),c("tr",ee,t[14]||(t[14]=[e("td",{colspan:"7",class:"px-3 py-4 whitespace-nowrap text-sm text-gray-500 text-center"},"No root causes found",-1)]))):A("",!0)])]),o(Y,{links:g.rootCauses.links,class:"mt-6"},null,8,["links"])])])])]}),_:1}))}};export{ie as default};
