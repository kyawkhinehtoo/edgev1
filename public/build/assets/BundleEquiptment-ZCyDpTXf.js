import{A as q}from"./AppLayout-BnzSYYjy.js";import{P as D}from"./Pagination-B_xKbXvB.js";import{h as U,r as h,z as _,c as E,w as M,N as b,o as l,a as t,j as a,k as f,O as C,d,e as m,g as S,F as V,f as P,i as A,t as n,A as y,l as N,B as T}from"./app-DEFBMW71.js";import{_ as O}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./DropdownLink-9oXNaPVi.js";const j={name:"Equiptment",components:{AppLayout:q,Pagination:D},props:{equiptments:Object,errors:Object},setup(i){const e=U({id:null,name:null,date:null,detail:null}),u=h("");let o=h(!1),g=h(!1);function c(){e.name=null,e.date=null,e.detail=null,e.type="ftth",e.price=null,e.is_active=!0}function v(){o.value?(e._method="PUT",e._method="PUT",b.post("/equiptment/"+e.id,e,{onSuccess:r=>{p(),c(),Toast.fire({icon:"success",title:r.props.flash.message})},onError:r=>{p(),console.log("error ..".errors)}})):(e._method="POST",b.post("/equiptment",e,{preserveState:!0,onSuccess:r=>{p(),c(),Toast.fire({icon:"success",title:r.props.flash.message})},onError:r=>{p(),console.log("error ..".errors)}}))}function w(r){e.id=r.id,e.name=r.name,e.type=r.type,e.date=r.date,e.detail=r.detail,e.price=r.price,e.is_active=!!r.is_active,o.value=!0,x()}function s(r){confirm("Are you sure want to remove?")&&(r._method="DELETE",b.post("/equiptment/"+r.id,r,{preserveState:!0,onSuccess:k=>{p(),c(),Toast.fire({icon:"success",title:k.props.flash.message})},onError:k=>{p(),console.log("error ..".errors)}}),p(),c())}function x(){g.value=!0}const p=()=>{g.value=!1,c(),o.value=!1};return{form:e,submit:v,editMode:o,isOpen:g,openModal:x,closeModal:p,edit:w,deleteRow:s,searchTsp:()=>{console.log("search value is"+u.value),b.get("/equiptment/",{equiptment:u.value},{preserveState:!0})},search:u}}},B={class:"py-12"},I={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},L={class:"bg-white overflow-hidden shadow-xl sm:rounded-lg p-6"},F={class:"flex justify-between mb-6"},K={class:"flex items-center flex-1"},R={class:"w-1/3"},z={class:"min-w-full divide-y divide-gray-200"},H={key:0,class:"px-6 py-3 bg-gray-50 text-left text-xs leading-4 font-medium text-gray-500 uppercase tracking-wider"},G={class:"bg-white divide-y divide-gray-200 text-xs"},J={class:"px-6 py-4 whitespace-nowrap"},Q={class:"px-6 py-4 whitespace-nowrap"},W={class:"px-6 py-4 whitespace-nowrap uppercase"},X={class:"px-6 py-4"},Y={class:"px-6 py-4"},Z={class:"px-6 py-4"},$={class:"px-6 py-4"},ee={key:0,class:"px-6 py-4 whitespace-nowrap"},te=["onClick"],se=["onClick"],oe={key:0,ref:"isOpen",class:"fixed z-10 inset-0 overflow-y-auto ease-out duration-400"},re={class:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0"},ie={class:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full",role:"dialog","aria-modal":"true","aria-labelledby":"modal-headline"},le={class:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4"},ne={class:""},ae={class:"mb-4"},de={key:0,class:"text-red-500"},me={class:"mb-4"},pe={class:"flex space-x-4"},ue={class:"inline-flex items-center"},ce={class:"inline-flex items-center"},fe={class:"inline-flex items-center"},ge={class:"inline-flex items-center"},xe={key:0,class:"text-red-500"},be={class:"mb-4"},ye={key:0,class:"text-red-500"},ve={class:"mb-4"},we={class:"flex rounded-md shadow-sm"},he={key:0,class:"text-red-500"},ke={class:"mb-4"},_e={class:"flex rounded-md shadow-sm"},Ee={key:0,class:"text-red-500"},Me={class:"mb-4"},Te={key:0,class:"text-red-500"},qe={class:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse"},De={class:"flex w-full rounded-md shadow-sm sm:ml-3 sm:w-auto"},Ue={"wire:click.prevent":"submit",type:"submit",class:"inline-flex items-center r px-4 py-2 bg-gray-800 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-gray-700 active:bg-gray-900 focus:outline-none focus:border-gray-900 focus:ring focus:ring-gray-300 disabled:opacity-25 transition"},Ce={class:"flex w-full rounded-md shadow-sm sm:ml-3 sm:w-auto"},Se={"wire:click.prevent":"submit",type:"submit",class:"inline-flex items-center px-4 py-2 bg-gray-800 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-gray-700 active:bg-gray-900 focus:outline-none focus:border-gray-900 focus:ring focus:ring-gray-300 disabled:opacity-25 transition"},Ve={class:"mt-3 flex w-full rounded-md shadow-sm sm:mt-0 sm:w-auto"};function Pe(i,e,u,o,g,c){const v=_("Pagination"),w=_("app-layout");return l(),E(w,null,{header:M(()=>e[14]||(e[14]=[t("h2",{class:"font-semibold text-xl text-white leading-tight"},"Material Device Info",-1)])),default:M(()=>[t("div",B,[t("div",I,[t("div",L,[t("div",F,[t("div",K,[t("div",R,[a(t("input",{"onUpdate:modelValue":e[0]||(e[0]=s=>o.search=s),type:"text",placeholder:"Search device...",class:"w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",onKeyup:e[1]||(e[1]=C((...s)=>o.searchTsp&&o.searchTsp(...s),["enter"]))},null,544),[[f,o.search]])])]),i.$page.props.login_type=="internal"?(l(),d("button",{key:0,onClick:e[2]||(e[2]=(...s)=>o.openModal&&o.openModal(...s)),class:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded"}," Add Device ")):m("",!0)]),t("table",z,[t("thead",null,[t("tr",null,[e[15]||(e[15]=t("th",{class:"px-6 py-3 bg-gray-50 text-left text-xs leading-4 font-medium text-gray-500 uppercase tracking-wider"},"No.",-1)),e[16]||(e[16]=t("th",{class:"px-6 py-3 bg-gray-50 text-left text-xs leading-4 font-medium text-gray-500 uppercase tracking-wider"},"Name",-1)),e[17]||(e[17]=t("th",{class:"px-6 py-3 bg-gray-50 text-left text-xs leading-4 font-medium text-gray-500 uppercase tracking-wider"},"Type",-1)),e[18]||(e[18]=t("th",{class:"px-6 py-3 bg-gray-50 text-left text-xs leading-4 font-medium text-gray-500 uppercase tracking-wider"},"Details",-1)),e[19]||(e[19]=t("th",{class:"px-6 py-3 bg-gray-50 text-left text-xs leading-4 font-medium text-gray-500 uppercase tracking-wider"},"Price",-1)),e[20]||(e[20]=t("th",{class:"px-6 py-3 bg-gray-50 text-left text-xs leading-4 font-medium text-gray-500 uppercase tracking-wider"},"Date",-1)),e[21]||(e[21]=t("th",{class:"px-6 py-3 bg-gray-50 text-left text-xs leading-4 font-medium text-gray-500 uppercase tracking-wider"},"Status",-1)),i.$page.props.login_type=="internal"?(l(),d("th",H,"Actions")):m("",!0)])]),t("tbody",G,[(l(!0),d(V,null,S(u.equiptments.data,(s,x)=>(l(),d("tr",{key:s.id},[t("td",J,n(x+1),1),t("td",Q,n(s.name),1),t("td",W,n(s.type),1),t("td",X,n(s.detail),1),t("td",Y,n(s.price)+" MMK",1),t("td",Z,n(s.date),1),t("td",$,n(s.is_active?"Active":"Disabled"),1),i.$page.props.login_type=="internal"?(l(),d("td",ee,[t("a",{href:"#",onClick:p=>o.edit(s),class:"text-indigo-600 hover:text-indigo-900 mr-3"},"Edit",8,te),t("a",{href:"#",onClick:p=>o.deleteRow(s),class:"text-red-600 hover:text-red-900"},"Delete",8,se)])):m("",!0)]))),128))])]),o.isOpen?(l(),d("div",oe,[t("div",re,[e[34]||(e[34]=t("div",{class:"fixed inset-0 transition-opacity"},[t("div",{class:"absolute inset-0 bg-gray-500 opacity-75"})],-1)),e[35]||(e[35]=t("span",{class:"hidden sm:inline-block sm:align-middle sm:h-screen"},null,-1)),e[36]||(e[36]=P("â€‹ ")),t("div",ie,[t("form",{onSubmit:e[13]||(e[13]=A((...s)=>o.submit&&o.submit(...s),["prevent"]))},[t("div",le,[t("div",ne,[t("div",ae,[e[22]||(e[22]=t("label",{for:"name",class:"block text-gray-700 text-sm font-bold mb-2"},"Equiptment Name:",-1)),a(t("input",{type:"text",class:"mt-1 focus:ring-indigo-500 focus:border-indigo-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md",id:"name",placeholder:"Enter Equiptment Name","onUpdate:modelValue":e[3]||(e[3]=s=>o.form.name=s)},null,512),[[f,o.form.name]]),i.$page.props.errors.name?(l(),d("div",de,n(i.$page.props.errors.name[0]),1)):m("",!0)]),t("div",me,[e[27]||(e[27]=t("label",{for:"name",class:"block text-gray-700 text-sm font-bold mb-2"},"Equiptment Usage:",-1)),t("div",pe,[t("label",ue,[a(t("input",{type:"radio",class:"form-radio",value:"ftth","onUpdate:modelValue":e[4]||(e[4]=s=>o.form.type=s)},null,512),[[y,o.form.type]]),e[23]||(e[23]=t("span",{class:"ml-2"},"FTTH",-1))]),t("label",ce,[a(t("input",{type:"radio",class:"form-radio",value:"dia","onUpdate:modelValue":e[5]||(e[5]=s=>o.form.type=s)},null,512),[[y,o.form.type]]),e[24]||(e[24]=t("span",{class:"ml-2"},"DIA",-1))]),t("label",fe,[a(t("input",{type:"radio",class:"form-radio",value:"iplc","onUpdate:modelValue":e[6]||(e[6]=s=>o.form.type=s)},null,512),[[y,o.form.type]]),e[25]||(e[25]=t("span",{class:"ml-2"},"IPLC",-1))]),t("label",ge,[a(t("input",{type:"radio",class:"form-radio",value:"dplc","onUpdate:modelValue":e[7]||(e[7]=s=>o.form.type=s)},null,512),[[y,o.form.type]]),e[26]||(e[26]=t("span",{class:"ml-2"},"DPLC",-1))])]),i.$page.props.errors.name?(l(),d("div",xe,n(i.$page.props.errors.name[0]),1)):m("",!0)]),t("div",be,[e[28]||(e[28]=t("label",{for:"detail",class:"block text-gray-700 text-sm font-bold mb-2"},"Equiptment Detail:",-1)),a(t("textarea",{class:"mt-1 focus:ring-indigo-500 focus:border-indigo-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md",id:"detail",placeholder:"Enter Details Info","onUpdate:modelValue":e[8]||(e[8]=s=>o.form.detail=s)},null,512),[[f,o.form.detail]]),i.$page.props.errors.detail?(l(),d("div",ye,n(i.$page.props.errors.detail[0]),1)):m("",!0)]),t("div",ve,[e[30]||(e[30]=t("label",{for:"name",class:"block text-gray-700 text-sm font-bold mb-2"},"Price :",-1)),t("div",we,[a(t("input",{type:"number",class:"mt-1 focus:ring-indigo-500 focus:border-indigo-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-l-md",id:"name",placeholder:"Enter Price","onUpdate:modelValue":e[9]||(e[9]=s=>o.form.price=s)},null,512),[[f,o.form.price]]),e[29]||(e[29]=t("span",{class:"mt-1 inline-flex items-center px-3 rounded-r-md border border-l-0 border-gray-300 bg-gray-50 text-gray-500 text-sm uppercase"}," MMK ",-1))]),i.$page.props.errors.price?(l(),d("div",he,n(i.$page.props.errors.price[0]),1)):m("",!0)]),t("div",ke,[e[31]||(e[31]=t("label",{for:"date",class:"block text-gray-700 text-sm font-bold mb-2"},"Date :",-1)),t("div",_e,[a(t("input",{type:"date",class:"mt-1 focus:ring-indigo-500 focus:border-indigo-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md",id:"date",placeholder:"Enter Date","onUpdate:modelValue":e[10]||(e[10]=s=>o.form.date=s)},null,512),[[f,o.form.date]])]),i.$page.props.errors.date?(l(),d("div",Ee,n(i.$page.props.errors.date[0]),1)):m("",!0)]),t("div",Me,[e[32]||(e[32]=t("label",{for:"name",class:"block text-gray-700 text-sm font-bold mb-2"},"Is Active :",-1)),a(t("input",{type:"checkbox",id:"is_active","onUpdate:modelValue":e[11]||(e[11]=s=>o.form.is_active=s),class:"mr-2 leading-tight rounded-sm"},null,512),[[N,o.form.is_active]]),e[33]||(e[33]=t("label",{for:"is_active",class:"text-gray-700 text-sm font-bold"}," Active ",-1)),i.$page.props.errors.price?(l(),d("div",Te,n(i.$page.props.errors.price[0]),1)):m("",!0)])])]),t("div",qe,[t("span",De,[a(t("button",Ue," Save ",512),[[T,!o.editMode]])]),t("span",Ce,[a(t("button",Se," Update ",512),[[T,o.editMode]])]),t("span",Ve,[t("button",{onClick:e[12]||(e[12]=(...s)=>o.closeModal&&o.closeModal(...s)),type:"button",class:"inline-flex justify-center w-full rounded-md border border-gray-300 px-4 py-2 bg-white text-base leading-6 font-medium text-gray-700 shadow-sm hover:text-gray-500 focus:outline-none focus:border-blue-300 focus:shadow-outline-blue transition ease-in-out duration-150 sm:text-sm sm:leading-5"}," Cancel ")])])],32)])])],512)):m("",!0)]),u.equiptments.links?(l(),E(v,{key:0,links:u.equiptments.links,class:"mt-6"},null,8,["links"])):m("",!0)])])]),_:1})}const Le=O(j,[["render",Pe]]);export{Le as default};
