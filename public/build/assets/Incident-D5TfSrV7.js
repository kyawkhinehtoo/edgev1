import{A as me,N as ce}from"./NoData-CMoasrAh.js";import{_ as pe}from"./InputLabel-Cj7F8OT7.js";import{_ as Y}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{r as w,p as $,o,d as l,a as e,O as Z,F as z,g as G,e as r,t as d,C as O,T as se,z as oe,q as N,s as x,v as b,b as L,A as B,N as A,K as ue,f as D,D as F,c as E,w as fe,L as ge,y as X,n as M,M as J,x as ye}from"./app-DdoqqyeN.js";import{M as ee}from"./vue3-multiselect.umd.min-BtFOAPRA.js";import{U as xe}from"./Upload-dNy6avhH.js";import{P as be}from"./Pagination-BDaU9i64.js";import{V as _e}from"./main-BS23juub.js";import"./DropdownLink-DupIRA2Y.js";const ve={components:{Label:pe},name:"IncidentAlert",emits:["show_edit"],setup(i,t){let g=w("Loading .."),s=w("Loading ..");const C=async()=>{let u="/incidentOverdue";console.log(u);try{return await(await fetch(u)).json()}catch(S){console.error(S)}},v=async()=>{let u="/incidentRemain";console.log(u);try{return await(await fetch(u)).json()}catch(S){console.error(S)}};function y(u){let S=u%3600/60,j=u%(24*3600)/3600,T=u/(24*3600),n=null;if(u>=86400){let h=T-Math.floor(T);T=T-h,h=h*24;let P=h-Math.floor(h);h=h-P,h!=0?n=T+" d, "+h+" hr":n=T+" d"}else if(u>1440){let h=j-Math.floor(j),P=j-h;h=Math.round(h*60),P!=0?n=P+" hr,"+h+" m":n=h+" m"}else n=Math.round(S)+" m";return n}function m(u){let S=2592e3;return S-u/100*S}function k(u){t.emit("show_edit",u)}function U(){C().then(u=>{g.value=u}),v().then(u=>{s.value=u})}return $(()=>{U()}),{bundle:g,remain:s,getList:U,getDay:y,percenttosecond:m,doEdit:k}}},we={class:"w-full flex justify-between text-sm px-2"},ke={key:0},he={class:"min-w-full divide-y divide-gray-200 mt-1 shadow-xl"},Ce={class:"bg-white rounded-b-lg divide-y divide-gray-200 text-sm text-center max-h-80 overflow-auto block scrollbar-thin scrollbar-thumb-gray-400 scrollbar-track-white w-full"},Te=["onClick"],Ve={class:"px-2 py-2 whitespace-nowrap col-span-1"},Se={class:"px-2 py-2 whitespace-nowrap col-span-1"},Ue={class:"px-2 py-2 whitespace-nowrap col-span-1"};function De(i,t,g,s,C,v){return o(),l(z,null,[e("div",we,[t[2]||(t[2]=e("label",{class:"mt-5 uppercase text-md"}," Ticket Overdue Hours Chart",-1)),e("button",{onClick:t[0]||(t[0]=y=>s.getList()),class:"my-2 ml-2 align-right text-center items-center px-3 py-2 bg-indigo-500 border border-transparent rounded-sm font-semibold text-xs text-white uppercase tracking-widest hover:bg-indigo-400 active:bg-indigo-600 focus:outline-none focus:border-gray-900 disabled:opacity-25 transition mr-1"},t[1]||(t[1]=[e("i",{class:"fas fa-sync opacity-75 text-sm"},null,-1)]))]),s.bundle?(o(),l("div",ke,[t[4]||(t[4]=e("h2",{class:"m-2 uppercase text-md"},null,-1)),e("div",he,[t[3]||(t[3]=Z('<div class="bg-gray-50 text-center inline-grid grid-cols-4 gap-2rounded-t-lg w-full" data-v-11ba7e6d><div class="px-2 py-3 text-xs font-medium text-gray-500 uppercase tracking-wider col-span-1" data-v-11ba7e6d>Ticket ID</div><div class="px-2 py-3 text-xs font-medium text-gray-500 uppercase tracking-wider col-span-1" data-v-11ba7e6d>SLA Overdue</div><div class="px-2 py-3 text-xs font-medium text-gray-500 uppercase tracking-wider col-span-1" data-v-11ba7e6d>Actual Hrs</div><div class="px-2 py-3 text-xs font-medium text-gray-500 uppercase tracking-wider col-span-1" data-v-11ba7e6d>Based SLA</div></div>',1)),e("div",Ce,[(o(!0),l(z,null,G(s.bundle,y=>(o(),l("div",{key:y.id,class:"cursor-pointer inline-grid grid-cols-4 gap-2 w-full"},[e("div",{class:"px-2 py-2 whitespace-nowrap col-span-1",onClick:m=>s.doEdit(y)},d(y.code),9,Te),e("div",Ve,d(s.getDay(y.over)),1),e("div",Se,d(s.getDay(y.diff)),1),e("div",Ue,d(y.percentage),1)]))),128))])])])):r("",!0)],64)}const je=Y(ve,[["render",De],["__scopeId","data-v-11ba7e6d"]]),Ie={name:"IncidentDetail",emits:["loading"],emits:["selected_id"],components:{Multiselect:ee},props:{errors:Object,data:Object,parentform:Object},setup(i,t){const g=O("noc"),s=O("team"),C=O("user"),v=O("incidents"),y=O("customers"),m=O("townships"),k=O("packages"),U=O("parent_form");let u=w(),S=w(!1),j=w(!1),T=w(null);const n=se({id:null,code:null,priority:"normal",customer_id:null,incharge_id:s.filter(p=>p.id==C.id)[0],type:"default",topic:null,status:1,start_date:null,end_date:null,new_address:null,new_township:null,latitude:null,longitude:null,package_id:null,description:null,date:null,time:null,close_date:null,close_time:null,resolved_date:null,resolved_time:null});function h(){T.value=null,S.value=!1,n.id="",n.code="",n.priority="normal",n.customer_id="",n.incharge_id=s.filter(p=>p.id==C.id)[0],n.type="default",n.topic="",n.status=1,n.start_date="",n.end_date="",n.new_address="",n.new_township="",n.latitude="",n.longitude="",n.package_id="",n.description="",n.date="",n.time="",n.close_date="",n.close_time="",n.resolved_date="",n.resolved_time=""}function P(){S.value!=!0?(n._method="POST",A.post("/incident",n,{preserveState:!0,onSuccess:p=>{T.value=p.props.response.id;let f=v.data.filter(_=>_.id==T.value)[0];S.value=!0,t.emit("selected_id",T.value),t.emit("loading",!1),f!==void 0&&(console.log("response is : "+f),a(f)),Toast.fire({icon:"success",title:p.props.flash.message})},onError:p=>{t.emit("loading",!1),console.log("error ..")},onStart:p=>{t.emit("loading",!0)}})):(n._method="PUT",A.post("/incident/"+n.id,n,{onSuccess:p=>{Toast.fire({icon:"success",title:p.props.flash.message}),t.emit("loading",!1)},onError:p=>{t.emit("loading",!1),console.log("error .."+p)},onStart:p=>{t.emit("loading",!0)}}))}function a(p){let f=null;T.value=p.id,S.value=!0,p.location!=null&&(f=p.location.split(",",2),n.latitude=f[0],n.longitude=f[1]),n.id=p.id,n.code=p.code,n.priority=p.priority,n.customer_id=y.filter(_=>_.id==p.customer_id)[0],n.incharge_id=g.filter(_=>_.id==p.incharge_id)[0],n.type=p.type,n.topic=p.topic,n.status=p.status,n.start_date=p.start_date,n.end_date=p.end_date,n.new_address=p.new_address,n.new_township=m.filter(_=>_.id==p.new_township)[0],n.package_id=k.filter(_=>_.id==p.package_id)[0],n.description=p.description,n.date=p.date,n.time=p.time,n.close_date=p.close_date,n.close_time=p.close_time,n.resolved_date=p.resolved_date,n.resolved_time=p.resolved_time}function R(p){S.value=!0,n.priority=p.priority}function H(p){let f="Open";return p==1?f="Open":p==2?f="Escalated":p==3?f="Closed":p==4?f="Deleted":p==5&&(f="Resolved"),f}function K(p){confirm("Are you sure want to remove?")&&(n._method="PUT",n.status=4,A.post("/incident/"+n.id,n,{onSuccess:f=>{Toast.fire({icon:"success",title:f.props.flash.message})},onError:f=>{console.log("error .."+f)}}))}const W=async()=>{let p="/getIncident/"+i.data;console.log(p);try{return t.emit("loading",!0),await(await fetch(p)).json()}catch(f){t.emit("loading",!1),console.error(f)}},q=()=>{W().then(p=>{u.value=p})};return $(()=>{console.log("Incident Detail - onMounted"),i.data&&(T.value=i.data,W().then(p=>{t.emit("loading",!1),p!==void 0?(console.log("appending response"),a(p),console.log("show parent form"),console.log(U),U&&R(U)):console.log("not appending response")})),k.map(function(p){return p.item_data=`${p.speed} Mbps - ${p.name} - ${p.contract_period} Months`})}),oe(()=>{console.log("Incident Detail - onUpdated"),k.map(function(p){return p.item_data=`${p.speed} Mbps - ${p.name} - ${p.contract_period} Months`})}),{loading:j,getIncident:W,calculate:q,deleteIncident:K,doSubmit:P,getStatus:H,form:n,clearform:h,customers:y,team:s,townships:m,packages:k,openForm:R,editMode:S,edit:a}}},Me={class:"grid grid-cols-5 gap-2"},Oe={class:"py-2 col-span-2 sm:col-span-2"},Pe={class:"mt-1 flex rounded-md shadow-sm"},Ne={key:0,class:"mt-2 text-sm text-red-500"},Le={class:"py-2 col-span-2 sm:col-span-2"},Ae={class:"mt-1 flex rounded-md shadow-sm"},ze={key:0,class:"mt-2 text-sm text-red-500"},Be={class:"py-2 col-span-4 sm:col-span-4"},Ee={key:0,class:"mt-1 flex rounded-md shadow-sm"},Re={key:1,class:"mt-2 text-sm text-red-500"},Fe={class:"py-2 col-span-4 sm:col-span-4"},He={key:0,class:"mt-1 flex rounded-md shadow-sm"},Ye={key:1,class:"mt-2 text-sm text-red-500"},$e={class:"py-2 col-span-4 sm:col-span-4"},We={class:"mt-1 flex"},Ge={key:0,class:"mt-2 text-sm text-red-500"},Ke={key:0,class:"py-2 col-span-1 sm:col-span-1"},qe={key:1,class:"py-2 col-span-4 sm:col-span-4"},Je={class:"mt-1 flex"},Qe={key:0,class:"mt-2 text-sm text-red-500"},Xe={class:"py-2 col-span-4 sm:col-span-4"},Ze={class:"mt-1 flex"},et={key:0,class:"mt-2 text-sm text-red-500"},tt={key:2,class:"py-2 col-span-1 sm:col-span-1"},st={key:3,class:"py-2 col-span-2 sm:col-span-2"},ot={class:"mt-1 flex rounded-md shadow-sm"},lt={key:0,class:"mt-2 text-sm text-red-500"},rt={key:4,class:"py-2 col-span-2 sm:col-span-2"},it={class:"mt-1 flex rounded-md shadow-sm"},nt={key:0,class:"mt-2 text-sm text-red-500"},at={key:5,class:"py-2 col-span-1 sm:col-span-1"},dt={key:6,class:"py-2 col-span-2 sm:col-span-2"},mt={class:"mt-1 flex rounded-md shadow-sm"},ct={key:0,class:"mt-2 text-sm text-red-500"},pt={key:7,class:"py-2 col-span-2 sm:col-span-2"},ut={class:"mt-1 flex rounded-md shadow-sm"},ft={key:0,class:"mt-2 text-sm text-red-500"},gt={key:8,class:"py-2 col-span-1 sm:col-span-1"},yt={key:9,class:"py-2 col-span-4 sm:col-span-4"},xt={class:"grid grid-cols-2 gap-2"},bt={class:"col-span-1 sm:col-span-1"},_t={class:"mt-1 flex rounded-md shadow-sm"},vt={key:0,class:"mt-2 text-sm text-red-500"},wt={class:"col-span-1 sm:col-span-1"},kt={class:"mt-1 flex rounded-md shadow-sm"},ht={key:0,class:"mt-2 text-sm text-red-500"},Ct={key:10,class:"py-2 col-span-1 sm:col-span-1"},Tt={key:11,class:"py-2 col-span-4 sm:col-span-4"},Vt={class:"mt-1 flex rounded-md shadow-sm"},St={key:0,class:"mt-2 text-sm text-red-500"},Ut={key:12,class:"py-2 col-span-1 sm:col-span-1"},Dt={key:13,class:"py-2 col-span-4 sm:col-span-4"},jt={class:"mt-1 flex rounded-md shadow-sm"},It={key:0,class:"mt-2 text-sm text-red-500"},Mt={key:14,class:"py-2 col-span-1 sm:col-span-1"},Ot={key:15,class:"py-2 col-span-4 sm:col-span-4"},Pt={class:"mt-1 flex"},Nt={key:0,class:"mt-2 text-sm text-red-500"},Lt={key:16,class:"py-2 col-span-1 sm:col-span-1"},At={key:17,class:"py-2 col-span-4 sm:col-span-4"},zt={key:0,class:"mt-1 flex rounded-md shadow-sm"},Bt={key:1,class:"mt-2 text-sm text-red-500"},Et={key:18,class:"py-2 col-span-1 sm:col-span-1"},Rt={key:19,class:"py-2 col-span-4 sm:col-span-4"},Ft={class:"grid grid-cols-2 gap-2"},Ht={class:"col-span-1 sm:col-span-1"},Yt={class:"mt-1 flex rounded-md shadow-sm"},$t={key:0,class:"mt-2 text-sm text-red-500"},Wt={class:"col-span-1 sm:col-span-1"},Gt={class:"mt-1 flex rounded-md shadow-sm"},Kt={key:0,class:"mt-2 text-sm text-red-500"},qt={key:20,class:"py-2 col-span-1 sm:col-span-1"},Jt={key:21,class:"py-2 col-span-4 sm:col-span-4"},Qt={class:"mt-1 flex rounded-md shadow-sm"},Xt={key:0,class:"mt-2 text-sm text-red-500"},Zt={key:22,class:"py-2 col-span-1 sm:col-span-1"},es={key:23,class:"py-2 col-span-4 sm:col-span-4"},ts={key:0,class:"mt-1 flex rounded-md shadow-sm"},ss={key:1,class:"mt-2 text-sm text-red-500"},os={key:24,class:"py-2 col-span-1 sm:col-span-1"},ls={key:25,class:"py-2 col-span-4 sm:col-span-4"},rs={class:"mt-1 flex rounded-md shadow-sm"},is={key:0,class:"mt-2 text-sm text-red-500"},ns={class:"py-2 col-span-4 sm:col-span-4"},as={class:"mt-1 flex"},ds={key:0,class:"mt-2 text-sm text-red-500"},ms={key:0,class:"fixed top-0 left-0 right-0 bottom-0 w-full h-screen z-50 overflow-hidden bg-gray-700 opacity-75 flex flex-col items-center justify-center"};function cs(i,t,g,s,C,v){const y=N("multiselect");return o(),l(z,null,[e("div",Me,[t[46]||(t[46]=e("div",{class:"py-2 col-span-1 sm:col-span-1"},[e("div",{class:"mt-1 flex"},[e("label",{for:"date",class:"block text-sm font-medium text-gray-700 mt-2 mr-2"},"Incident Detail : ")])],-1)),e("div",Oe,[e("div",Pe,[x(e("input",{type:"date","onUpdate:modelValue":t[0]||(t[0]=m=>s.form.date=m),name:"date",id:"date",class:"form-input focus:ring-indigo-500 focus:border-indigo-500 flex-1 block w-full rounded-md sm:text-sm border-gray-300"},null,512),[[b,s.form.date]])]),i.$page.props.errors.date?(o(),l("p",Ne,d(i.$page.props.errors.date),1)):r("",!0)]),e("div",Le,[e("div",Ae,[x(e("input",{type:"time","onUpdate:modelValue":t[1]||(t[1]=m=>s.form.time=m),name:"time",class:"form-input focus:ring-indigo-500 focus:border-indigo-500 flex-1 block w-full rounded-md sm:text-sm border-gray-300"},null,512),[[b,s.form.time]])]),i.$page.props.errors.time?(o(),l("p",ze,d(i.$page.props.errors.time),1)):r("",!0)]),t[47]||(t[47]=e("div",{class:"py-2 col-span-1 sm:col-span-1"},[e("div",{class:"mt-1 flex"},[e("label",{for:"first_name",class:"block text-sm font-medium text-gray-700 mt-2 mr-2"}," User ID : ")])],-1)),e("div",Be,[s.customers.length!==0?(o(),l("div",Ee,[L(y,{"deselect-label":"Selected already",options:s.customers,"track-by":"id",label:"ftth_id",modelValue:s.form.customer_id,"onUpdate:modelValue":t[2]||(t[2]=m=>s.form.customer_id=m),"allow-empty":!1},null,8,["options","modelValue"])])):r("",!0),i.$page.props.errors.customer?(o(),l("p",Re,d(i.$page.props.errors.customer),1)):r("",!0)]),t[48]||(t[48]=e("div",{class:"py-2 col-span-1 sm:col-span-1"},[e("div",{class:"mt-1 flex"},[e("label",{for:"incharge",class:"block text-sm font-medium text-gray-700 mt-2 mr-2"}," Person Incharge : ")])],-1)),e("div",Fe,[s.team.length!==0?(o(),l("div",He,[L(y,{"deselect-label":"Selected already",options:s.team,"track-by":"id",label:"name",modelValue:s.form.incharge_id,"onUpdate:modelValue":t[3]||(t[3]=m=>s.form.incharge_id=m),"allow-empty":!1,disabled:!0},null,8,["options","modelValue"])])):r("",!0),i.$page.props.errors.incharge?(o(),l("p",Ye,d(i.$page.props.errors.incharge),1)):r("",!0)]),t[49]||(t[49]=e("div",{class:"py-2 col-span-1 sm:col-span-1"},[e("div",{class:"mt-1 flex"},[e("label",{for:"type",class:"block text-sm font-medium text-gray-700 mt-2 mr-2"}," Type : ")])],-1)),e("div",$e,[e("div",We,[x(e("select",{"onUpdate:modelValue":t[4]||(t[4]=m=>s.form.type=m),class:"focus:ring-indigo-500 focus:border-indigo-500 flex-1 block w-full rounded-md sm:text-sm border-gray-300",required:""},t[23]||(t[23]=[Z('<option value="default">Please Choose Ticket Type</option><option value="service_complaint">Service Complaint</option><option value="gaming_issue">Gaming Issue</option><option value="relocation">Relocation</option><option value="plan_change">Plan Change</option><option value="information_update">Information Update</option><option value="suspension">Suspension</option><option value="resume">Resume</option><option value="termination">Termination</option>',9)]),512),[[B,s.form.type]])]),i.$page.props.errors.type?(o(),l("p",Ge,d(i.$page.props.errors.type),1)):r("",!0)]),s.form.type=="service_complaint"?(o(),l("div",Ke,t[24]||(t[24]=[e("div",{class:"mt-1 flex"},[e("label",{for:"topic",class:"block text-sm font-medium text-gray-700 mt-2 mr-2"}," Topic : ")],-1)]))):r("",!0),s.form.type=="service_complaint"?(o(),l("div",qe,[e("div",Je,[x(e("select",{"onUpdate:modelValue":t[5]||(t[5]=m=>s.form.topic=m),class:"focus:ring-indigo-500 focus:border-indigo-500 flex-1 block w-full rounded-md sm:text-sm border-gray-300"},t[25]||(t[25]=[Z('<option value="no_internet">No Internet</option><option value="los_redlight">LOS Redlight</option><option value="slow_performance">Slow Performance</option><option value="wifi_issue">Wifi Issue</option><option value="onu_issue">ONU Issue</option><option value="password_change">Password Changed</option><option value="other">Other</option>',7)]),512),[[B,s.form.topic]])]),i.$page.props.errors.topic?(o(),l("p",Qe,d(i.$page.props.errors.topic),1)):r("",!0)])):r("",!0),t[50]||(t[50]=e("div",{class:"py-2 col-span-1 sm:col-span-1"},[e("div",{class:"mt-1 flex"},[e("label",{for:"first_name",class:"block text-sm font-medium text-gray-700 mt-2 mr-2"}," Status : ")])],-1)),e("div",Xe,[e("div",Ze,[x(e("select",{"onUpdate:modelValue":t[6]||(t[6]=m=>s.form.status=m),class:"focus:ring-indigo-500 focus:border-indigo-500 flex-1 block w-full rounded-md sm:text-sm border-gray-300"},t[26]||(t[26]=[e("option",{value:"1"},"Open",-1),e("option",{value:"2",disabled:""},"Escalated",-1),e("option",{value:"5",disabled:""},"Resolved",-1),e("option",{value:"3"},"Closed",-1)]),512),[[B,s.form.status]])]),i.$page.props.errors.status?(o(),l("p",et,d(i.$page.props.errors.status),1)):r("",!0)]),s.form.status==3?(o(),l("div",tt,t[27]||(t[27]=[e("div",{class:"mt-1 flex"},[e("label",{for:"date",class:"block text-sm font-medium text-gray-700 mt-2 mr-2"}," Incident Close Period : ")],-1)]))):r("",!0),s.form.status==3?(o(),l("div",st,[e("div",ot,[x(e("input",{type:"date","onUpdate:modelValue":t[7]||(t[7]=m=>s.form.close_date=m),name:"close_date",id:"close_date",class:"form-input focus:ring-indigo-500 focus:border-indigo-500 flex-1 block w-full rounded-md sm:text-sm border-gray-300"},null,512),[[b,s.form.close_date]])]),i.$page.props.errors.close_date?(o(),l("p",lt,d(i.$page.props.errors.close_date),1)):r("",!0)])):r("",!0),s.form.status==3?(o(),l("div",rt,[e("div",it,[x(e("input",{type:"time","onUpdate:modelValue":t[8]||(t[8]=m=>s.form.close_time=m),name:"close_time",class:"form-input focus:ring-indigo-500 focus:border-indigo-500 flex-1 block w-full rounded-md sm:text-sm border-gray-300"},null,512),[[b,s.form.close_time]])]),i.$page.props.errors.close_time?(o(),l("p",nt,d(i.$page.props.errors.close_time),1)):r("",!0)])):r("",!0),s.form.status==5?(o(),l("div",at,t[28]||(t[28]=[e("div",{class:"mt-1 flex"},[e("label",{for:"date",class:"block text-sm font-medium text-gray-700 mt-2 mr-2"}," Incident Resolved Period : ")],-1)]))):r("",!0),s.form.status==5?(o(),l("div",dt,[e("div",mt,[x(e("input",{type:"date","onUpdate:modelValue":t[9]||(t[9]=m=>s.form.resolved_date=m),name:"close_date",id:"close_date",class:"form-input focus:ring-indigo-500 focus:border-indigo-500 flex-1 block w-full rounded-md sm:text-sm border-gray-300"},null,512),[[b,s.form.resolved_date]])]),i.$page.props.errors.resolved_date?(o(),l("p",ct,d(i.$page.props.errors.resolved_date),1)):r("",!0)])):r("",!0),s.form.status==5?(o(),l("div",pt,[e("div",ut,[x(e("input",{type:"time","onUpdate:modelValue":t[10]||(t[10]=m=>s.form.resolved_time=m),name:"close_time",class:"form-input focus:ring-indigo-500 focus:border-indigo-500 flex-1 block w-full rounded-md sm:text-sm border-gray-300"},null,512),[[b,s.form.resolved_time]])]),i.$page.props.errors.resolved_time?(o(),l("p",ft,d(i.$page.props.errors.resolved_time),1)):r("",!0)])):r("",!0),s.form.type=="suspension"?(o(),l("div",gt,t[29]||(t[29]=[e("div",{class:"mt-1 flex"},[e("label",{for:"suspense",class:"block text-sm font-medium text-gray-700 mt-2 mr-2"}," Suspense Period : ")],-1)]))):r("",!0),s.form.type=="suspension"?(o(),l("div",yt,[e("div",xt,[e("div",bt,[e("div",_t,[t[30]||(t[30]=e("span",{class:"-mt-1 z-10 leading-snug font-normal absolute text-center text-gray-300 absolute bg-transparent rounded text-base items-center justify-center w-8 pl-3 py-3"},[e("i",{class:"fas fa-pause"})],-1)),x(e("input",{type:"date","onUpdate:modelValue":t[11]||(t[11]=m=>s.form.start_date=m),name:"start_date",id:"start_date",class:"pl-10 form-input focus:ring-indigo-500 focus:border-indigo-500 flex-1 block w-full rounded-md sm:text-sm border-gray-300"},null,512),[[b,s.form.start_date]])]),i.$page.props.errors.start_date?(o(),l("p",vt,d(i.$page.props.errors.start_date),1)):r("",!0)]),e("div",wt,[e("div",kt,[t[31]||(t[31]=e("span",{class:"-mt-1 z-10 leading-snug font-normal absolute text-center text-gray-300 absolute bg-transparent rounded text-base items-center justify-center w-8 pl-3 py-3"},[e("i",{class:"fas fa-play"})],-1)),x(e("input",{type:"date","onUpdate:modelValue":t[12]||(t[12]=m=>s.form.end_date=m),name:"end_date",id:"end_date",class:"pl-10 form-input focus:ring-indigo-500 focus:border-indigo-500 flex-1 block w-full rounded-md sm:text-sm border-gray-300"},null,512),[[b,s.form.end_date]])]),i.$page.props.errors.end_date?(o(),l("p",ht,d(i.$page.props.errors.end_date),1)):r("",!0)])])])):r("",!0),s.form.type=="resume"?(o(),l("div",Ct,t[32]||(t[32]=[e("div",{class:"mt-1 flex"},[e("label",{for:"resume",class:"block text-sm font-medium text-gray-700 mt-2 mr-2"}," Resume Date : ")],-1)]))):r("",!0),s.form.type=="resume"?(o(),l("div",Tt,[e("div",Vt,[t[33]||(t[33]=e("span",{class:"z-10 -mt-1 leading-snug font-normal absolute text-center text-gray-300 absolute bg-transparent rounded text-base items-center justify-center w-8 pl-3 py-3"},[e("i",{class:"fas fa-play"})],-1)),x(e("input",{type:"date","onUpdate:modelValue":t[13]||(t[13]=m=>s.form.start_date=m),name:"start_date",id:"start_date",class:"pl-10 form-input focus:ring-indigo-500 focus:border-indigo-500 flex-1 block w-full rounded-md sm:text-sm border-gray-300"},null,512),[[b,s.form.start_date]])]),i.$page.props.errors.resume?(o(),l("p",St,d(i.$page.props.errors.start_date),1)):r("",!0)])):r("",!0),s.form.type=="termination"?(o(),l("div",Ut,t[34]||(t[34]=[e("div",{class:"mt-1 flex"},[e("label",{for:"termination",class:"block text-sm font-medium text-gray-700 mt-2 mr-2"}," Termination Date : ")],-1)]))):r("",!0),s.form.type=="termination"?(o(),l("div",Dt,[e("div",jt,[t[35]||(t[35]=e("span",{class:"z-10 -mt-1 leading-snug font-normal absolute text-center text-gray-300 absolute bg-transparent rounded text-base items-center justify-center w-8 pl-3 py-3"},[e("i",{class:"fas fa-stop"})],-1)),x(e("input",{type:"date","onUpdate:modelValue":t[14]||(t[14]=m=>s.form.start_date=m),name:"start_date",id:"start_date",class:"pl-10 form-input focus:ring-indigo-500 focus:border-indigo-500 flex-1 block w-full rounded-md sm:text-sm border-gray-300"},null,512),[[b,s.form.start_date]])]),i.$page.props.errors.start_date?(o(),l("p",It,d(i.$page.props.errors.start_date),1)):r("",!0)])):r("",!0),s.form.type=="relocation"?(o(),l("div",Mt,t[36]||(t[36]=[e("div",{class:"mt-1 flex"},[e("label",{for:"new_address",class:"block text-sm font-medium text-gray-700 mt-2 mr-2"}," New Address : ")],-1)]))):r("",!0),s.form.type=="relocation"?(o(),l("div",Ot,[e("div",Pt,[x(e("textarea",{"onUpdate:modelValue":t[15]||(t[15]=m=>s.form.new_address=m),name:"new_address",id:"new_address",class:"focus:ring-indigo-500 focus:border-indigo-500 flex-1 block w-full rounded-md sm:text-sm border-gray-300"}," ",512),[[b,s.form.new_address]])]),i.$page.props.errors.new_address?(o(),l("p",Nt,d(i.$page.props.errors.new_address),1)):r("",!0)])):r("",!0),s.form.type=="relocation"?(o(),l("div",Lt,t[37]||(t[37]=[e("div",{class:"mt-1 flex"},[e("label",{for:"new_address",class:"block text-sm font-medium text-gray-700 mt-2 mr-2"}," New Township : ")],-1)]))):r("",!0),s.form.type=="relocation"?(o(),l("div",At,[s.townships.length!==0?(o(),l("div",zt,[L(y,{"deselect-label":"Selected already",options:s.townships,"track-by":"id",label:"name",modelValue:s.form.new_township,"onUpdate:modelValue":t[16]||(t[16]=m=>s.form.new_township=m),"allow-empty":!1},null,8,["options","modelValue"])])):r("",!0),i.$page.props.errors.new_township?(o(),l("p",Bt,d(i.$page.props.errors.new_township),1)):r("",!0)])):r("",!0),s.form.type=="relocation"?(o(),l("div",Et,t[38]||(t[38]=[e("div",{class:"mt-1 flex"},[e("label",{for:"new_latlong",class:"block text-sm font-medium text-gray-700 mt-2 mr-2"}," New Location : ")],-1)]))):r("",!0),s.form.type=="relocation"?(o(),l("div",Rt,[e("div",Ft,[e("div",Ht,[e("div",Yt,[t[39]||(t[39]=e("span",{class:"z-10 -mt-1 leading-snug font-normal absolute text-center text-gray-300 absolute bg-transparent rounded text-base items-center justify-center w-8 pl-3 py-3"},[e("i",{class:"fas fa-location-arrow"})],-1)),x(e("input",{type:"text","onUpdate:modelValue":t[17]||(t[17]=m=>s.form.latitude=m),name:"latitude",id:"latitude",class:"pl-10 form-input focus:ring-indigo-500 focus:border-indigo-500 flex-1 block w-full rounded-md sm:text-sm border-gray-300",placeholder:"Latitude"},null,512),[[b,s.form.latitude]])]),i.$page.props.errors.latitude?(o(),l("p",$t,d(i.$page.props.errors.latitude),1)):r("",!0)]),e("div",Wt,[e("div",Gt,[t[40]||(t[40]=e("span",{class:"z-10 -mt-1 leading-snug font-normal absolute text-center text-gray-300 absolute bg-transparent rounded text-base items-center justify-center w-8 pl-3 py-3"},[e("i",{class:"fas fa-location-arrow"})],-1)),x(e("input",{type:"text","onUpdate:modelValue":t[18]||(t[18]=m=>s.form.longitude=m),name:"longitude",id:"longitude",class:"pl-10 form-input focus:ring-indigo-500 focus:border-indigo-500 flex-1 block w-full rounded-md sm:text-sm border-gray-300",placeholder:"Longitude"},null,512),[[b,s.form.longitude]])]),i.$page.props.errors.longitude?(o(),l("p",Kt,d(i.$page.props.errors.longitude),1)):r("",!0)])])])):r("",!0),s.form.type=="relocation"?(o(),l("div",qt,t[41]||(t[41]=[e("div",{class:"mt-1 flex"},[e("label",{for:"new_address",class:"block text-sm font-medium text-gray-700 mt-2 mr-2"}," Effective Date : ")],-1)]))):r("",!0),s.form.type=="relocation"?(o(),l("div",Jt,[e("div",Qt,[t[42]||(t[42]=e("span",{class:"z-10 -mt-1 leading-snug font-normal absolute text-center text-gray-300 absolute bg-transparent rounded text-base items-center justify-center w-8 pl-3 py-3"},[e("i",{class:"fas fa-truck"})],-1)),x(e("input",{type:"date","onUpdate:modelValue":t[19]||(t[19]=m=>s.form.start_date=m),name:"start_date",id:"start_date",class:"pl-10 form-input focus:ring-indigo-500 focus:border-indigo-500 flex-1 block w-full rounded-md sm:text-sm border-gray-300"},null,512),[[b,s.form.start_date]])]),i.$page.props.errors.start_date?(o(),l("p",Xt,d(i.$page.props.errors.start_date),1)):r("",!0)])):r("",!0),s.form.type=="plan_change"?(o(),l("div",Zt,t[43]||(t[43]=[e("div",{class:"mt-1 flex"},[e("label",{for:"new_package",class:"block text-sm font-medium text-gray-700 mt-2 mr-2"}," New Package: ")],-1)]))):r("",!0),s.form.type=="plan_change"?(o(),l("div",es,[s.packages.length!==0?(o(),l("div",ts,[L(y,{"deselect-label":"Selected already",options:s.packages,"track-by":"id",label:"item_data",modelValue:s.form.package_id,"onUpdate:modelValue":t[20]||(t[20]=m=>s.form.package_id=m),"allow-empty":!1},null,8,["options","modelValue"])])):r("",!0),i.$page.props.errors.package?(o(),l("p",ss,d(i.$page.props.errors.package),1)):r("",!0)])):r("",!0),s.form.type=="plan_change"?(o(),l("div",os,t[44]||(t[44]=[e("div",{class:"mt-1 flex"},[e("label",{for:"new_address",class:"block text-sm font-medium text-gray-700 mt-2 mr-2"}," Effective Date : ")],-1)]))):r("",!0),s.form.type=="plan_change"?(o(),l("div",ls,[e("div",rs,[t[45]||(t[45]=e("span",{class:"z-10 -mt-1 leading-snug font-normal absolute text-center text-gray-300 absolute bg-transparent rounded text-base items-center justify-center w-8 pl-3 py-3"},[e("i",{class:"fas fa-random"})],-1)),x(e("input",{type:"date","onUpdate:modelValue":t[21]||(t[21]=m=>s.form.start_date=m),name:"start_date",id:"start_date",class:"pl-10 form-input focus:ring-indigo-500 focus:border-indigo-500 flex-1 block w-full rounded-md sm:text-sm border-gray-300"},null,512),[[b,s.form.start_date]])]),i.$page.props.errors.start_date?(o(),l("p",is,d(i.$page.props.errors.start_date),1)):r("",!0)])):r("",!0),t[51]||(t[51]=e("div",{class:"py-2 col-span-1 sm:col-span-1"},[e("div",{class:"mt-1 flex"},[e("label",{for:"detail",class:"block text-sm font-medium text-gray-700 mt-2 mr-2"}," Detail : ")])],-1)),e("div",ns,[e("div",as,[x(e("textarea",{"onUpdate:modelValue":t[22]||(t[22]=m=>s.form.description=m),name:"detail",id:"detail",class:"focus:ring-indigo-500 focus:border-indigo-500 flex-1 block w-full rounded-md sm:text-sm border-gray-300"}," ",512),[[b,s.form.description]])]),i.$page.props.errors.description?(o(),l("p",ds,d(i.$page.props.errors.description),1)):r("",!0)])]),s.loading?(o(),l("div",ms,t[52]||(t[52]=[e("div",{class:"loader ease-linear rounded-full border-4 border-t-4 border-gray-200 h-12 w-12 mb-4"},null,-1),e("h2",{class:"text-center text-white text-xl font-semibold"},"Loading...",-1),e("p",{class:"w-1/3 text-center text-white"},"This may take a few seconds, please don't close this page.",-1)]))):r("",!0)],64)}const ps=Y(Ie,[["render",cs]]),us={name:"Task",components:{Multiselect:ee},props:["data"],setup(i){const t=O("noc"),g=O("subcons"),s=O("write_permission"),C=O("read_permission"),v=O("task_write");let y=w(),m=w(!1),k=w(!1),U=w(!1);const u=ue({id:null,assigned:null,target:null,status:1,description:null,incident_id:null});function S(){k.value=!0,u.incident_id=i.data}function j(){u.id=null,u.assigned=null,u.target=null,u.status=1,u.description=null,u.incident_id=i.data}function T(f){console.log(f),u.id=f.id,u.assigned=g.filter(_=>_.id==f.assigned)[0],u.description=f.description,u.incident_id=f.incident_id,u.status=f.status,u.target=f.target,U.value=!0,k.value=!0}function n(f){Toast.fire({title:"Are you sure?",text:"Once deleted, you will not be able to recover this data !",icon:"warning",timer:!1,position:"center",showCancelButton:!0,dangerMode:!0}).then(_=>{_.isConfirmed?h(f):Toast.fire("Your data is safe!")})}function h(f){u.id=f.id,u.assigned=g.filter(_=>_.id==f.assigned)[0],u.description=f.description,u.incident_id=f.incident_id,u.status=0,u.target=f.target,U.value=!0,k.value=!1,R()}function P(f){f.status!=2?Toast.fire({title:"Are you sure?",text:"Do you want to mark as completed !",icon:"warning",timer:!1,position:"center",showCancelButton:!0,dangerMode:!0}).then(_=>{_.isConfirmed&&a(f,2)}):Toast.fire({title:"Are you sure?",text:"Do you want to mark as WIP !",icon:"warning",timer:!1,position:"center",showCancelButton:!0,dangerMode:!0}).then(_=>{_.isConfirmed&&a(f,1)})}function a(f,_){u.id=f.id,u.assigned=f.assigned,u.description=f.description,u.incident_id=f.incident_id,u.status=_,u.target=f.target,U.value=!0,k.value=!1,R()}function R(){U.value!=!0?(u._method="POST",A.post("/addTask",u,{preserveState:!0,onSuccess:f=>{k.value=!1,j(),p(),Toast.fire({icon:"success",title:f.props.flash.message})},onError:f=>{console.log("error ..".errors)}})):(u._method="PUT",A.post("/editTask/"+u.id,u,{onSuccess:f=>{k.value=!1,U.value=!1,j(),p(),Toast.fire({icon:"success",title:f.props.flash.message}),closeModal()},onError:f=>{console.log("error ..".errors)}}))}function H(){k.value=!1,preserveState=!0}const K=async()=>{let f="/getTask/"+i.data;console.log(f);try{return await(await fetch(f)).json()}catch(_){console.error(_)}},W=f=>{let _=g.filter(Q=>Q.id==f)[0];return _?_.name:""};function q(f){let _="WIP";return f==0?_="Deleted":f==1?_="WIP":_="Completed",_}const p=()=>{K().then(f=>{y.value=f})};return $(()=>{console.log(y.value),p()}),{loading:m,task_list:y,edit:k,editMode:U,newTask:S,saveTask:R,cancelTask:H,getName:W,getStatus:q,editTask:T,deleteTask:n,completeTask:P,form:u,noc:t,subcons:g,write_permission:s,read_permission:C,task_write:v}}},fs={class:"flex w-full justify-end"},gs={key:0},ys={key:1},xs={key:0,"wire:loading":"",class:"w-full flex flex-col items-center justify-center"},bs={key:1},_s={class:"min-w-full divide-y divide-gray-200 table-auto"},vs={class:"bg-white divide-y divide-gray-200 text-sm max-h-64 w-full overflow-auto block scrollbar-thin scrollbar-thumb-gray-400 scrollbar-track-white flex flex-col justify-between text-left"},ws={class:"px-6 py-3 whitespace-nowrap w-1/12"},ks=["checked","onClick","disabled"],hs={class:"px-6 py-3 whitespace-nowrap w-3/5"},Cs={class:"px-6 py-3 whitespace-nowrap w-1/4"},Ts={class:"px-6 py-3 whitespace-nowrap w-1/6"},Vs={class:"px-6 py-3 whitespace-nowrap w-1/12"},Ss={key:0,class:"px-6 py-3 whitespace-nowrap w-1/12"},Us=["onClick"],Ds={key:0},js=["onClick"],Is={key:1,class:"px-6 py-3 whitespace-nowrap w-1/12"},Ms=["onClick"],Os={key:2},Ps={class:"grid grid-cols-1 md:grid-cols-4 gap-2 w-full"},Ns={class:"py-2 col-span-3 sm:col-span-3"},Ls={class:"flex rounded-md shadow-sm"},As={key:0,class:"flex rounded-md shadow-sm w-full"},zs={key:1,class:"mt-2 text-sm text-red-500"},Bs={class:"py-2 col-span-3 sm:col-span-3"},Es={class:"flex rounded-md shadow-sm"},Rs={key:0,class:"mt-2 text-sm text-red-500"},Fs={class:"py-2 col-span-3 sm:col-span-3"},Hs={class:"flex rounded-md shadow-sm"},Ys={key:0,class:"mt-2 text-sm text-red-500"},$s={class:"py-2 col-span-3 sm:col-span-3"},Ws={class:"flex rounded-md shadow-sm"},Gs={key:0,class:"mt-2 text-sm text-red-500"};function Ks(i,t,g,s,C,v){const y=N("multiselect");return o(),l(z,null,[e("div",fs,[!s.edit&&s.write_permission==1&&s.task_write==1?(o(),l("a",{key:0,href:"#",onClick:t[0]||(t[0]=m=>s.newTask()),class:"-mt-2 mb-2 text-center items-center px-4 py-3 bg-indigo-500 border border-transparent rounded-sm font-semibold text-xs text-white uppercase tracking-widest hover:bg-indigo-400 active:bg-indigo-600 focus:outline-none focus:border-gray-900 disabled:opacity-25 transition mr-1"},t[7]||(t[7]=[D("Add Task"),e("i",{class:"fas fa-plus-circle opacity-75 lg:ml-1 text-sm"},null,-1)]))):r("",!0),s.edit&&s.write_permission==1&&s.task_write==1?(o(),l("a",{key:1,href:"#",onClick:t[1]||(t[1]=m=>s.saveTask()),class:"-mt-2 mb-2 text-center items-center px-4 py-3 bg-green-500 border border-transparent rounded-sm font-semibold text-xs text-white uppercase tracking-widest hover:bg-green-400 active:bg-green-600 focus:outline-none focus:border-gray-900 disabled:opacity-25 transition mr-1"},[s.editMode?r("",!0):(o(),l("span",gs,"Save Task")),s.editMode?(o(),l("span",ys,"Update Task")):r("",!0),t[8]||(t[8]=e("i",{class:"fas fa-save opacity-75 lg:ml-1 text-sm"},null,-1))])):r("",!0),s.edit?(o(),l("a",{key:2,href:"#",onClick:t[2]||(t[2]=m=>s.cancelTask()),class:"-mt-2 mb-2 text-center items-center px-4 py-3 bg-gray-500 border border-transparent rounded-sm font-semibold text-xs text-white uppercase tracking-widest hover:bg-gray-400 active:bg-gray-600 focus:outline-none focus:border-gray-900 disabled:opacity-25 transition mr-1"},t[9]||(t[9]=[D("Cancel"),e("i",{class:"fas fa-save opacity-75 lg:ml-1 text-sm"},null,-1)]))):r("",!0)]),s.task_list?r("",!0):(o(),l("div",xs,t[10]||(t[10]=[e("div",{class:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-purple-500"},null,-1),e("h2",{class:"text-center text-gray-600 text-sm font-semibold mt-2"},"Loading...",-1)]))),s.task_list&&!s.edit?(o(),l("div",bs,[e("table",_s,[t[16]||(t[16]=e("thead",{class:"bg-gray-50 w-full flex flex-col"},[e("tr",null,[e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider w-1/12"}),e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider w-3/5"}," Description"),e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider w-1/4"}," Assigned"),e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider w-1/6"}," Target"),e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider w-1/12"}," Status"),e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider w-1/12"}," Action")])],-1)),e("tbody",vs,[(o(!0),l(z,null,G(s.task_list,m=>(o(),l("tr",{key:m.id,class:"flex"},[e("td",ws,[e("input",{type:"checkbox",name:"status",checked:m.status==2,onClick:k=>s.completeTask(m),disabled:!s.task_write},null,8,ks)]),e("td",hs,d(m.description.length>50?m.description.substring(0,50)+" ...":m.description),1),e("td",Cs,d(s.getName(m.assigned)),1),e("td",Ts,d(m.target),1),e("td",Vs,d(s.getStatus(m.status)),1),s.write_permission==1?(o(),l("td",Ss,[e("a",{href:"#",onClick:k=>s.editTask(m),class:"text-blue-600"},t[11]||(t[11]=[e("i",{class:"fa fa-edit"},null,-1)]),8,Us),t[14]||(t[14]=D()),s.task_write?(o(),l("span",Ds,[t[13]||(t[13]=D(" | ")),e("a",{href:"#",onClick:k=>s.deleteTask(m),class:"text-red-600"},t[12]||(t[12]=[e("i",{class:"fa fa-trash"},null,-1)]),8,js)])):r("",!0)])):(o(),l("td",Is,[e("a",{href:"#",onClick:k=>s.editTask(m),class:"text-blue-600"},t[15]||(t[15]=[e("i",{class:"fa fa-eye"},null,-1)]),8,Ms)]))]))),128))])])])):r("",!0),s.edit?(o(),l("div",Os,[e("div",Ps,[t[18]||(t[18]=e("div",{class:"py-2 col-span-1 sm:col-span-1"},[e("div",{class:"flex"},[e("label",{for:"assigned",class:"block text-sm font-medium text-gray-700 mt-2 mr-2"}," Assigned : ")])],-1)),e("div",Ns,[e("div",Ls,[s.subcons.length!==0?(o(),l("div",As,[L(y,{"deselect-label":"Selected already",options:s.subcons,"track-by":"id",label:"name",modelValue:s.form.assigned,"onUpdate:modelValue":t[3]||(t[3]=m=>s.form.assigned=m),"allow-empty":!1,multiple:!1},null,8,["options","modelValue"])])):r("",!0),i.$page.props.errors.assigned?(o(),l("p",zs,d(i.$page.props.errors.assigned),1)):r("",!0)])]),t[19]||(t[19]=e("div",{class:"py-2 col-span-1 sm:col-span-1"},[e("div",{class:"flex"},[e("label",{for:"target",class:"block text-sm font-medium text-gray-700 mt-2 mr-2"}," Target : ")])],-1)),e("div",Bs,[e("div",Es,[x(e("input",{type:"date","onUpdate:modelValue":t[4]||(t[4]=m=>s.form.target=m),name:"target",id:"target",class:"form-input focus:ring-indigo-500 focus:border-indigo-500 flex-1 block w-full rounded-md sm:text-sm border-gray-300"},null,512),[[b,s.form.target]])]),i.$page.props.errors.target?(o(),l("p",Rs,d(i.$page.props.errors.target),1)):r("",!0)]),t[20]||(t[20]=e("div",{class:"py-2 col-span-1 sm:col-span-1"},[e("div",{class:"flex"},[e("label",{for:"description",class:"block text-sm font-medium text-gray-700 mt-2 mr-2"}," Description : ")])],-1)),e("div",Fs,[e("div",Hs,[x(e("textarea",{"onUpdate:modelValue":t[5]||(t[5]=m=>s.form.description=m),name:"description",id:"description",class:"form-input focus:ring-indigo-500 focus:border-indigo-500 flex-1 block w-full rounded-md sm:text-sm border-gray-300"},null,512),[[b,s.form.description]])]),i.$page.props.errors.description?(o(),l("p",Ys,d(i.$page.props.errors.description),1)):r("",!0)]),t[21]||(t[21]=e("div",{class:"py-2 col-span-1 sm:col-span-1"},[e("div",{class:"flex"},[e("label",{for:"description",class:"block text-sm font-medium text-gray-700 mt-2 mr-2"}," Status : ")])],-1)),e("div",$s,[e("div",Ws,[x(e("select",{"onUpdate:modelValue":t[6]||(t[6]=m=>s.form.status=m),class:"focus:ring-indigo-500 focus:border-indigo-500 flex-1 block w-full rounded-md sm:text-sm border-gray-300"},t[17]||(t[17]=[e("option",{value:"1"},"WIP",-1),e("option",{value:"2"},"Completed",-1),e("option",{value:"0"},"Deleted",-1)]),512),[[B,s.form.status]])]),i.$page.props.errors.status?(o(),l("p",Gs,d(i.$page.props.errors.status),1)):r("",!0)])])])):r("",!0)],64)}const qs=Y(us,[["render",Ks]]),Js={name:"Log",props:["data"],setup(i){const t=w(""),g=async()=>{let C="/getLog/"+i.data;try{return await(await fetch(C)).json()}catch(v){console.error(v)}},s=()=>{g().then(C=>{t.value=C})};return $(()=>{s()}),{logs:t}}},Qs={key:0,"wire:loading":"",class:"w-full flex flex-col items-center justify-center"},Xs={key:1},Zs={class:"min-w-full divide-y divide-gray-200 table-auto"},eo={class:"bg-white divide-y divide-gray-200 text-sm max-h-64 w-full overflow-auto scrollbar-thin scrollbar-thumb-gray-400 scrollbar-track-white block text-left"},to={class:"px-3 py-3 text-xs font-medium whitespace-wrap tracking-wider w-1/12 flex"},so={class:"px-3 py-3 text-xs font-medium whitespace-wrap tracking-wider w-1/4 flex-1"},oo={class:"px-3 py-3 text-xs font-medium whitespace-wrap tracking-wider w-1/3 flex-1"},lo={class:"px-3 py-3 text-xs font-medium whitespace-wrap tracking-wider w-full flex-1"};function ro(i,t,g,s,C,v){return o(),l(z,null,[s.logs?r("",!0):(o(),l("div",Qs,t[0]||(t[0]=[e("div",{class:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-purple-500"},null,-1),e("h2",{class:"text-center text-gray-600 text-sm font-semibold mt-2"},"Loading...",-1)]))),s.logs?(o(),l("div",Xs,[e("table",Zs,[t[1]||(t[1]=e("thead",{class:"bg-gray-50 w-full flex block table text-left"},[e("tr",null,[e("th",{scope:"col",class:"px-6 py-3 text-xs font-medium text-gray-500 uppercase tracking-wider w-1/12 flex"},"No."),e("th",{scope:"col",class:"px-6 py-3 text-xs font-medium text-gray-500 uppercase tracking-wider w-1/4 flex-1"},"Date"),e("th",{scope:"col",class:"px-6 py-3 text-xs font-medium text-gray-500 uppercase tracking-wider w-1/3 flex-1"},"Actor"),e("th",{scope:"col",class:"px-6 py-3 text-xs font-medium text-gray-500 uppercase tracking-wider w-full flex-1"},"Action")])],-1)),e("tbody",eo,[(o(!0),l(z,null,G(s.logs,(y,m)=>(o(),l("tr",{key:y.id,class:"flex"},[e("td",to,d(m+1),1),e("td",so,d(y.created_at),1),e("td",oo,d(y.name),1),e("td",lo,d(y.action),1)]))),128))])])])):r("",!0)],64)}const io=Y(Js,[["render",ro]]),no={name:"History",props:["data"],setup(i){const t=w(),g=async()=>{let C="/getHistory/"+i.data;try{return await(await fetch(C)).json()}catch(v){console.error(v)}},s=()=>{g().then(C=>{t.value=C})};return $(()=>{s()}),{logs:t}}},ao={key:0,"wire:loading":"",class:"w-full flex flex-col items-center justify-center"},mo={key:1},co={class:"min-w-full divide-y divide-gray-200 table-auto"},po={class:"bg-white divide-y divide-gray-200 text-sm max-h-64 w-full overflow-auto scrollbar-thin scrollbar-thumb-gray-400 scrollbar-track-white block text-left"},uo={class:"px-3 py-3 text-xs font-medium tracking-wider w-1/7 flex"},fo={class:"px-3 py-3 text-xs font-medium tracking-wider w-1/7 flex-1"},go={class:"px-3 py-3 text-xs font-medium tracking-wider w-1/7 flex-1"},yo={class:"px-3 py-3 text-xs font-medium tracking-wider w-1/7 flex-1"},xo={class:"px-3 py-3 text-xs font-medium tracking-wider w-1/7 flex-1"},bo={class:"px-3 py-3 text-xs font-medium tracking-wider w-1/7 flex-1"},_o={class:"px-3 py-3 text-xs font-medium tracking-wider w-1/7 flex-1"};function vo(i,t,g,s,C,v){return o(),l(z,null,[s.logs?r("",!0):(o(),l("div",ao,t[0]||(t[0]=[e("div",{class:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-purple-500"},null,-1),e("h2",{class:"text-center text-gray-600 text-sm font-semibold mt-2"},"Loading...",-1)]))),s.logs?(o(),l("div",mo,[e("table",co,[t[1]||(t[1]=e("thead",{class:"bg-gray-50 w-full flex block table text-left"},[e("tr",null,[e("th",{scope:"col",class:"px-6 py-3 text-xs font-medium text-gray-500 uppercase tracking-wider w-1/7 flex"},"No."),e("th",{scope:"col",class:"px-6 py-3 text-xs font-medium text-gray-500 uppercase tracking-wider w-1/7 flex-1"},"Date"),e("th",{scope:"col",class:"px-6 py-3 text-xs font-medium text-gray-500 uppercase tracking-wider w-1/7 flex-1"},"Ticket ID"),e("th",{scope:"col",class:"px-6 py-3 text-xs font-medium text-gray-500 uppercase tracking-wider w-1/7 flex-1"},"Customer ID"),e("th",{scope:"col",class:"px-6 py-3 text-xs font-medium text-gray-500 uppercase tracking-wider w-1/7 flex-1"},"Ticket Type"),e("th",{scope:"col",class:"px-6 py-3 text-xs font-medium text-gray-500 uppercase tracking-wider w-1/7 flex-1"},"Ticket Topic (if exists)"),e("th",{scope:"col",class:"px-6 py-3 text-xs font-medium text-gray-500 uppercase tracking-wider w-1/7 flex-1"},"Opened By")])],-1)),e("tbody",po,[(o(!0),l(z,null,G(s.logs,(y,m)=>(o(),l("tr",{key:y.id,class:"flex"},[e("td",uo,d(m+1),1),e("td",fo,d(y.date+" "+y.time),1),e("td",go,d(y.code),1),e("td",yo,d(y.ftth_id),1),e("td",xo,d(y.type),1),e("td",bo,d(y.topic?y.topic:"N/A"),1),e("td",_o,d(y.name),1)]))),128))])])])):r("",!0)],64)}const wo=Y(no,[["render",vo]]),ko={name:"File",components:{Upload:xe},props:["data"],setup(i){let t=w(!1),g=w();const s=O("write_permission"),C=O("read_permission");let v=w(!1),y=w("");function m(){v.value=!0,y.value={incident_id:i.data}}function k(){v.value=!1,T()}function U(n){Toast.fire({title:"Are you sure?",text:"Once deleted, you will not be able to recover this data !",icon:"warning",timer:!1,position:"center",showCancelButton:!0,dangerMode:!0}).then(h=>{h.isConfirmed?u(n):Toast.fire("Your data is safe!")})}function u(n){n._method="DELETE",A.post("/deleteFile/"+n.id,n,{onSuccess(h){Toast.fire({icon:"success",title:"Your File has been Deleted !"}),T()}})}const S=async()=>{let n="/getFile/"+i.data;console.log(n);try{return await(await fetch(n)).json()}catch(h){console.error(h)}},j=n=>{n&&(v.value=!1,T(),Toast.fire({icon:"success",title:"Successfully Uploaded the File"}))},T=()=>{S().then(n=>{g.value=n})};return $(()=>{T()}),{file_list:g,add:v,deleteFile:U,addFile:m,closeFile:k,checkUpload:j,incident_id:y,write_permission:s,read_permission:C,loading:t}}},ho={class:"flex w-full justify-end"},Co={key:0,"wire:loading":"",class:"w-full flex flex-col items-center justify-center"},To={key:1},Vo={class:"min-w-full divide-y divide-gray-200 table-auto"},So={class:"bg-white divide-y divide-gray-200 text-sm max-h-64 w-full overflow-auto scrollbar-thin scrollbar-thumb-gray-400 scrollbar-track-white block text-left"},Uo={class:"px-6 py-3 whitespace-nowrap tracking-wider w-1/12"},Do={class:"px-6 py-3 whitespace-nowrap tracking-wider w-full"},jo={key:0,class:"px-6 py-3 whitespace-nowrap tracking-wider text-right w-1/12 mr-4"},Io=["href"],Mo=["onClick"],Oo={key:1,class:"px-6 py-3 whitespace-nowrap tracking-wider text-right w-1/12 mr-4"},Po=["href"],No={key:2};function Lo(i,t,g,s,C,v){const y=N("upload");return o(),l(z,null,[e("div",ho,[!s.add&&s.write_permission==1?(o(),l("a",{key:0,href:"#",onClick:t[0]||(t[0]=m=>s.addFile()),class:"-mt-2 mb-2 text-center items-center px-4 py-3 bg-indigo-500 border border-transparent rounded-sm font-semibold text-xs text-white uppercase tracking-widest hover:bg-indigo-400 active:bg-indigo-600 focus:outline-none focus:border-gray-900 disabled:opacity-25 transition mr-1"},t[2]||(t[2]=[D("Add File"),e("i",{class:"fas fa-plus-circle opacity-75 lg:ml-1 text-sm"},null,-1)]))):r("",!0),s.add?(o(),l("a",{key:1,href:"#",onClick:t[1]||(t[1]=m=>s.closeFile()),class:"-mt-2 mb-2 text-center items-center px-4 py-3 bg-indigo-500 border border-transparent rounded-sm font-semibold text-xs text-white uppercase tracking-widest hover:bg-indigo-400 active:bg-indigo-600 focus:outline-none focus:border-gray-900 disabled:opacity-25 transition mr-1"},t[3]||(t[3]=[D("Close"),e("i",{class:"fas fa-times-circle opacity-75 lg:ml-1 text-sm"},null,-1)]))):r("",!0)]),s.file_list?r("",!0):(o(),l("div",Co,t[4]||(t[4]=[e("div",{class:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-purple-500"},null,-1),e("h2",{class:"text-center text-gray-600 text-sm font-semibold mt-2"},"Loading...",-1)]))),s.file_list&&!s.add?(o(),l("div",To,[e("table",Vo,[t[9]||(t[9]=e("thead",{class:"bg-gray-50 w-full flex block table text-left"},[e("tr",null,[e("th",{scope:"col",class:"px-6 py-3 text-xs font-medium text-gray-500 uppercase tracking-wider w-1/12"},"ID"),e("th",{scope:"col",class:"px-6 py-3 text-xs font-medium text-gray-500 uppercase tracking-wider w-full"},"File"),e("th",{scope:"col",class:"px-6 py-3 text-xs font-medium text-gray-500 uppercase tracking-wider w-1/12"}," Action ")])],-1)),e("tbody",So,[(o(!0),l(z,null,G(s.file_list,(m,k)=>(o(),l("tr",{key:m.id,class:"flex"},[e("td",Uo,d(k+1),1),e("td",Do,d(m.name),1),s.write_permission==1?(o(),l("td",jo,[e("a",{href:m.path,target:"_blank"},t[5]||(t[5]=[e("i",{class:"fas fa-eye text-indigo-600"},null,-1)]),8,Io),t[7]||(t[7]=D(" | ")),e("a",{href:"#",onClick:U=>s.deleteFile(m),class:"text-red-600"},t[6]||(t[6]=[e("i",{class:"fa fa-trash"},null,-1)]),8,Mo)])):(o(),l("td",Oo,[e("a",{href:m.path,target:"_blank"},t[8]||(t[8]=[e("i",{class:"fas fa-eye text-indigo-600"},null,-1)]),8,Po)]))]))),128))])])])):r("",!0),s.add?(o(),l("div",No,[L(y,{data:s.incident_id,onStatus:s.checkUpload},null,8,["data","onStatus"])])):r("",!0)],64)}const Ao=Y(ko,[["render",Lo]]),zo={name:"CustomerDetail",props:["data"],setup(i){const t=w(""),g=async()=>{let C="/getCustomer/"+i.data;try{return await(await fetch(C)).json()}catch(v){console.error(v)}},s=()=>{g().then(C=>{t.value=C})};return $(()=>{s()}),{customer_detail:t}}},Bo={key:0,class:"w-full flex flex-col items-center justify-center"},Eo={key:1},Ro={class:"bg-white shadow overflow-hidden sm:rounded-lg text-left"},Fo={class:"border-t border-gray-200"},Ho={class:"bg-gray-50 px-2 py-2 sm:grid sm:grid-cols-4 sm:gap-4 sm:px-6"},Yo={class:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-3"},$o={key:0,class:"bg-white px-2 py-2 sm:grid sm:grid-cols-4 sm:gap-4 sm:px-6"},Wo={class:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-3"},Go={class:"bg-gray-50 px-2 py-2 sm:grid sm:grid-cols-4 sm:gap-4 sm:px-6"},Ko={class:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-3"},qo={class:"bg-white px-2 py-2 sm:grid sm:grid-cols-4 sm:gap-4 sm:px-6"},Jo={class:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-3"},Qo={key:1,class:"bg-gray-50 px-2 py-2 sm:grid sm:grid-cols-4 sm:gap-4 sm:px-6"},Xo={class:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-3"},Zo={class:"bg-white px-2 py-2 sm:grid sm:grid-cols-4 sm:gap-4 sm:px-6"},el={class:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-3"},tl={key:2,class:"bg-gray-50 px-2 py-2 sm:grid sm:grid-cols-4 sm:gap-4 sm:px-6"},sl={class:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-3"},ol={key:3,class:"bg-white px-2 py-2 sm:grid sm:grid-cols-4 sm:gap-4 sm:px-6"},ll={class:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-3"},rl={key:4,class:"bg-gray-50 px-2 py-2 sm:grid sm:grid-cols-4 sm:gap-4 sm:px-6"},il={class:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-3"},nl={key:5,class:"bg-white px-2 py-2 sm:grid sm:grid-cols-4 sm:gap-4 sm:px-6"},al={class:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-3"},dl={class:"bg-gray-50 px-2 py-2 sm:grid sm:grid-cols-4 sm:gap-4 sm:px-6"},ml={key:0,class:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-3"},cl={class:"uppercase"},pl={key:1,class:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-3"},ul={class:"uppercase"};function fl(i,t,g,s,C,v){return o(),l(z,null,[s.customer_detail[0]?r("",!0):(o(),l("div",Bo,t[0]||(t[0]=[e("div",{class:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-purple-500"},null,-1),e("h2",{class:"text-center text-gray-600 text-sm font-semibold mt-2"},"Loading...",-1)]))),s.customer_detail[0]?(o(),l("div",Eo,[e("div",Ro,[e("div",Fo,[e("dl",null,[e("div",Ho,[t[1]||(t[1]=e("dt",{class:"text-sm font-medium text-gray-500"},"Customer ID",-1)),e("dd",Yo,d(s.customer_detail[0].ftth_id),1)]),s.customer_detail[0].sale_channel?(o(),l("div",$o,[t[2]||(t[2]=e("dt",{class:"text-sm font-medium text-gray-500"},"Sales Source",-1)),e("dd",Wo,d(s.customer_detail[0].sale_channel),1)])):r("",!0),e("div",Go,[t[3]||(t[3]=e("dt",{class:"text-sm font-medium text-gray-500"},"Customer Name",-1)),e("dd",Ko,d(s.customer_detail[0].name),1)]),e("div",qo,[t[4]||(t[4]=e("dt",{class:"text-sm font-medium text-gray-500"},"Contact Number",-1)),e("dd",Jo,d(s.customer_detail[0].phone_1)+" "+d(s.customer_detail[0].phone_2),1)]),s.customer_detail[0].email?(o(),l("div",Qo,[t[5]||(t[5]=e("dt",{class:"text-sm font-medium text-gray-500"},"Contact E Mail",-1)),e("dd",Xo,d(s.customer_detail[0].email),1)])):r("",!0),e("div",Zo,[t[6]||(t[6]=e("dt",{class:"text-sm font-medium text-gray-500"},"Full Address",-1)),e("dd",el,d(s.customer_detail[0].address),1)]),s.customer_detail[0].latitude?(o(),l("div",tl,[t[7]||(t[7]=e("dt",{class:"text-sm font-medium text-gray-500"},"Location",-1)),e("dd",sl,d(s.customer_detail[0].latitude)+","+d(s.customer_detail[0].longitude),1)])):r("",!0),s.customer_detail[0].billing_attention?(o(),l("div",ol,[t[8]||(t[8]=e("dt",{class:"text-sm font-medium text-gray-500"},"Contact Person Name",-1)),e("dd",ll,d(s.customer_detail[0].billing_attention),1)])):r("",!0),s.customer_detail[0].nrc?(o(),l("div",rl,[t[9]||(t[9]=e("dt",{class:"text-sm font-medium text-gray-500"},"NRC Number",-1)),e("dd",il,d(s.customer_detail[0].nrc),1)])):r("",!0),s.customer_detail[0].dob?(o(),l("div",nl,[t[10]||(t[10]=e("dt",{class:"text-sm font-medium text-gray-500"},"Date of Birth",-1)),e("dd",al,d(s.customer_detail[0].dob),1)])):r("",!0),e("div",dl,[t[11]||(t[11]=e("dt",{class:"text-sm font-medium text-gray-500"},"Applied Mbps",-1)),s.customer_detail[0].payment_type==1?(o(),l("dd",ml,[D(d(s.customer_detail[0].package_name)+" ("+d(s.customer_detail[0].package_speed)+" Mbps),MRC "+d(s.customer_detail[0].package_price)+" ",1),e("span",cl,d(s.customer_detail[0].package_currency),1),D(", "+d(s.customer_detail[0].package_contract_period)+" Months Contract, "+d(s.customer_detail[0].prepaid_period)+" Months Prepaid ",1)])):(o(),l("dd",pl,[D(d(s.customer_detail[0].package_name)+" ("+d(s.customer_detail[0].package_speed)+" Mbps), MRC "+d(s.customer_detail[0].package_price)+" ",1),e("span",ul,d(s.customer_detail[0].package_currency),1),D(", "+d(s.customer_detail[0].package_contract_period)+" Months Contract, Monthly Postpaid ",1)]))])])])])])):r("",!0)],64)}const gl=Y(zo,[["render",fl]]),yl={name:"Incident",components:{AppLayout:me,Pagination:be,IncidentAlert:je,IncidentDetail:ps,Multiselect:ee,VueDatePicker:_e,Task:qs,File:Ao,Log:io,History:wo,CustomerDetail:gl,NoData:ce},props:{incidents:Object,incidents_2:Object,noc:Object,team:Object,townships:Object,customers:Object,packages:Object,critical:Object,high:Object,normal:Object,errors:Object,read_permission:Boolean,write_permission:Boolean,task_write:Boolean,user:Object,subcons:Object},setup(i){const t=w(""),g=w(""),s=w(1);let C=w(!1),v=w(!1),y=w(""),m=w(0),k=w("default"),U=w("default"),u=w([]);const S=w({date:"YYYY-MM-DD",month:"MMM"});let j=w(!1),T=w(!1);F("noc",i.noc),F("subcons",i.subcons),F("team",i.team),F("townships",i.townships),F("user",i.user),F("packages",i.packages),F("read_permission",i.read_permission),F("write_permission",i.write_permission),F("task_write",i.task_write),F("customers",i.customers);const n=se({id:null,code:null,priority:null,customer_id:null,incharge_id:i.team.filter(c=>c.id==i.user.id)[0],type:"default",topic:null,status:1,start_date:null,end_date:null,new_address:null,new_township:null,latitude:null,longitude:null,package_id:null,description:null,date:null,time:null,close_date:null,close_time:null,resolved_date:null,resolved_time:null});let h=w(!0),P=w("");function a(c){P.value=c}function R(c){if(y.value!=null&&(h.value=c,c==1)){let V=i.incidents.data.filter(I=>I.id==y.value)[0];p(V)}}function H(){var c=new Date,V=c.getFullYear()+"-"+(c.getMonth()+1)+"-"+c.getDate(),I=c.getHours()+":"+c.getMinutes();!n.close_date&&m.value!=3&&(n.close_date=V),!n.close_time&&m.value!=3&&(n.close_time=I),h.value=1,j.value=!0}function K(){j.value=!1,y.value=null}function W(){f(),H()}function q(c){let V=i.incidents_2.filter(I=>I.id==c.id)[0];p(V)}function p(c){let V=null;y.value=c.id,v.value=!0,c.location!=null&&(V=c.location.split(",",2),n.latitude=V[0],n.longitude=V[1]),n.id=c.id,n.code=c.code,n.priority=c.priority,n.customer_id=i.customers.filter(I=>I.id==c.customer_id)[0],n.incharge_id=i.noc.filter(I=>I.id==c.incharge_id)[0],n.type=c.type,n.topic=c.topic,n.status=c.status,n.start_date=c.start_date,n.end_date=c.end_date,n.new_address=c.new_address,n.new_township=i.townships.filter(I=>I.id==c.new_township)[0],n.package_id=i.packages.filter(I=>I.id==c.package_id)[0],n.description=c.description,n.date=c.date,n.time=c.time,n.close_date=c.close_date,n.close_time=c.close_time,n.resolved_date=c.resolved_date,n.resolved_time=c.resolved_time,H()}function f(){y.value=null,v.value=!1,n.id="",n.code="",n.priority="normal",n.customer_id="",n.incharge_id=i.team.filter(c=>c.id==i.user.id)[0],n.type="default",n.topic="",n.status=1,n.start_date="",n.end_date="",n.new_address="",n.new_township="",n.latitude="",n.longitude="",n.package_id="",n.description="",n.date="",n.time="",n.close_date="",n.close_time="",n.resolved_date="",n.resolved_time=""}function _(c){let V="Open";return c==1?V="Open":c==2?V="Escalated":c==3?V="Closed":c==4?V="Deleted":c==5&&(V="Resolved Open"),V}function Q(c){confirm("Are you sure want to remove?")&&(n._method="PUT",n.status=4,A.post("/incident/"+n.id,n,{onSuccess:V=>{s.value+=1,Toast.fire({icon:"success",title:V.props.flash.message}),K()},onError:V=>{console.log("error ..".errors)}}))}const le=()=>{let c="/incident/";m.value!=null&&(c=c+"?status="+m.value),A.get(c,{keyword:t.value},{preserveState:!0})},re=()=>{let c="/incident/";t.value!=null&&(c=c+"?keyword="+t.value),k.value!="default"&&(c=c+"&type="+k.value),U.value!="default"&&(c=c+"&member="+U.value),u.value!=""&&(c=c+"&date="+u.value),A.get(c,{status:m.value},{preserveState:!0})},ie=c=>{let V="/incident";c!="all"?A.get(V,{priority:c},{preserveState:!0}):A.get(V,{},{preserveState:!0})},ne=c=>{let V="/incident/?";g.value=c,g.order=g.order!=="asc"?"asc":"desc";let I=ae();A.get(V+I,{sort:g.value,order:g.order},{preserveState:!0})},ae=()=>{let c="";return t.value!=null&&(c="&keyword="+t.value),k.value!="default"&&(c+="&type="+k.value),U.value!="default"&&(c+="&member="+U.value),m.value!=null&&(c+="&status="+m.value),u.value!=""&&(c+="&date="+u.value),c};function te(){i.incidents.data.map(function(c){c.priority=="high"?c.color=c.status!=3&&c.status!=4?"yellow-600":"gray-200":c.priority=="critical"?c.color=c.status!=3&&c.status!=4?"red-600":"gray-200":c.color=c.status!=3&&c.status!=4?"yellow-300":"gray-200"})}function de(){v.value!=!0?(n._method="POST",A.post("/incident",n,{preserveState:!0,onSuccess:c=>{y.value=c.props.response.id;let V=i.incidents.data.filter(I=>I.id==y.value)[0];v.value=!0,T.value=!1,V!==void 0&&(console.log("response is : "+V),p(V)),Toast.fire({icon:"success",title:c.props.flash.message})},onError:c=>{T.value=!1,console.log("error ..")},onStart:c=>{T.value=!0}})):(n._method="PUT",A.post("/incident/"+n.id,n,{onSuccess:c=>{Toast.fire({icon:"success",title:c.props.flash.message}),T.value=!1},onError:c=>{T.value=!1,console.log("error .."+c)},onStart:c=>{T.value=!0}}))}return $(()=>{console.log("Incident - On Mounted"),i.packages.map(function(c){return c.item_data=`${c.name}`}),te()}),oe(()=>{console.log("Incident - On Updated"),i.packages.map(function(c){return c.item_data=`${c.name}`}),te()}),{loading:T,form:n,openModal:H,closeModal:K,newTicket:W,isOpen:j,deleteIncident:Q,searchIncident:le,edit:p,sortBy:ne,getStatus:_,changeStatus:re,sort:g,search:t,show:C,tabClick:R,tab:h,selection:P,selected_id:y,editMode:v,typeChange:a,showPriority:ie,incidentStatus:m,page_update:s,alert_edit:q,submit:de,clearform:f,incidentType:k,incidentBy:U,incidentDate:u,formatter:S}}},xl={class:"py-1"},bl={class:"mx-auto sm:px-6 lg:px-8"},_l={class:"py-2 md:inline-flex justify-between w-full gap-4"},vl={class:"flex w-full"},wl={class:"flex w-full"},kl={class:"flex w-full"},hl=["value"],Cl={class:"flex w-full"},Tl={class:"flex w-full self-center"},Vl={class:"flex w-full md:w-1/4"},Sl={class:"flex w-full md:w-1/2 md:justify-end"},Ul={key:0,class:"grid grid-cols-1 md:grid-cols-6 gap-6 w-full"},Dl={class:"lg:col-span-4 md:col-span-6"},jl={key:0,class:"bg-white overflow-auto md:overflow-hidden shadow-xl sm:rounded-lg mt-1"},Il={class:"min-w-full divide-y divide-gray-200"},Ml={class:"bg-gray-50"},Ol={class:"bg-white divide-y divide-gray-200 text-sm"},Pl=["onClick"],Nl={class:"px-2 py-3 whitespace-nowrap"},Ll={class:"px-2 py-3 whitespace-nowrap"},Al={class:"px-2 py-3 whitespace-nowrap"},zl={class:"px-2 py-3 whitespace-nowrap"},Bl={key:0,class:"px-2 py-3 whitespace-nowrap"},El={key:1,class:"px-2 py-3 whitespace-nowrap"},Rl={class:"px-2 py-3 whitespace-nowrap capitalize"},Fl={class:"px-2 py-3 whitespace-nowrap"},Hl={class:"px-2 py-3 whitespace-nowrap"},Yl={key:1,class:"w-full block mt-4"},$l={class:"text-xs text-gray-600"},Wl={key:2},Gl={key:3,class:"bg-white overflow-hidden shadow-xl sm:rounded-lg mt-1 py-4 flex flex-col items-center"},Kl={class:"col-span-2"},ql={class:"bg-white rounded-lg w-full mx-auto mt-1 shadow-xl divide-y divide-gray-200 py-2 px-2"},Jl={class:"grid grid-cols-4 gap-2"},Ql={class:"col-span-1"},Xl={class:"col-span-1"},Zl={key:1,class:"flex justify-center"},er={key:0,ref:"isOpen",class:"fixed z-10 inset-0 overflow-y-auto ease-out duration-400"},tr={class:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0"},sr={class:"bg-gray-50 rounded-sm pt-1 inline-block align-bottom overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-5xl sm:w-full",role:"dialog","aria-modal":"true","aria-labelledby":"modal-headline"},or={class:""},lr={class:""},rr={class:"py-2 divide-y divide-yellow-500"},ir={class:"mt-1 px-3 flex w-full justify-between"},nr={class:"flex"},ar={class:"flex col-span-1"},dr={class:"px-2 lg:px-3"},mr={class:"px-2 lg:px-3"},cr={class:"px-2 lg:px-3"},pr={class:"bg-white rounded-t-lg w-full mx-auto mt-1 shadow-xl divide-y divide-gray-200"},ur={class:"inline-flex w-full bg-gray-50 rounded-t-lg"},fr={id:"tabs",class:"flex"},gr={id:"tab-contents"},yr={class:"grid grid-cols-5 gap-2"},xr={class:"py-2 col-span-2 sm:col-span-2"},br={class:"mt-1 flex rounded-md shadow-sm"},_r={key:0,class:"mt-2 text-sm text-red-500"},vr={class:"py-2 col-span-2 sm:col-span-2"},wr={class:"mt-1 flex rounded-md shadow-sm"},kr={key:0,class:"mt-2 text-sm text-red-500"},hr={class:"py-2 col-span-4 sm:col-span-4"},Cr={key:0,class:"mt-1 flex rounded-md shadow-sm"},Tr={key:1,class:"mt-2 text-sm text-red-500"},Vr={class:"py-2 col-span-4 sm:col-span-4"},Sr={key:0,class:"mt-1 flex rounded-md shadow-sm"},Ur={key:1,class:"mt-2 text-sm text-red-500"},Dr={class:"py-2 col-span-4 sm:col-span-4"},jr={class:"mt-1 flex"},Ir={key:0,class:"mt-2 text-sm text-red-500"},Mr={key:0,class:"py-2 col-span-1 sm:col-span-1"},Or={key:1,class:"py-2 col-span-4 sm:col-span-4"},Pr={class:"mt-1 flex"},Nr={key:0,class:"mt-2 text-sm text-red-500"},Lr={key:2,class:"py-2 col-span-4 sm:col-span-4"},Ar={class:"mt-1 flex"},zr={key:0,class:"mt-2 text-sm text-red-500"},Br={key:3,class:"py-2 col-span-4 sm:col-span-4"},Er={class:"mt-1 flex"},Rr={key:0,class:"mt-2 text-sm text-red-500"},Fr={class:"py-2 col-span-4 sm:col-span-4"},Hr={class:"mt-1 flex"},Yr={key:0,class:"mt-2 text-sm text-red-500"},$r={key:4,class:"py-2 col-span-1 sm:col-span-1"},Wr={key:5,class:"py-2 col-span-2 sm:col-span-2"},Gr={class:"mt-1 flex rounded-md shadow-sm"},Kr={key:0,class:"mt-2 text-sm text-red-500"},qr={key:6,class:"py-2 col-span-2 sm:col-span-2"},Jr={class:"mt-1 flex rounded-md shadow-sm"},Qr={key:0,class:"mt-2 text-sm text-red-500"},Xr={key:7,class:"py-2 col-span-1 sm:col-span-1"},Zr={key:8,class:"py-2 col-span-2 sm:col-span-2"},ei={class:"mt-1 flex rounded-md shadow-sm"},ti={key:0,class:"mt-2 text-sm text-red-500"},si={key:9,class:"py-2 col-span-2 sm:col-span-2"},oi={class:"mt-1 flex rounded-md shadow-sm"},li={key:0,class:"mt-2 text-sm text-red-500"},ri={key:10,class:"py-2 col-span-1 sm:col-span-1"},ii={key:11,class:"py-2 col-span-4 sm:col-span-4"},ni={class:"grid grid-cols-2 gap-2"},ai={class:"col-span-1 sm:col-span-1"},di={class:"mt-1 flex rounded-md shadow-sm"},mi={key:0,class:"mt-2 text-sm text-red-500"},ci={class:"col-span-1 sm:col-span-1"},pi={class:"mt-1 flex rounded-md shadow-sm"},ui={key:0,class:"mt-2 text-sm text-red-500"},fi={key:12,class:"py-2 col-span-1 sm:col-span-1"},gi={key:13,class:"py-2 col-span-4 sm:col-span-4"},yi={class:"mt-1 flex rounded-md shadow-sm"},xi={key:0,class:"mt-2 text-sm text-red-500"},bi={key:14,class:"py-2 col-span-1 sm:col-span-1"},_i={key:15,class:"py-2 col-span-4 sm:col-span-4"},vi={class:"mt-1 flex rounded-md shadow-sm"},wi={key:0,class:"mt-2 text-sm text-red-500"},ki={key:16,class:"py-2 col-span-1 sm:col-span-1"},hi={key:17,class:"py-2 col-span-4 sm:col-span-4"},Ci={class:"mt-1 flex"},Ti={key:0,class:"mt-2 text-sm text-red-500"},Vi={key:18,class:"py-2 col-span-1 sm:col-span-1"},Si={key:19,class:"py-2 col-span-4 sm:col-span-4"},Ui={key:0,class:"mt-1 flex rounded-md shadow-sm"},Di={key:1,class:"mt-2 text-sm text-red-500"},ji={key:20,class:"py-2 col-span-1 sm:col-span-1"},Ii={key:21,class:"py-2 col-span-4 sm:col-span-4"},Mi={class:"grid grid-cols-2 gap-2"},Oi={class:"col-span-1 sm:col-span-1"},Pi={class:"mt-1 flex rounded-md shadow-sm"},Ni={key:0,class:"mt-2 text-sm text-red-500"},Li={class:"col-span-1 sm:col-span-1"},Ai={class:"mt-1 flex rounded-md shadow-sm"},zi={key:0,class:"mt-2 text-sm text-red-500"},Bi={key:22,class:"py-2 col-span-1 sm:col-span-1"},Ei={key:23,class:"py-2 col-span-4 sm:col-span-4"},Ri={class:"mt-1 flex rounded-md shadow-sm"},Fi={key:0,class:"mt-2 text-sm text-red-500"},Hi={key:24,class:"py-2 col-span-1 sm:col-span-1"},Yi={key:25,class:"py-2 col-span-4 sm:col-span-4"},$i={key:0,class:"mt-1 flex rounded-md shadow-sm"},Wi={key:1,class:"mt-2 text-sm text-red-500"},Gi={key:26,class:"py-2 col-span-1 sm:col-span-1"},Ki={key:27,class:"py-2 col-span-4 sm:col-span-4"},qi={class:"mt-1 flex rounded-md shadow-sm"},Ji={key:0,class:"mt-2 text-sm text-red-500"},Qi={class:"py-2 col-span-4 sm:col-span-4"},Xi={class:"mt-1 flex"},Zi={key:0,class:"mt-2 text-sm text-red-500"},en={key:0,class:"flex"},tn={key:0},sn={key:1},on={class:"flex"},ln={key:1,"wire:loading":"",class:"fixed top-0 left-0 right-0 bottom-0 w-full h-screen z-50 overflow-hidden bg-gray-700 opacity-75 flex flex-col items-center justify-center"};function rn(i,t,g,s,C,v){const y=N("VueDatePicker"),m=N("pagination"),k=N("no-data"),U=N("incident-alert"),u=N("multiselect"),S=N("task"),j=N("file"),T=N("customer-detail"),n=N("log"),h=N("history"),P=N("app-layout");return o(),E(P,null,{default:fe(()=>[e("div",xl,[e("div",bl,[e("div",_l,[e("div",vl,[t[62]||(t[62]=e("span",{class:"z-10 font-normal text-gray-400 absolute bg-transparent rounded text-base items-center justify-center w-8 pl-3 py-4"},[e("i",{class:"fas fa-search"})],-1)),x(e("input",{type:"text",placeholder:"Ticket/Customer",class:"relative self-center block w-full pr-12 py-2 rounded-md text-gray-400 text-sm border-gray-300 focus:ring focus:ring-indigo-500 focus:border-indigo-500 focus:ring-opacity-10 focus:outline-none pl-10",id:"search",tabindex:"1","onUpdate:modelValue":t[0]||(t[0]=a=>s.search=a),onKeyup:t[1]||(t[1]=ge((...a)=>s.searchIncident&&s.searchIncident(...a),["enter"]))},null,544),[[b,s.search]])]),e("div",wl,[t[64]||(t[64]=e("span",{class:"z-10 font-normal text-gray-400 absolute bg-transparent rounded text-base items-center justify-center w-8 pl-3 py-4"},[e("i",{class:"fas fa-sliders-h"})],-1)),x(e("select",{"onUpdate:modelValue":t[2]||(t[2]=a=>s.incidentType=a),class:"relative self-center block w-full pr-12 py-2 rounded-md text-gray-400 text-sm border-gray-300 focus:ring focus:ring-indigo-500 focus:border-indigo-500 focus:ring-opacity-10 focus:outline-none pl-10",tabindex:"3",onChange:t[3]||(t[3]=(...a)=>s.changeStatus&&s.changeStatus(...a))},t[63]||(t[63]=[e("option",{value:"default"},"All Ticket",-1),e("option",{value:"service_complaint"},"Service Complaint",-1),e("option",{value:"plan_change"},"Plan Change",-1),e("option",{value:"suspension"},"Suspension",-1),e("option",{value:"termination"},"Termination",-1)]),544),[[B,s.incidentType]])]),e("div",kl,[t[66]||(t[66]=e("span",{class:"z-10 font-normal text-gray-400 absolute bg-transparent rounded text-base items-center justify-center w-8 pl-3 py-4"},[e("i",{class:"fas fa-sliders-h"})],-1)),x(e("select",{"onUpdate:modelValue":t[4]||(t[4]=a=>s.incidentBy=a),class:"relative self-center block w-full pr-12 py-2 rounded-md text-gray-400 text-sm border-gray-300 focus:ring focus:ring-indigo-500 focus:border-indigo-500 focus:ring-opacity-10 focus:outline-none pl-10",tabindex:"4",onChange:t[5]||(t[5]=(...a)=>s.changeStatus&&s.changeStatus(...a))},[t[65]||(t[65]=e("option",{value:"default"},"All Member",-1)),(o(!0),l(z,null,G(g.noc,a=>(o(),l("option",{key:a.id,value:a.id},d(a.name),9,hl))),128))],544),[[B,s.incidentBy]])]),e("div",Cl,[t[68]||(t[68]=e("span",{class:"z-10 font-normal text-gray-400 absolute bg-transparent rounded text-base items-center justify-center w-8 pl-3 py-4"},[e("i",{class:"fas fa-sliders-h"})],-1)),x(e("select",{"onUpdate:modelValue":t[6]||(t[6]=a=>s.incidentStatus=a),class:"relative self-center block w-full pr-12 py-2 rounded-md text-gray-400 text-sm border-gray-300 focus:ring focus:ring-indigo-500 focus:border-indigo-500 focus:ring-opacity-10 focus:outline-none pl-10",tabindex:"5",onChange:t[7]||(t[7]=(...a)=>s.changeStatus&&s.changeStatus(...a))},t[67]||(t[67]=[e("option",{value:"0"},"All Status",-1),e("option",{value:"1"},"Open",-1),e("option",{value:"2"},"Escalated",-1),e("option",{value:"5"},"Resolved Open",-1),e("option",{value:"3"},"Closed",-1),e("option",{value:"4"},"Deleted",-1)]),544),[[B,s.incidentStatus]])]),e("div",Tl,[L(y,{modelValue:s.incidentDate,"onUpdate:modelValue":t[8]||(t[8]=a=>s.incidentDate=a),range:{partialRange:!0},placeholder:"Ticket Date","enable-time-picker":!1,"model-type":"yyyy-MM-dd",id:"order_date",class:"text-gray-400 text-sm focus:ring focus:ring-indigo-500 focus:border-indigo-500 focus:ring-opacity-10 focus:outline-none"},null,8,["modelValue"])]),e("div",Vl,[e("button",{onClick:t[9]||(t[9]=(...a)=>s.changeStatus&&s.changeStatus(...a)),class:"text-center self-center w-full mt-2 md:w-auto md:mt-0 items-center px-4 py-3 bg-indigo-500 border border-transparent rounded-sm font-semibold text-xs text-white uppercase tracking-widest hover:bg-indigo-400 active:bg-indigo-600 focus:border-litepie-primary-300 focus:ring focus:ring-litepie-primary-500 focus:ring-opacity-10 focus:outline-none disabled:opacity-25 transition mr-1"},t[69]||(t[69]=[e("i",{class:"fas fa-search opacity-75 lg:ml-1 text-sm"},null,-1)]))]),e("div",Sl,[g.write_permission?(o(),l("button",{key:0,onClick:t[10]||(t[10]=a=>s.newTicket()),class:"text-center self-center w-full mt-2 md:w-auto md:mt-0 items-center px-4 py-3 bg-indigo-500 border border-transparent rounded-sm font-semibold text-xs text-white uppercase tracking-widest hover:bg-indigo-400 active:bg-indigo-600 focus:border-litepie-primary-300 focus:ring focus:ring-litepie-primary-500 focus:ring-opacity-10 focus:outline-none disabled:opacity-25 transition mr-1",tabindex:"7"},t[70]||(t[70]=[D("Ticket"),e("i",{class:"fas fa-plus-circle opacity-75 lg:ml-1 text-sm"},null,-1)]))):r("",!0)])]),g.write_permission||g.read_permission?(o(),l("div",Ul,[e("div",Dl,[g.incidents.data?(o(),l("div",jl,[e("table",Il,[e("thead",Ml,[e("tr",null,[t[77]||(t[77]=e("th",{scope:"col",class:"px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},null,-1)),t[78]||(t[78]=e("th",{scope:"col",class:"px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"No.",-1)),e("th",{scope:"col",class:"px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer",onClick:t[11]||(t[11]=a=>s.sortBy("date"))},t[71]||(t[71]=[D("Open Date "),e("i",{class:"fas fa-sort text-gray-400"},null,-1)])),e("th",{scope:"col",class:"px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer",onClick:t[12]||(t[12]=a=>s.sortBy("code"))},t[72]||(t[72]=[D("Ticket "),e("i",{class:"fas fa-sort text-gray-400"},null,-1)])),e("th",{scope:"col",class:"px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer",onClick:t[13]||(t[13]=a=>s.sortBy("ftth_id"))},t[73]||(t[73]=[D("User "),e("i",{class:"fas fa-sort text-gray-400"},null,-1)])),e("th",{scope:"col",class:"px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer",onClick:t[14]||(t[14]=a=>s.sortBy("township_id"))},t[74]||(t[74]=[D("TSP "),e("i",{class:"fas fa-sort text-gray-400"},null,-1)])),e("th",{scope:"col",class:"px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer",onClick:t[15]||(t[15]=a=>s.sortBy("type"))},t[75]||(t[75]=[D("Type "),e("i",{class:"fas fa-sort text-gray-400"},null,-1)])),e("th",{scope:"col",class:"px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer",onClick:t[16]||(t[16]=a=>s.sortBy("incharge"))},t[76]||(t[76]=[D("Created "),e("i",{class:"fas fa-sort text-gray-400"},null,-1)])),t[79]||(t[79]=e("th",{scope:"col",class:"px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Status",-1))])]),e("tbody",Ol,[(o(!0),l(z,null,G(g.incidents.data,(a,R)=>(o(),l("tr",{key:a.id,class:M([[a.id==s.selected_id?"bg-indigo-200":""],"cursor-pointer"]),onClick:H=>s.edit(a)},[e("td",Nl,[e("i",{class:M("fa fa-circle text-"+a.color)},null,2)]),e("td",Ll,d(R+=g.incidents.from),1),e("td",Al,d(a.date)+" "+d(a.time),1),e("td",zl,d(a.code),1),a.ftth_id?(o(),l("td",Bl,d(a.ftth_id),1)):r("",!0),a.township_short?(o(),l("td",El,d(a.township_short),1)):r("",!0),e("td",Rl,d(a.type.replace("_"," ")),1),e("td",Fl,d(a.incharge.match(/\b\w/g).join("")),1),e("td",Hl,d(s.getStatus(a.status)),1)],10,Pl))),128))])])])):r("",!0),g.incidents.total?(o(),l("span",Yl,[e("label",$l,d(g.incidents.data.length)+" Tickets in Current Page. Total Number of Tickets : "+d(g.incidents.total),1)])):r("",!0),g.incidents.links?(o(),l("span",Wl,[L(m,{class:"mt-4",links:g.incidents.links},null,8,["links"])])):r("",!0),g.incidents.data?r("",!0):(o(),l("div",Gl,[L(k)]))]),e("div",Kl,[e("div",ql,[e("div",Jl,[e("div",Ql,[t[80]||(t[80]=e("label",{class:"block text-sm font-normal text-center"},"Critical",-1)),e("button",{class:"block py-2 px-2 w-full bg-red-500 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-red-400 active:bg-red-600 focus:border-red-300 focus:ring focus:ring-red-500 focus:ring-opacity-10 focus:outline-none disabled:opacity-25 transition",onClick:t[17]||(t[17]=a=>s.showPriority("critical"))},d(g.critical),1)]),e("div",{class:"col-span-1",onClick:t[19]||(t[19]=a=>s.showPriority("high"))},[t[81]||(t[81]=e("label",{class:"block text-sm font-normal text-center"},"High",-1)),e("button",{class:"block py-2 px-2 w-full bg-yellow-600 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-yellow-500 active:bg-yellow-700 focus:border-yellow-300 focus:ring focus:ring-yellow-500 focus:ring-opacity-10 focus:outline-none disabled:opacity-25 transition",onClick:t[18]||(t[18]=a=>s.showPriority("high"))},d(g.high),1)]),e("div",{class:"col-span-1",onClick:t[21]||(t[21]=a=>s.showPriority("normal"))},[t[82]||(t[82]=e("label",{class:"block text-sm font-normal text-center"},"Normal",-1)),e("button",{class:"block py-2 px-2 w-full bg-yellow-400 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-yellow-300 active:bg-yellow-500 focus:border-yellow-300 focus:ring focus:ring-yellow-500 focus:ring-opacity-10 focus:outline-none disabled:opacity-25 transition",onClick:t[20]||(t[20]=a=>s.showPriority("normal"))},d(g.normal),1)]),e("div",Xl,[t[83]||(t[83]=e("label",{class:"block text-sm font-normal text-center"},"All",-1)),e("button",{class:"block py-2 px-2 w-full bg-indigo-500 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-indigo-400 active:bg-indigo-600 focus:border-indigo-300 focus:ring focus:ring-indigo-500 focus:ring-opacity-10 focus:outline-none disabled:opacity-25 transition",onClick:t[22]||(t[22]=a=>s.showPriority("all"))},d(g.critical+g.high+g.normal),1)])])]),L(U,{onShow_edit:s.alert_edit},null,8,["onShow_edit"])])])):(o(),l("div",Zl,t[84]||(t[84]=[e("span",{class:"px-20 py-10 center bg-white inline-flex"},[e("i",{class:"fa fas fa-exclamation-triangle fa-2x text-yellow-600 mr-2"}),e("label",{class:"font-bold mt-2 text-sm"}," You Don't Have Permission To Access This Page")],-1)])))])]),s.isOpen?(o(),l("div",er,[e("div",tr,[t[124]||(t[124]=e("div",{class:"fixed inset-0 transition-opacity"},[e("div",{class:"absolute inset-0 bg-gray-500 opacity-75"})],-1)),t[125]||(t[125]=D(" ​ ")),e("div",sr,[e("div",or,[e("div",lr,[e("div",rr,[e("div",ir,[t[89]||(t[89]=e("div",{class:"flex"},[e("h2",{class:"font-semibold text-xl text-gray-800 leading-tight mt-2"},"Ticket Detail")],-1)),e("div",nr,[t[88]||(t[88]=e("span",{class:"border-0 px-3 py-3 placeholder-gray-300 text-gray-600 relative bg-white bg-white rounded-l-md text-sm shadow outline-none focus:outline-none"}," Ticket ID ",-1)),x(e("input",{type:"text","onUpdate:modelValue":t[23]||(t[23]=a=>s.form.code=a),name:"code",id:"code",class:"mr-2 border-0 px-3 py-3 placeholder-gray-300 text-gray-600 relative bg-white bg-white rounded-r-md text-sm shadow outline-none focus:outline-none",disabled:""},null,512),[[b,s.form.code]]),e("ul",ar,[e("li",dr,[t[85]||(t[85]=e("label",{class:"block text-sm"},"Critical",-1)),x(e("input",{"onUpdate:modelValue":t[24]||(t[24]=a=>s.form.priority=a),name:"priority",value:"critical",type:"radio",class:"form-radio h-5 w-5 text-red-600 bg-red-600",title:"(1-4hrs)"},null,512),[[X,s.form.priority]])]),e("li",mr,[t[86]||(t[86]=e("label",{class:"block text-sm"},"High",-1)),x(e("input",{"onUpdate:modelValue":t[25]||(t[25]=a=>s.form.priority=a),name:"priority",value:"high",type:"radio",class:"form-radio h-5 w-5 text-yellow-600 bg-yellow-600",title:"(1-12hrs)"},null,512),[[X,s.form.priority]])]),e("li",cr,[t[87]||(t[87]=e("label",{class:"block text-sm"},"Normal",-1)),x(e("input",{"onUpdate:modelValue":t[26]||(t[26]=a=>s.form.priority=a),name:"priority",value:"normal",type:"radio",class:"form-radio h-5 w-5 text-yellow-300 bg-yellow-300",title:"(1-48hrs)"},null,512),[[X,s.form.priority]])])])])])]),e("div",pr,[e("div",ur,[e("ul",fr,[e("li",{class:M(["px-2 lg:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",[s.tab==1?"border-b-2 border-indigo-400 -mb-px":"opacity-50"]])},[e("a",{href:"#",onClick:t[27]||(t[27]=a=>s.tabClick(1)),"preserve-state":""},"Genaral")],2),e("li",{class:M(["px-2 lg:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",[s.tab==2?"border-b-2 border-indigo-400 -mb-px":"opacity-50"]])},[e("a",{href:"#",onClick:t[28]||(t[28]=a=>s.tabClick(2)),"preserve-state":""},"Tasks")],2),e("li",{class:M(["px-2 lg:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",[s.tab==3?"border-b-2 border-indigo-400 -mb-px":"opacity-50"]])},[e("a",{href:"#",onClick:t[29]||(t[29]=a=>s.tabClick(3)),"preserve-state":""},"Files")],2),e("li",{class:M(["px-2 lg:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",[s.tab==4?"border-b-2 border-indigo-400 -mb-px":"opacity-50"]])},[e("a",{href:"#",onClick:t[30]||(t[30]=a=>s.tabClick(4)),"preserve-state":""},"Customer Info")],2),e("li",{class:M(["px-2 lg:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",[s.tab==5?"border-b-2 border-indigo-400 -mb-px":"opacity-50"]])},[e("a",{href:"#",onClick:t[31]||(t[31]=a=>s.tabClick(5)),"preserve-state":""},"LOGS")],2),e("li",{class:M(["px-2 lg:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",[s.tab==6?"border-b-2 border-indigo-400 -mb-px":"opacity-50"]])},[e("a",{href:"#",onClick:t[32]||(t[32]=a=>s.tabClick(6)),"preserve-state":""},"History")],2)])]),e("div",gr,[e("div",{class:M(["p-4",[s.tab==1?"":"hidden"]])},[e("div",yr,[t[115]||(t[115]=e("div",{class:"py-2 col-span-1 sm:col-span-1"},[e("div",{class:"mt-1 flex"},[e("label",{for:"date",class:"block text-sm font-medium text-gray-700 mt-2 mr-2"},"Incident Detail : ")])],-1)),e("div",xr,[e("div",br,[x(e("input",{type:"date","onUpdate:modelValue":t[33]||(t[33]=a=>s.form.date=a),name:"date",id:"date",class:"form-input focus:ring-indigo-500 focus:border-indigo-500 flex-1 block w-full rounded-md sm:text-sm border-gray-300"},null,512),[[b,s.form.date]])]),i.$page.props.errors.date?(o(),l("p",_r,d(i.$page.props.errors.date),1)):r("",!0)]),e("div",vr,[e("div",wr,[x(e("input",{type:"time","onUpdate:modelValue":t[34]||(t[34]=a=>s.form.time=a),name:"time",class:"form-input focus:ring-indigo-500 focus:border-indigo-500 flex-1 block w-full rounded-md sm:text-sm border-gray-300"},null,512),[[b,s.form.time]])]),i.$page.props.errors.time?(o(),l("p",kr,d(i.$page.props.errors.time),1)):r("",!0)]),t[116]||(t[116]=e("div",{class:"py-2 col-span-1 sm:col-span-1"},[e("div",{class:"mt-1 flex"},[e("label",{for:"first_name",class:"block text-sm font-medium text-gray-700 mt-2 mr-2"}," User ID : ")])],-1)),e("div",hr,[g.customers.length!==0?(o(),l("div",Cr,[L(u,{"deselect-label":"Selected already",options:g.customers,"track-by":"id",label:"ftth_id",modelValue:s.form.customer_id,"onUpdate:modelValue":t[35]||(t[35]=a=>s.form.customer_id=a),"allow-empty":!1},null,8,["options","modelValue"])])):r("",!0),i.$page.props.errors.customer?(o(),l("p",Tr,d(i.$page.props.errors.customer),1)):r("",!0)]),t[117]||(t[117]=e("div",{class:"py-2 col-span-1 sm:col-span-1"},[e("div",{class:"mt-1 flex"},[e("label",{for:"incharge",class:"block text-sm font-medium text-gray-700 mt-2 mr-2"}," Person Incharge : ")])],-1)),e("div",Vr,[g.team.length!==0?(o(),l("div",Sr,[L(u,{"deselect-label":"Selected already",options:g.team,"track-by":"id",label:"name",modelValue:s.form.incharge_id,"onUpdate:modelValue":t[36]||(t[36]=a=>s.form.incharge_id=a),"allow-empty":!1,disabled:!0},null,8,["options","modelValue"])])):r("",!0),i.$page.props.errors.incharge?(o(),l("p",Ur,d(i.$page.props.errors.incharge),1)):r("",!0)]),t[118]||(t[118]=e("div",{class:"py-2 col-span-1 sm:col-span-1"},[e("div",{class:"mt-1 flex"},[e("label",{for:"type",class:"block text-sm font-medium text-gray-700 mt-2 mr-2"}," Type : ")])],-1)),e("div",Dr,[e("div",jr,[x(e("select",{"onUpdate:modelValue":t[37]||(t[37]=a=>s.form.type=a),class:"focus:ring-indigo-500 focus:border-indigo-500 flex-1 block w-full rounded-md sm:text-sm border-gray-300",required:"",onChange:t[38]||(t[38]=a=>s.form.topic=null)},t[90]||(t[90]=[e("option",{value:"default"},"Please Choose Ticket Type",-1),e("option",{value:"service_complaint"},"Service Complaint",-1),e("option",{value:"plan_change"},"Plan Change",-1),e("option",{value:"suspension"},"Suspension",-1),e("option",{value:"termination"},"Termination",-1)]),544),[[B,s.form.type]])]),i.$page.props.errors.type?(o(),l("p",Ir,d(i.$page.props.errors.type),1)):r("",!0)]),s.form.type=="service_complaint"||s.form.type=="onsite_complaint"|s.form.type=="technical_complaint"?(o(),l("div",Mr,t[91]||(t[91]=[e("div",{class:"mt-1 flex"},[e("label",{for:"topic",class:"block text-sm font-medium text-gray-700 mt-2 mr-2"}," Topic : ")],-1)]))):r("",!0),s.form.type=="service_complaint"?(o(),l("div",Or,[e("div",Pr,[x(e("select",{"onUpdate:modelValue":t[39]||(t[39]=a=>s.form.topic=a),class:"focus:ring-indigo-500 focus:border-indigo-500 flex-1 block w-full rounded-md sm:text-sm border-gray-300"},t[92]||(t[92]=[e("option",{value:"los_redlight"},"LOS Redlight",-1),e("option",{value:"pon_blinking"},"PON Blinking",-1),e("option",{value:"high_loss"},"High Loss",-1),e("option",{value:"dn_down"},"DN Down",-1),e("option",{value:"sn_down"},"SN Down",-1),e("option",{value:"relocation"},"Relocation",-1),e("option",{value:"maintenance"},"Maintenance",-1),e("option",{value:"other"},"Other",-1)]),512),[[B,s.form.topic]])]),i.$page.props.errors.topic?(o(),l("p",Nr,d(i.$page.props.errors.topic),1)):r("",!0)])):r("",!0),s.form.type=="onsite_complaint"?(o(),l("div",Lr,[e("div",Ar,[x(e("select",{"onUpdate:modelValue":t[40]||(t[40]=a=>s.form.topic=a),class:"focus:ring-indigo-500 focus:border-indigo-500 flex-1 block w-full rounded-md sm:text-sm border-gray-300"},t[93]||(t[93]=[e("option",{value:"no_internet"},"No Internet",-1),e("option",{value:"slow_performance"},"Slow Performance",-1),e("option",{value:"wifi_issue"},"Wifi Issue",-1),e("option",{value:"coverage_issue"},"Coverage Issue",-1),e("option",{value:"onu_issue"},"ONU issue",-1),e("option",{value:"home_router_issue"},"Home Router Issue",-1),e("option",{value:"password_change"},"Password Change",-1),e("option",{value:"other"},"Other",-1)]),512),[[B,s.form.topic]])]),i.$page.props.errors.topic?(o(),l("p",zr,d(i.$page.props.errors.topic),1)):r("",!0)])):r("",!0),s.form.type=="technical_complaint"?(o(),l("div",Br,[e("div",Er,[x(e("select",{"onUpdate:modelValue":t[41]||(t[41]=a=>s.form.topic=a),class:"focus:ring-indigo-500 focus:border-indigo-500 flex-1 block w-full rounded-md sm:text-sm border-gray-300"},t[94]||(t[94]=[e("option",{value:"website_delay_issue"},"Website Delay Issue",-1),e("option",{value:"gaming_delay_issue"},"Gaming Delay Issue",-1),e("option",{value:"application_delay_issue"},"Application Delay Issue",-1),e("option",{value:"other"},"Other",-1)]),512),[[B,s.form.topic]])]),i.$page.props.errors.topic?(o(),l("p",Rr,d(i.$page.props.errors.topic),1)):r("",!0)])):r("",!0),t[119]||(t[119]=e("div",{class:"py-2 col-span-1 sm:col-span-1"},[e("div",{class:"mt-1 flex"},[e("label",{for:"first_name",class:"block text-sm font-medium text-gray-700 mt-2 mr-2"}," Status : ")])],-1)),e("div",Fr,[e("div",Hr,[x(e("select",{"onUpdate:modelValue":t[42]||(t[42]=a=>s.form.status=a),class:"focus:ring-indigo-500 focus:border-indigo-500 flex-1 block w-full rounded-md sm:text-sm border-gray-300"},t[95]||(t[95]=[e("option",{value:"1"},"Open",-1),e("option",{value:"2",disabled:""},"Escalated",-1),e("option",{value:"5",disabled:""},"Resolved",-1),e("option",{value:"3"},"Closed",-1)]),512),[[B,s.form.status]])]),i.$page.props.errors.status?(o(),l("p",Yr,d(i.$page.props.errors.status),1)):r("",!0)]),s.form.status==3?(o(),l("div",$r,t[96]||(t[96]=[e("div",{class:"mt-1 flex"},[e("label",{for:"date",class:"block text-sm font-medium text-gray-700 mt-2 mr-2"}," Incident Close Period : ")],-1)]))):r("",!0),s.form.status==3?(o(),l("div",Wr,[e("div",Gr,[x(e("input",{type:"date","onUpdate:modelValue":t[43]||(t[43]=a=>s.form.close_date=a),name:"close_date",id:"close_date",class:"form-input focus:ring-indigo-500 focus:border-indigo-500 flex-1 block w-full rounded-md sm:text-sm border-gray-300"},null,512),[[b,s.form.close_date]])]),i.$page.props.errors.close_date?(o(),l("p",Kr,d(i.$page.props.errors.close_date),1)):r("",!0)])):r("",!0),s.form.status==3?(o(),l("div",qr,[e("div",Jr,[x(e("input",{type:"time","onUpdate:modelValue":t[44]||(t[44]=a=>s.form.close_time=a),name:"close_time",class:"form-input focus:ring-indigo-500 focus:border-indigo-500 flex-1 block w-full rounded-md sm:text-sm border-gray-300"},null,512),[[b,s.form.close_time]])]),i.$page.props.errors.close_time?(o(),l("p",Qr,d(i.$page.props.errors.close_time),1)):r("",!0)])):r("",!0),s.form.status==5?(o(),l("div",Xr,t[97]||(t[97]=[e("div",{class:"mt-1 flex"},[e("label",{for:"date",class:"block text-sm font-medium text-gray-700 mt-2 mr-2"}," Incident Resolved Period : ")],-1)]))):r("",!0),s.form.status==5?(o(),l("div",Zr,[e("div",ei,[x(e("input",{type:"date","onUpdate:modelValue":t[45]||(t[45]=a=>s.form.resolved_date=a),name:"close_date",id:"close_date",class:"form-input focus:ring-indigo-500 focus:border-indigo-500 flex-1 block w-full rounded-md sm:text-sm border-gray-300"},null,512),[[b,s.form.resolved_date]])]),i.$page.props.errors.resolved_date?(o(),l("p",ti,d(i.$page.props.errors.resolved_date),1)):r("",!0)])):r("",!0),s.form.status==5?(o(),l("div",si,[e("div",oi,[x(e("input",{type:"time","onUpdate:modelValue":t[46]||(t[46]=a=>s.form.resolved_time=a),name:"close_time",class:"form-input focus:ring-indigo-500 focus:border-indigo-500 flex-1 block w-full rounded-md sm:text-sm border-gray-300"},null,512),[[b,s.form.resolved_time]])]),i.$page.props.errors.resolved_time?(o(),l("p",li,d(i.$page.props.errors.resolved_time),1)):r("",!0)])):r("",!0),s.form.type=="suspension"?(o(),l("div",ri,t[98]||(t[98]=[e("div",{class:"mt-1 flex"},[e("label",{for:"suspense",class:"block text-sm font-medium text-gray-700 mt-2 mr-2"}," Suspense Period : ")],-1)]))):r("",!0),s.form.type=="suspension"?(o(),l("div",ii,[e("div",ni,[e("div",ai,[e("div",di,[t[99]||(t[99]=e("span",{class:"-mt-1 z-10 leading-snug font-normal absolute text-center text-gray-300 absolute bg-transparent rounded text-base items-center justify-center w-8 pl-3 py-3"},[e("i",{class:"fas fa-pause"})],-1)),x(e("input",{type:"date","onUpdate:modelValue":t[47]||(t[47]=a=>s.form.start_date=a),name:"start_date",id:"start_date",class:"pl-10 form-input focus:ring-indigo-500 focus:border-indigo-500 flex-1 block w-full rounded-md sm:text-sm border-gray-300"},null,512),[[b,s.form.start_date]])]),i.$page.props.errors.start_date?(o(),l("p",mi,d(i.$page.props.errors.start_date),1)):r("",!0)]),e("div",ci,[e("div",pi,[t[100]||(t[100]=e("span",{class:"-mt-1 z-10 leading-snug font-normal absolute text-center text-gray-300 absolute bg-transparent rounded text-base items-center justify-center w-8 pl-3 py-3"},[e("i",{class:"fas fa-play"})],-1)),x(e("input",{type:"date","onUpdate:modelValue":t[48]||(t[48]=a=>s.form.end_date=a),name:"end_date",id:"end_date",class:"pl-10 form-input focus:ring-indigo-500 focus:border-indigo-500 flex-1 block w-full rounded-md sm:text-sm border-gray-300"},null,512),[[b,s.form.end_date]])]),i.$page.props.errors.end_date?(o(),l("p",ui,d(i.$page.props.errors.end_date),1)):r("",!0)])])])):r("",!0),s.form.type=="resume"?(o(),l("div",fi,t[101]||(t[101]=[e("div",{class:"mt-1 flex"},[e("label",{for:"resume",class:"block text-sm font-medium text-gray-700 mt-2 mr-2"}," Resume Date : ")],-1)]))):r("",!0),s.form.type=="resume"?(o(),l("div",gi,[e("div",yi,[t[102]||(t[102]=e("span",{class:"z-10 -mt-1 leading-snug font-normal absolute text-center text-gray-300 absolute bg-transparent rounded text-base items-center justify-center w-8 pl-3 py-3"},[e("i",{class:"fas fa-play"})],-1)),x(e("input",{type:"date","onUpdate:modelValue":t[49]||(t[49]=a=>s.form.start_date=a),name:"start_date",id:"start_date",class:"pl-10 form-input focus:ring-indigo-500 focus:border-indigo-500 flex-1 block w-full rounded-md sm:text-sm border-gray-300"},null,512),[[b,s.form.start_date]])]),i.$page.props.errors.resume?(o(),l("p",xi,d(i.$page.props.errors.start_date),1)):r("",!0)])):r("",!0),s.form.type=="termination"?(o(),l("div",bi,t[103]||(t[103]=[e("div",{class:"mt-1 flex"},[e("label",{for:"termination",class:"block text-sm font-medium text-gray-700 mt-2 mr-2"}," Termination Date : ")],-1)]))):r("",!0),s.form.type=="termination"?(o(),l("div",_i,[e("div",vi,[t[104]||(t[104]=e("span",{class:"z-10 -mt-1 leading-snug font-normal absolute text-center text-gray-300 absolute bg-transparent rounded text-base items-center justify-center w-8 pl-3 py-3"},[e("i",{class:"fas fa-stop"})],-1)),x(e("input",{type:"date","onUpdate:modelValue":t[50]||(t[50]=a=>s.form.start_date=a),name:"start_date",id:"start_date",class:"pl-10 form-input focus:ring-indigo-500 focus:border-indigo-500 flex-1 block w-full rounded-md sm:text-sm border-gray-300"},null,512),[[b,s.form.start_date]])]),i.$page.props.errors.start_date?(o(),l("p",wi,d(i.$page.props.errors.start_date),1)):r("",!0)])):r("",!0),s.form.type=="relocation"?(o(),l("div",ki,t[105]||(t[105]=[e("div",{class:"mt-1 flex"},[e("label",{for:"new_address",class:"block text-sm font-medium text-gray-700 mt-2 mr-2"}," New Address : ")],-1)]))):r("",!0),s.form.type=="relocation"?(o(),l("div",hi,[e("div",Ci,[x(e("textarea",{"onUpdate:modelValue":t[51]||(t[51]=a=>s.form.new_address=a),name:"new_address",id:"new_address",class:"focus:ring-indigo-500 focus:border-indigo-500 flex-1 block w-full rounded-md sm:text-sm border-gray-300"}," ",512),[[b,s.form.new_address]])]),i.$page.props.errors.new_address?(o(),l("p",Ti,d(i.$page.props.errors.new_address),1)):r("",!0)])):r("",!0),s.form.type=="relocation"?(o(),l("div",Vi,t[106]||(t[106]=[e("div",{class:"mt-1 flex"},[e("label",{for:"new_address",class:"block text-sm font-medium text-gray-700 mt-2 mr-2"}," New Township : ")],-1)]))):r("",!0),s.form.type=="relocation"?(o(),l("div",Si,[g.townships.length!==0?(o(),l("div",Ui,[L(u,{"deselect-label":"Selected already",options:g.townships,"track-by":"id",label:"name",modelValue:s.form.new_township,"onUpdate:modelValue":t[52]||(t[52]=a=>s.form.new_township=a),"allow-empty":!1},null,8,["options","modelValue"])])):r("",!0),i.$page.props.errors.new_township?(o(),l("p",Di,d(i.$page.props.errors.new_township),1)):r("",!0)])):r("",!0),s.form.type=="relocation"?(o(),l("div",ji,t[107]||(t[107]=[e("div",{class:"mt-1 flex"},[e("label",{for:"new_latlong",class:"block text-sm font-medium text-gray-700 mt-2 mr-2"}," New Location : ")],-1)]))):r("",!0),s.form.type=="relocation"?(o(),l("div",Ii,[e("div",Mi,[e("div",Oi,[e("div",Pi,[t[108]||(t[108]=e("span",{class:"z-10 -mt-1 leading-snug font-normal absolute text-center text-gray-300 absolute bg-transparent rounded text-base items-center justify-center w-8 pl-3 py-3"},[e("i",{class:"fas fa-location-arrow"})],-1)),x(e("input",{type:"text","onUpdate:modelValue":t[53]||(t[53]=a=>s.form.latitude=a),name:"latitude",id:"latitude",class:"pl-10 form-input focus:ring-indigo-500 focus:border-indigo-500 flex-1 block w-full rounded-md sm:text-sm border-gray-300",placeholder:"Latitude"},null,512),[[b,s.form.latitude]])]),i.$page.props.errors.latitude?(o(),l("p",Ni,d(i.$page.props.errors.latitude),1)):r("",!0)]),e("div",Li,[e("div",Ai,[t[109]||(t[109]=e("span",{class:"z-10 -mt-1 leading-snug font-normal absolute text-center text-gray-300 absolute bg-transparent rounded text-base items-center justify-center w-8 pl-3 py-3"},[e("i",{class:"fas fa-location-arrow"})],-1)),x(e("input",{type:"text","onUpdate:modelValue":t[54]||(t[54]=a=>s.form.longitude=a),name:"longitude",id:"longitude",class:"pl-10 form-input focus:ring-indigo-500 focus:border-indigo-500 flex-1 block w-full rounded-md sm:text-sm border-gray-300",placeholder:"Longitude"},null,512),[[b,s.form.longitude]])]),i.$page.props.errors.longitude?(o(),l("p",zi,d(i.$page.props.errors.longitude),1)):r("",!0)])])])):r("",!0),s.form.type=="relocation"?(o(),l("div",Bi,t[110]||(t[110]=[e("div",{class:"mt-1 flex"},[e("label",{for:"new_address",class:"block text-sm font-medium text-gray-700 mt-2 mr-2"}," Effective Date : ")],-1)]))):r("",!0),s.form.type=="relocation"?(o(),l("div",Ei,[e("div",Ri,[t[111]||(t[111]=e("span",{class:"z-10 -mt-1 leading-snug font-normal absolute text-center text-gray-300 absolute bg-transparent rounded text-base items-center justify-center w-8 pl-3 py-3"},[e("i",{class:"fas fa-truck"})],-1)),x(e("input",{type:"date","onUpdate:modelValue":t[55]||(t[55]=a=>s.form.start_date=a),name:"start_date",id:"start_date",class:"pl-10 form-input focus:ring-indigo-500 focus:border-indigo-500 flex-1 block w-full rounded-md sm:text-sm border-gray-300"},null,512),[[b,s.form.start_date]])]),i.$page.props.errors.start_date?(o(),l("p",Fi,d(i.$page.props.errors.start_date),1)):r("",!0)])):r("",!0),s.form.type=="plan_change"?(o(),l("div",Hi,t[112]||(t[112]=[e("div",{class:"mt-1 flex"},[e("label",{for:"new_package",class:"block text-sm font-medium text-gray-700 mt-2 mr-2"}," New Package: ")],-1)]))):r("",!0),s.form.type=="plan_change"?(o(),l("div",Yi,[g.packages.length!==0?(o(),l("div",$i,[L(u,{"deselect-label":"Selected already",options:g.packages,"track-by":"id",label:"item_data",modelValue:s.form.package_id,"onUpdate:modelValue":t[56]||(t[56]=a=>s.form.package_id=a),"allow-empty":!1},null,8,["options","modelValue"])])):r("",!0),i.$page.props.errors.package?(o(),l("p",Wi,d(i.$page.props.errors.package),1)):r("",!0)])):r("",!0),s.form.type=="plan_change"?(o(),l("div",Gi,t[113]||(t[113]=[e("div",{class:"mt-1 flex"},[e("label",{for:"new_address",class:"block text-sm font-medium text-gray-700 mt-2 mr-2"}," Effective Date : ")],-1)]))):r("",!0),s.form.type=="plan_change"?(o(),l("div",Ki,[e("div",qi,[t[114]||(t[114]=e("span",{class:"z-10 -mt-1 leading-snug font-normal absolute text-center text-gray-300 absolute bg-transparent rounded text-base items-center justify-center w-8 pl-3 py-3"},[e("i",{class:"fas fa-random"})],-1)),x(e("input",{type:"date","onUpdate:modelValue":t[57]||(t[57]=a=>s.form.start_date=a),name:"start_date",id:"start_date",class:"pl-10 form-input focus:ring-indigo-500 focus:border-indigo-500 flex-1 block w-full rounded-md sm:text-sm border-gray-300"},null,512),[[b,s.form.start_date]])]),i.$page.props.errors.start_date?(o(),l("p",Ji,d(i.$page.props.errors.start_date),1)):r("",!0)])):r("",!0),t[120]||(t[120]=e("div",{class:"py-2 col-span-1 sm:col-span-1"},[e("div",{class:"mt-1 flex"},[e("label",{for:"detail",class:"block text-sm font-medium text-gray-700 mt-2 mr-2"}," Detail : ")])],-1)),e("div",Qi,[e("div",Xi,[x(e("textarea",{"onUpdate:modelValue":t[58]||(t[58]=a=>s.form.description=a),name:"detail",id:"detail",class:"focus:ring-indigo-500 focus:border-indigo-500 flex-1 block w-full rounded-md sm:text-sm border-gray-300"}," ",512),[[b,s.form.description]])]),i.$page.props.errors.description?(o(),l("p",Zi,d(i.$page.props.errors.description),1)):r("",!0)])])],2),e("div",{class:M(["p-4",[s.tab==2?"":"hidden"]])},[(o(),E(J,null,[s.tab==2?(o(),E(S,{data:s.selected_id,key:s.page_update},null,8,["data"])):r("",!0)],1024))],2),e("div",{class:M(["p-4",[s.tab==3?"":"hidden"]])},[(o(),E(J,null,[s.tab==3?(o(),E(j,{data:s.selected_id,key:s.page_update},null,8,["data"])):r("",!0)],1024))],2),e("div",{class:M(["p-4",[s.tab==4?"":"hidden"]])},[(o(),E(J,null,[s.tab==4?(o(),E(T,{data:s.selected_id,key:s.page_update},null,8,["data"])):r("",!0)],1024))],2),e("div",{class:M(["p-4",[s.tab==5?"":"hidden"]])},[(o(),E(J,null,[s.tab==5?(o(),E(n,{data:s.selected_id,key:s.page_update},null,8,["data"])):r("",!0)],1024))],2),e("div",{class:M(["p-4",[s.tab==6?"":"hidden"]])},[(o(),E(J,null,[s.tab==6?(o(),E(h,{data:s.selected_id,key:s.page_update},null,8,["data"])):r("",!0)],1024))],2)])])])]),e("div",{class:M(["bg-indigo-50 px-3 py-3 sm:px-6 sm:flex sm:flex-row",[s.tab==1?"justify-between":"justify-end"]])},[s.tab==1&&g.write_permission?(o(),l("div",en,[e("button",{class:"inline-flex items-center px-4 py-3 bg-indigo-500 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-indigo-400 active:bg-indigo-600 focus:outline-none focus:border-indigo-900 disabled:opacity-25 transition mr-1",onClick:t[59]||(t[59]=a=>s.submit())},[s.editMode?(o(),l("span",tn,"Update")):r("",!0),s.editMode==!1?(o(),l("span",sn,"Save")):r("",!0),t[121]||(t[121]=e("i",{class:"fas fa-save opacity-75 lg:ml-1 text-sm"},null,-1))]),x(e("button",{onClick:t[60]||(t[60]=(...a)=>s.deleteIncident&&s.deleteIncident(...a)),class:"inline-flex items-center px-4 py-3 bg-red-500 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-red-400 active:bg-red-600 focus:outline-none focus:border-gray-500 disabled:opacity-25 transition mr-1"},t[122]||(t[122]=[D("Delete"),e("i",{class:"lg:ml-1 fas fa-trash opacity-75 text-sm"},null,-1)]),512),[[ye,s.selected_id]])])):r("",!0),e("div",on,[e("button",{onClick:t[61]||(t[61]=(...a)=>s.closeModal&&s.closeModal(...a)),type:"button",class:"inline-flex items-center px-4 py-3 bg-gray-200 border border-transparent rounded-md font-semibold text-xs text-gray-600 uppercase tracking-widest hover:bg-gray-300 active:bg-gray-400 focus:outline-none focus:border-gray-500 disabled:opacity-25 transition"},t[123]||(t[123]=[D("Close "),e("i",{class:"lg:ml-1 fas fa-times-circle opacity-75 text-sm"},null,-1)]))])],2)])])],512)):r("",!0),s.loading?(o(),l("div",ln,t[126]||(t[126]=[e("div",{class:"loader ease-linear rounded-full border-4 border-t-4 border-gray-200 h-12 w-12 mb-4"},null,-1),e("h2",{class:"text-center text-white text-xl font-semibold"},"Loading...",-1),e("p",{class:"w-1/3 text-center text-white"},"This may take a few seconds, please don't close this page.",-1)]))):r("",!0)]),_:1})}const yn=Y(yl,[["render",rn]]);export{yn as default};
