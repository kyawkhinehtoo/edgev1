import{A as P}from"./AppLayout-DQMHUDA-.js";import{P as T}from"./Pagination-BDaU9i64.js";import{K as M,r as h,q as w,c as _,w as k,N as p,o as a,a as e,s as u,v as j,L as C,d,g as E,F as N,f as O,h as A,t as y,e as f,x as S}from"./app-DdoqqyeN.js";import{_ as V}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./DropdownLink-DupIRA2Y.js";const B={name:"Project",components:{AppLayout:P,Pagination:T},props:{projects:Object,errors:Object},setup(g){const t=M({id:null,name:null}),i=h("");let s=h(!1),c=h(!1);function l(){t.name=null}function x(){s.value?(t._method="PUT",p.post("/project/"+t.id,t,{onSuccess:r=>{n(),l(),Toast.fire({icon:"success",title:r.props.flash.message})},onError:r=>{n(),console.log("error ..".errors)}})):(t._method="POST",p.post("/project",t,{preserveState:!0,onSuccess:r=>{n(),l(),Toast.fire({icon:"success",title:r.props.flash.message})},onError:r=>{n(),console.log("error ..".errors)}}))}function b(r){t.id=r.id,t.name=r.name,s.value=!0,m()}function o(r){confirm("Are you sure want to remove?")&&(r._method="DELETE",p.post("/project/"+r.id,r,{preserveState:!0,onSuccess:v=>{n(),l(),Toast.fire({icon:"success",title:v.props.flash.message})},onError:v=>{n(),console.log("error ..".errors)}}),n(),l())}function m(){c.value=!0}const n=()=>{c.value=!1,l(),s.value=!1};return{form:t,submit:x,editMode:s,isOpen:c,openModal:m,closeModal:n,edit:b,deleteRow:o,searchTsp:()=>{console.log("search value is"+i.value),p.get("/project/",{project:i.value},{preserveState:!0})},search:i}}},D={class:"py-12"},L={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},U={class:"bg-white overflow-hidden shadow-xl sm:rounded-lg p-6"},F={class:"flex justify-between mb-6"},K={class:"flex items-center flex-1"},R={class:"w-1/3"},q={class:"min-w-full divide-y divide-gray-200"},z={class:"bg-white divide-y divide-gray-200"},G={class:"px-6 py-4 whitespace-nowrap"},H={class:"px-6 py-4 whitespace-nowrap"},I={class:"px-6 py-4 whitespace-nowrap"},J=["onClick"],Q=["onClick"],W={key:0,ref:"isOpen",class:"fixed z-10 inset-0 overflow-y-auto ease-out duration-400"},X={class:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0"},Y={class:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full",role:"dialog","aria-modal":"true","aria-labelledby":"modal-headline"},Z={class:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4"},$={class:""},ee={class:"mb-4"},te={key:0,class:"text-red-500"},se={class:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse"},oe={class:"flex w-full rounded-md shadow-sm sm:ml-3 sm:w-auto"},re={"wire:click.prevent":"submit",type:"submit",class:"inline-flex items-center px-4 py-2 bg-gray-800 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-gray-700 active:bg-gray-900 focus:outline-none focus:border-gray-900 focus:ring focus:ring-gray-300 disabled:opacity-25 transition"},ne={class:"flex w-full rounded-md shadow-sm sm:ml-3 sm:w-auto"},ie={"wire:click.prevent":"submit",type:"submit",class:"inline-flex items-center px-4 py-2 bg-gray-800 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-gray-700 active:bg-gray-900 focus:outline-none focus:border-gray-900 focus:ring focus:ring-gray-300 disabled:opacity-25 transition"},ae={class:"mt-3 flex w-full rounded-md shadow-sm sm:mt-0 sm:w-auto"},le={key:0};function de(g,t,i,s,c,l){const x=w("Pagination"),b=w("app-layout");return a(),_(b,null,{header:k(()=>t[6]||(t[6]=[e("h2",{class:"font-semibold text-xl text-white leading-tight"},"Project Setup",-1)])),default:k(()=>[e("div",D,[e("div",L,[e("div",U,[e("div",F,[e("div",K,[e("div",R,[u(e("input",{"onUpdate:modelValue":t[0]||(t[0]=o=>s.search=o),type:"text",placeholder:"Search projects...",class:"w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",onKeyup:t[1]||(t[1]=C((...o)=>s.searchTsp&&s.searchTsp(...o),["enter"]))},null,544),[[j,s.search]])])]),e("button",{onClick:t[2]||(t[2]=(...o)=>s.openModal&&s.openModal(...o)),class:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded"}," Add Project ")]),e("table",q,[t[7]||(t[7]=e("thead",null,[e("tr",null,[e("th",{class:"px-6 py-3 bg-gray-50 text-left text-xs leading-4 font-medium text-gray-500 uppercase tracking-wider"},"No."),e("th",{class:"px-6 py-3 bg-gray-50 text-left text-xs leading-4 font-medium text-gray-500 uppercase tracking-wider"},"Name"),e("th",{class:"px-6 py-3 bg-gray-50 text-left text-xs leading-4 font-medium text-gray-500 uppercase tracking-wider"},"Actions")])],-1)),e("tbody",z,[(a(!0),d(N,null,E(i.projects.data,(o,m)=>(a(),d("tr",{key:o.id},[e("td",G,y(i.projects.from+m),1),e("td",H,y(o.name),1),e("td",I,[e("a",{href:"#",onClick:n=>s.edit(o),class:"text-indigo-600 hover:text-indigo-900 mr-3"},"Edit",8,J),e("a",{href:"#",onClick:n=>s.deleteRow(o),class:"text-red-600 hover:text-red-900"},"Delete",8,Q)])]))),128))])]),s.isOpen?(a(),d("div",W,[e("div",X,[t[9]||(t[9]=e("div",{class:"fixed inset-0 transition-opacity"},[e("div",{class:"absolute inset-0 bg-gray-500 opacity-75"})],-1)),t[10]||(t[10]=e("span",{class:"hidden sm:inline-block sm:align-middle sm:h-screen"},null,-1)),t[11]||(t[11]=O("â€‹ ")),e("div",Y,[e("form",{onSubmit:t[5]||(t[5]=A((...o)=>s.submit&&s.submit(...o),["prevent"]))},[e("div",Z,[e("div",$,[e("div",ee,[t[8]||(t[8]=e("label",{for:"name",class:"block text-gray-700 text-sm font-bold mb-2"},"Project Name:",-1)),u(e("input",{type:"text",class:"mt-1 focus:ring-indigo-500 focus:border-indigo-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md",id:"name",placeholder:"Enter Project Name","onUpdate:modelValue":t[3]||(t[3]=o=>s.form.name=o)},null,512),[[j,s.form.name]]),g.$page.props.errors.name?(a(),d("div",te,y(g.$page.props.errors.name[0]),1)):f("",!0)])])]),e("div",se,[e("span",oe,[u(e("button",re,"Save",512),[[S,!s.editMode]])]),e("span",ne,[u(e("button",ie,"Update",512),[[S,s.editMode]])]),e("span",ae,[e("button",{onClick:t[4]||(t[4]=(...o)=>s.closeModal&&s.closeModal(...o)),type:"button",class:"inline-flex justify-center w-full rounded-md border border-gray-300 px-4 py-2 bg-white text-base leading-6 font-medium text-gray-700 shadow-sm hover:text-gray-500 focus:outline-none focus:border-blue-300 focus:shadow-outline-blue transition ease-in-out duration-150 sm:text-sm sm:leading-5"},"Cancel")])])],32)])])],512)):f("",!0)]),i.projects.links?(a(),d("span",le,[i.projects.links?(a(),_(x,{key:0,links:i.projects.links,class:"mt-6"},null,8,["links"])):f("",!0)])):f("",!0)])])]),_:1})}const xe=V(B,[["render",de]]);export{xe as default};
