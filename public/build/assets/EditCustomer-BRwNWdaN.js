import{A as He}from"./AppLayout-ByqcgRdv.js";import{M as Ge}from"./vue3-multiselect.umd.min-DK4AWNyY.js";import{r as g,y as Se,o as m,d as u,a as t,e as x,F as se,g as ne,t as n,f as c,m as Ke,E as Je,T as he,x as T,q as re,z as R,c as H,w as ee,N as Pe,i as We,n as V,j as d,k as y,A as f,b as k,v as Ye,P as Ve,M as te}from"./app-V5yHASp-.js";import{C as Qe,_ as Xe}from"./ImageUploader-DmJhUWjI.js";import{_ as Ce}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./DropdownLink-B32vn3Nb.js";import"./Upload-CohcMGVM.js";const Ze={name:"CustomerHistory",props:["data"],setup(o){const e=g(),p=async()=>{let h="/getCustomerHistory/"+o.data;try{return await(await fetch(h)).json()}catch(b){console.error(b)}},s=()=>{p().then(h=>{e.value=h})},j=h=>{var b=new Date(h),U=b.getFullYear(),O=b.getMonth()+1,S=b.getDate();console.log(),S<10&&(S="0"+S),O<10&&(O="0"+O);var C=U+"-"+O+"-"+S+" "+b.getHours()+":"+b.getMinutes()+":"+b.getSeconds();return C};return Se(()=>{s()}),{logs:e,formatDate:j}}},$e={key:0,"wire:loading":"",class:"w-full flex flex-col items-center justify-center"},et={key:1},tt={class:"min-w-full divide-y divide-gray-200"},st={class:"bg-white divide-y divide-gray-200 text-sm text-left"},ot={class:"px-3 py-3 text-xs font-medium tracking-wider"},lt={class:"px-3 py-3 text-xs font-medium tracking-wider"},rt={class:"px-3 py-3 text-xs font-medium tracking-wider"},nt={class:"px-3 py-3 text-xs font-medium tracking-wider"},at={key:0},it=["innerHTML"];function dt(o,e,p,s,j,h){return m(),u(se,null,[s.logs?x("",!0):(m(),u("div",$e,e[0]||(e[0]=[t("div",{class:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-purple-500"},null,-1),t("h2",{class:"text-center text-gray-600 text-sm font-semibold mt-2"},"Loading...",-1)]))),s.logs?(m(),u("div",et,[t("table",tt,[e[3]||(e[3]=t("thead",{class:"bg-gray-50 text-left"},[t("tr",null,[t("th",{scope:"col",class:"px-6 py-3 text-xs font-medium text-gray-500 uppercase tra"},"No."),t("th",{scope:"col",class:"px-6 py-3 text-xs font-medium text-gray-500 uppercase tracking-wider"},"Updated On"),t("th",{scope:"col",class:"px-6 py-3 text-xs font-medium text-gray-500 uppercase tracking-wider"},"Actor"),t("th",{scope:"col",class:"px-6 py-3 text-xs font-medium text-gray-500 uppercase tracking-wider"},"Action")])],-1)),t("tbody",st,[(m(!0),u(se,null,ne(s.logs,(b,U)=>(m(),u("tr",{key:b.id},[t("td",ot,n(U+1),1),t("td",lt,n(s.formatDate(b.created_at)),1),t("td",rt,n(b.actor_name),1),t("td",nt,[b.general?(m(),u("span",at,[t("span",{innerHTML:b.general},null,8,it),e[1]||(e[1]=c()),e[2]||(e[2]=t("br",null,null,-1))])):x("",!0)])]))),128))])])])):x("",!0)],64)}const mt=Ce(Ze,[["render",dt]]),ut={name:"EditCustomer",components:{AppLayout:He,CustomerFile:Qe,Multiselect:Ge,CustomerHistory:mt,Link:Ke,ImageUploader:Xe},props:{packages:Object,isps:Object,townships:Object,partners:Object,errors:Object,customer:Object,status_list:Object,subcoms:Object,user:Object,customer_history:Object,pops:Object,total_documents:Number,bundle_equiptments:Object,userPerm:Array,allStatus:Object,subconCheckList:Object,popDevices:Object,snPort:Object,installationServices:Object,portSharingServices:Object,maintenanceServices:Object,supervisors:Object,cities:Object,checkListSummary:Object},setup(o){var ue,ce,pe,fe,be,ge,xe,ye,_e,ve,we;Je("role",o.role),g(""),g(""),g("");let e=g("");g(!1);let p="",s="";const j=g(null),h=g(null),b=g(null),U=g(null),O=g(null),S=g([]);S.value=o.customer.partner_id?o.partners.filter(r=>r.id===o.customer.partner_id):[];const C=g([]),D=g([]),G=g({}),L=g([{id:"team_assigned",name:"Team Assigned"},{id:"installation_start",name:"Installation Start"},{id:"installation_complete",name:"Installation Complete"},{id:"photo_upload_complete",name:"Photo Upload Complete"},{id:"photo_upload_rejected",name:"Photo Upload Rejected"},{id:"supervisor_approved",name:"Supervisor Approved"},{id:"customer_cancel",name:"Customer Cancel"},{id:"port_full",name:"Port Full"}]);let A=g(o.allStatus),F=g(!1);const K=g(o.customer.route_kmz_image||null),J=g(o.customer.drum_no_image||null),W=g(o.customer.start_meter_image||null),Y=g(o.customer.end_meter_image||null),Q=r=>r.disabled===!0,I=g(Array.from({length:16},(r,i)=>({id:i+1,name:`SN Port ${i+1}`}))),M=g(Array.from({length:127},(r,i)=>({id:i,name:`OnuID${i}`})));(ue=o.customer.current_address)!=null&&ue.location&&(p=o.customer.current_address.location.split(",",2)),(ce=o.customer.current_address)!=null&&ce.actual_location&&(s=o.customer.current_address.actual_location.split(",",2));let z=g(1),X=g("");const l=g([]),q=g([]),N=g([]);function Z(r){X.value!=null&&(z.value=r)}const a=he({id:o.customer.id,name:o.customer.name,phone_1:o.customer.phone_1,address:(pe=o.customer.current_address)==null?void 0:pe.address,latitude:p[0]?p[0]:"",longitude:p[1]?p[1]:"",actual_latitude:s[0]?s[0]:"",actual_longitude:s[1]?s[1]:"",order_date:o.customer.order_date,order_remark:o.customer.order_remark,installation_date:o.customer.installation_date,service_activation_date:o.customer.service_activation_date,isp_ftth_id:o.customer.isp_ftth_id,ftth_id:o.customer.ftth_id,township:(fe=o.customer.current_address)==null?void 0:fe.township,township_id:(be=o.customer.current_address)==null?void 0:be.township_id,installation_service_id:o.customer.installation_service_id,maintenance_service_id:o.customer.maintenance_service_id,installation_service:o.customer.installation_service,maintenance_service:o.customer.maintenance_service,bandwidth:o.customer.bandwidth,status:"",subcom:"",prefer_install_date:o.customer.prefer_install_date,splitter_no:(ge=o.snPort)==null?void 0:ge.port_number,installation_remark:o.customer.installation_remark,fc_used:o.customer.fc_used,fc_damaged:o.customer.fc_damaged,onu_serial:o.customer.onu_serial,onu_power:o.customer.onu_power,fiber_distance:o.customer.fiber_distance,vlan:o.customer.vlan,bundles:"",gpon_ontid:o.customer.gpon_ontid,port_balance:o.customer.port_balance,pop_id:(xe=o.snPort)==null?void 0:xe.pop,pop_device_id:(ye=o.snPort)==null?void 0:ye.pop_device,dn_id:(_e=o.snPort)==null?void 0:_e.dn_splitter,sn_id:(ve=o.snPort)==null?void 0:ve.sn_splitter,partner_id:o.customer.partner_id,partner:(we=o.customer)==null?void 0:we.partner,isp_id:o.customer.isp,way_list_date:o.customer.way_list_date,installation_status:"",route_kmz_image:o.customer.route_kmz_image,drum_no_txt:o.customer.drum_no_txt,drum_no_image:o.customer.drum_no_image,start_meter_txt:o.customer.start_meter_txt,start_meter_image:o.customer.start_meter_image,end_meter_txt:o.customer.end_meter_txt,end_meter_image:o.customer.end_meter_image,service_type:o.customer.service_type,supervisor_id:o.customer.supervisor_id,supervisor:o.customer.supervisor,bundles:"",city:o.customer.city??null,city_id:o.customer.city_id??null,pppoe_username:o.customer.pppoe_username||"",pppoe_password:o.customer.pppoe_password||""}),E=he({...Object.fromEntries(o.subconCheckList?Object.values(o.subconCheckList).flatMap(r=>{var i,_,P,v;return[[`checklist_${r.id}_title`,((_=(i=o.customer.checklist_values)==null?void 0:i[r.id])==null?void 0:_.title)||""],[`checklist_${r.id}_attachment`,null],[`checklist_${r.id}_status`,((v=(P=o.customer.checklist_values)==null?void 0:P[r.id])==null?void 0:v.status)||""]]}):[])}),w=g(!1),oe=g(null);function je(r){oe.value=r,w.value=!0}function Oe(){w.value=!1,oe.value=null}const B=g(null),ae=()=>{console.log("close model"),B.value=null};function Ue(){console.log("installationApproval"),Pe.post("/installationApproval/"+a.id,E,{onSuccess:r=>{Toast.fire({icon:"success",title:r.props.flash.message}),ae()},onError:r=>{console.error("Error submitting form:",r)},headers:{"Content-Type":"multipart/form-data"}})}function Ie(){const r=new FormData;Object.keys(a).forEach(i=>{i!=="_method"&&(i.includes("image")&&a[i]instanceof File?r.append(i,a[i]):typeof a[i]=="object"&&a[i]!==null?r.append(i,JSON.stringify(a[i])):a[i]!==null&&a[i]!==void 0&&r.append(i,a[i]))}),r.append("_method","PUT"),Pe.post("/customer/"+a.id,r,{onSuccess:i=>{Toast.fire({icon:"success",title:i.props.flash.message})},onError:i=>{console.error("Error submitting form:",i)},headers:{"Content-Type":"multipart/form-data"}})}function De(r){var _,P;const i=(_=o.user)==null?void 0:_.role;return i&&i!=null&&i.read_customer||o.user.user_type=="isp"&&((P=o.customer.status)==null?void 0:P.type)=="active"?!0:!o.userPerm.includes(r)}function Ae(r){r=r||window.event;var i=r.which?r.which:r.keyCode;if(i>31&&(i<48||i>57)&&i!==46)r.preventDefault();else return!0}function Ne(r,i){if(!r||!i)return console.error("Invalid inputs: roleStatus or customerStatus is missing"),!1;try{return typeof r=="string"&&(r=JSON.parse(r)),Array.isArray(r)?r.some(_=>_.id==i.id):(console.error("Error: roleStatus is not an array",r),!1)}catch(_){return console.error("Error parsing roleStatus:",_),!1}}const ie=async()=>{if(!a.pop_id){l.value=[];return}try{const i=await(await fetch(`/getOLTByPOP/${a.pop_id.id}`)).json();l.value=i||[],console.log("fetch POP Devices")}catch(r){console.error("Failed to fetch POP devices",r)}},de=async()=>{if(!a.pop_device_id){q.value=[];return}try{const i=await(await fetch(`/getDNByOLT/${a.pop_device_id.id}`)).json();q.value=i||[]}catch(r){console.error("Failed to fetch DNs",r)}},me=async()=>{if(!a.dn_id){N.value=[];return}try{const i=await(await fetch(`/getDnId/${a.dn_id.id}`)).json();N.value=i||[]}catch(r){console.error("Failed to fetch SNs",r)}},Te=async()=>{var r;if(!a.sn_id){I.value=Array.from({length:16},(i,_)=>({id:_+1,name:`SN Port ${_+1}`}));return}try{const _=await(await fetch(`/getAvailablePortBySplitterId/${(r=a.sn_id)==null?void 0:r.id}`)).json();I.value=_||[]}catch(i){console.error("Failed to fetch available ports",i),I.value=Array.from({length:16},(_,P)=>({id:P+1,name:`SN Port ${P+1}`}))}},le=async r=>{if(!r){D.value=[],a.township="";return}try{const _=await(await fetch(`/getTownshipByCityId/${r}`)).json();D.value=_||[],console.log("fetch Township Data")}catch(i){console.error("Failed to fetch Township Data",i)}};T(()=>a.township,async r=>{if(r)try{a.pop_id=null,a.pop_device_id=null,a.dn_id=null,a.sn_id=null,a.partner=null,r.partner_id&&(a.partner=o.partners.find(P=>P.id===r.partner_id));const _=await(await fetch(`/getPOPsByTownship/${r.id}`)).json();C.value=_||[]}catch(i){console.error("Failed to fetch data for township",i),C.value=[]}else C.value=[],a.partner=null}),T(()=>a.pop_id,()=>{ie(),a.sn_id=null,a.dn_id=null,a.pop_device_id=null,a.splitter_no=null,a.gpon_ontid=null,a.port_balance=null,a.pop_id&&a.pop_id.partner_id?(console.log("Filtering partners by pop",a.pop_id.partner_id),S.value=o.partners.filter(r=>r.id===a.pop_id.partner_id),a.partner_id=a.pop_id.partner_id):(console.log("Resetting partners to all partners"),S.value=o.partners,a.partner_id=null)}),T(()=>a.pop_device_id,()=>{de(),a.dn_id=null,a.sn_id=null,a.splitter_no=null}),T(()=>a.dn_id,()=>{me(),a.sn_id=null,a.splitter_no=null}),T(()=>a.sn_id,()=>{Te()}),T(()=>a.city_id,r=>{le(r),a.township=""});function Le(r){return Array.isArray(r)?(console.log("array"),r.length===0?(console.log("empty array"),!0):r.every(i=>typeof i=="object"&&Object.keys(i).length===0)):r&&typeof r=="object"?Object.keys(r).length===0:!1}const Fe=()=>{if(h.value){let r=h.value.innerText;navigator.clipboard.writeText(r).then(()=>{alert("Text copied to clipboard!")}).catch(i=>{console.error("Failed to copy text: ",i)})}else console.error("Text content ref is undefined.")},Me=()=>{if(h.value){let r=h.value.innerText;navigator.share&&navigator.share({title:"Customer Information",text:r}).then(()=>{alert("Text copied to clipboard!")}).catch(i=>{console.error("Failed to copy text: ",i)})}else console.error("Text content ref is undefined.")},ze=re(()=>{var r;return!o.installationServices||!a.service_type?[]:(((r=o.customer.installation_service)==null?void 0:r.service_type)!==(a.service_type||"").toLowerCase()&&(a.installation_service_id=null,a.installation_service=null),o.installationServices.filter(i=>(i.service_type||"").toLowerCase()===(a.service_type||"").toLowerCase()))}),qe=re(()=>{var r;return!o.maintenanceServices||!a.service_type?[]:(((r=o.customer.maintenance_service)==null?void 0:r.service_type)!==(a.service_type||"").toLowerCase()&&(a.maintenance_service_id=null,a.maintenance_service=null),o.maintenanceServices.filter(i=>(i.service_type||"").toLowerCase()===(a.service_type||"").toLowerCase()))}),Ee=re(()=>{if(!B.value)return null;const r=o.checkListSummary.find(i=>i.id===B.value);return!r||r.total===r.remaining?null:o.subconCheckList.filter(i=>i.group_id===B.value)});return Se(()=>{var _,P;if(a.installation_status=o.customer.installation_status?L.value.filter(v=>v.id==o.customer.installation_status)[0]:null,le(o.customer.city_id),a.township&&fetch(`/getPOPsByTownship/${a.township.id}`).then(v=>v.json()).then(v=>{C.value=v||[]}).catch(v=>{console.error("Failed to fetch pop for township",v),C.value=[]}),a.pop_id&&ie(),a.pop_device_id&&de(),a.dn_id&&me(),o.customer.bundle){let v=o.customer.bundle.split(",").filter(Boolean),ke=[];j.value=[],v.forEach(Be=>{const $=o.bundle_equiptments.find(Re=>Re.id==Be);$&&(ke.push($),j.value=j.value?`${j.value},${$.name}`:$.name)}),a.bundles=ke}(_=o.snPort)!=null&&_.port_number&&(a.splitter_no=I.value.filter(v=>v.id==o.snPort.port_number)[0],O.value=(P=a.splitter_no)==null?void 0:P.name),o.customer.gpon_ontid&&(a.gpon_ontid=M.value.filter(v=>v.name==o.customer.gpon_ontid)[0]),a.status=o.allStatus.filter(v=>v.id==o.customer.status_id)[0],a.subcom=o.subcoms.filter(v=>v.id==o.customer.subcom_id)[0];let r=o.allStatus.filter(v=>v.id==o.customer.status_id)[0];a.status=r;let i=o.status_list;Ne(i,r)?A.value=i:(A.value=o.allStatus,F.value=!0)}),{form:a,form2:E,submit:Ie,isNumber:Ae,checkPerm:De,tab:z,tabClick:Z,isEmptyObject:Le,pop_devices:e,snPortNoOptions:I,gponOnuIdOptions:M,bundle:j,shareText:Me,copyText:Fe,textContent:h,dnName:b,snName:U,snPort:O,popDevices:l,dnOptions:q,snOptions:N,filteredPops:C,filteredTownships:D,getTownshipByCityId:le,disableStatus:F,statusList:A,routeImagePreview:K,drumImagePreview:J,startMeterImagePreview:W,endMeterImagePreview:Y,installationStatus:L,checklistImagePreviews:G,showFullView:w,selectedImageId:oe,openFullView:je,closeFullView:Oe,installationApproval:Ue,isOptionDisabled:Q,filteredInstallationServices:ze,filteredMaintenanceServices:qe,filteredPartners:S,selectedGroupId:B,filteredChecklists:Ee,closeModel:ae}}},ct={class:"py-2"},pt={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},ft={class:"mt-5 md:mt-0 md:col-span-2"},bt={class:"shadow sm:rounded-md sm:overflow-hidden"},gt={class:"inline-flex w-full bg-gray-50 rounded-t-lg"},xt={id:"tabs",class:"flex"},yt={id:"tab-contents"},_t={class:"px-4 py-5 bg-white space-y-6 sm:p-6"},vt={class:"grid grid-cols-1 sm:grid-cols-4 gap-2"},wt={class:"col-span-1 sm:col-span-1"},kt={class:"mt-1 flex rounded-md shadow-sm"},ht=["disabled"],Pt={class:"col-span-1 sm:col-span-1"},Vt={key:0,class:"mt-1 flex rounded-md shadow-sm"},St={class:"col-span-1 sm:col-span-2"},Ct={key:0,class:"mt-1 flex rounded-md shadow-sm"},jt={class:"col-span-1 sm:col-span-2"},Ot={class:"mt-1 flex rounded-md shadow-sm"},Ut=["disabled"],It={class:"col-span-1 sm:col-span-1"},Dt={class:"mt-1 flex rounded-md shadow-sm"},At=["disabled"],Nt={class:"col-span-1 sm:col-span-1"},Tt={class:"mt-1 flex rounded-md shadow-sm"},Lt=["disabled"],Ft={class:"col-span-1 sm:col-span-4"},Mt={class:"mt-1 flex rounded-md shadow-sm"},zt=["disabled"],qt={class:"grid grid-cols-1 sm:grid-cols-4 gap-2"},Et={key:0,class:"col-span-1 sm:col-span-1"},Bt={id:"ftth_id",class:"pl-10 mt-2 flex-1 block w-full rounded-md sm:text-sm border-gray-300"},Rt={class:"col-span-1 sm:col-span-1 w-full"},Ht={class:"mt-1 flex rounded-md shadow-sm"},Gt=["disabled"],Kt={class:"col-span-1 sm:col-span-1"},Jt={class:"mt-1 flex rounded-md shadow-sm"},Wt=["disabled"],Yt={class:"col-span-1 sm:col-span-1"},Qt={class:"mt-1 flex rounded-md shadow-sm"},Xt=["disabled"],Zt={class:"col-span-1 sm:col-span-1"},$t={key:0,class:"mt-1 flex rounded-md shadow-sm"},es={class:"col-span-1 sm:col-span-1"},ts={class:"mt-1 flex rounded-md shadow-sm"},ss=["disabled"],os={class:"col-span-1 sm:col-span-1"},ls={class:"mt-1 flex rounded-md shadow-sm"},rs=["disabled"],ns={class:"col-span-1 sm:col-span-1"},as={key:0,class:"mt-1 flex rounded-md shadow-sm"},is={key:1,class:"mt-1 border-gray-200 border p-2 rounded-md text-gray-600"},ds={class:"col-span-1 md:col-span-2"},ms={key:0,class:"mt-1 flex rounded-md shadow-sm"},us={class:"col-span-1 sm:col-span-2"},cs={key:0,class:"mt-1 flex rounded-md shadow-sm"},ps={class:"col-span-1 sm:col-span-2"},fs={class:"mt-1 flex rounded-md shadow-sm"},bs=["disabled"],gs={key:1,class:"col-span-1 sm:col-span-1"},xs={id:"installation_date",class:"pl-10 mt-2 flex-1 block w-full rounded-md sm:text-sm border-gray-300"},ys={key:2,class:"col-span-1 sm:col-span-1"},_s={id:"service_activation_date",class:"pl-10 mt-2 flex-1 block w-full rounded-md sm:text-sm border-gray-300"},vs={key:0},ws={class:"grid grid-cols-1 sm:grid-cols-4 gap-2 mt-4"},ks={class:"col-span-1 sm:col-span-1"},hs=["disabled"],Ps={class:"col-span-1 sm:col-span-1"},Vs={key:0,class:"mt-1 flex rounded-md shadow-sm"},Ss={class:"col-span-1 sm:col-span-1"},Cs={key:0,class:"mt-1 flex rounded-md shadow-sm"},js={key:1,class:"text-sm text-gray-500 mt-1"},Os={class:"col-span-1 sm:col-span-1"},Us={key:0,class:"mt-1 flex rounded-md shadow-sm"},Is={class:"col-span-1 sm:col-span-1"},Ds={class:"mt-1 flex rounded-md shadow-sm"},As={class:"col-span-1 sm:col-span-1"},Ns={key:0,class:"mt-1 flex rounded-md shadow-sm"},Ts={class:"col-span-1 sm:col-span-1"},Ls={key:0,class:"mt-1 flex rounded-md shadow-sm"},Fs={class:"col-span-1 sm:col-span-1"},Ms={key:0,class:"mt-1 flex rounded-md shadow-sm w-full"},zs={class:"col-span-1 sm:col-span-1"},qs={class:"mt-1 flex rounded-md shadow-sm"},Es=["disabled"],Bs={class:"col-span-1 sm:col-span-1"},Rs={class:"mt-1 flex rounded-md shadow-sm"},Hs=["disabled"],Gs={class:"col-span-1 sm:col-span-1"},Ks={class:"mt-1 flex rounded-md shadow-sm"},Js=["disabled"],Ws={class:"col-span-1 sm:col-span-1"},Ys={class:"mt-1 flex rounded-md shadow-sm"},Qs={key:0},Xs={class:"grid grid-cols-1 sm:grid-cols-4 gap-2 mt-4"},Zs={class:"col-span-1 sm:col-span-1"},$s={key:0,class:"mt-1 flex rounded-md shadow-sm"},eo={class:"col-span-1 md:col-span-1"},to={key:0,class:"mt-1 flex rounded-md shadow-sm"},so={class:"col-span-1 sm:col-span-1"},oo={class:"mt-1 flex rounded-md shadow-sm"},lo=["disabled"],ro={class:"grid grid-cols-1 sm:grid-cols-4 gap-2 mt-4"},no={class:"col-span-1 sm:col-span-1"},ao={class:"mt-1 flex rounded-md shadow-sm"},io=["disabled"],mo={class:"col-span-1 sm:col-span-1"},uo={class:"mt-1 flex rounded-md shadow-sm"},co=["disabled"],po={class:"col-span-1 sm:col-span-1"},fo={class:"mt-1 flex rounded-md shadow-sm"},bo=["disabled"],go={class:"col-span-1 sm:col-span-1"},xo={class:"mt-1 flex rounded-md shadow-sm"},yo=["disabled"],_o={class:"col-span-1 sm:col-span-1"},vo={class:"mt-1 flex rounded-md shadow-sm"},wo=["disabled"],ko={class:"col-span-1 sm:col-span-1"},ho={class:"mt-1 flex rounded-md shadow-sm"},Po=["disabled"],Vo={class:"col-span-1 sm:col-span-2"},So={class:"mt-1 flex rounded-md shadow-sm"},Co=["disabled"],jo={class:"px-4 py-3 bg-gray-50 text-right sm:px-6"},Oo={class:"px-4 py-5 bg-white space-y-6 sm:p-6"},Uo={class:"px-4 py-5 bg-white space-y-6 sm:p-6"},Io={class:"px-4 py-5 bg-white space-y-6 sm:p-6"},Do={class:"w-full flex justify-between"},Ao={class:"gap-2"},No={id:"text-code",ref:"textContent"},To={key:0},Lo={class:"px-4 py-5 bg-white space-y-6 sm:p-6"},Fo={class:"overflow-x-auto rounded-lg shadow mb-6 mt-4"},Mo={class:"min-w-full divide-y divide-gray-200 bg-white"},zo=["onClick"],qo={class:"px-4 py-2 text-blue-600 underline font-medium"},Eo={class:"px-4 py-2 text-center"},Bo={key:0,class:"px-2 py-1 rounded-xl bg-yellow-100 text-yellow-700 text-xs font-semibold"},Ro={key:1,class:"text-gray-400"},Ho={class:"px-4 py-2 text-center"},Go={key:0,class:"px-2 py-1 rounded-xl bg-indigo-100 text-indigo-700 text-xs font-semibold"},Ko={key:1,class:"text-gray-400"},Jo={class:"px-4 py-2 text-center"},Wo={key:0,class:"px-2 py-1 rounded-xl bg-indigo-100 text-indigo-700 text-xs font-semibold"},Yo={key:1,class:"text-gray-400"},Qo={class:"px-4 py-2 text-center"},Xo={key:0,class:"px-2 py-1 rounded-xl bg-red-100 text-red-700 text-xs font-semibold"},Zo={key:1,class:"text-gray-400"},$o={class:"px-4 py-2 text-center"},el={key:0,class:"px-2 py-1 rounded-xl bg-green-100 text-green-700 text-xs font-semibold"},tl={key:1,class:"text-gray-400"},sl={class:"px-4 py-2 text-center"},ol={key:0,class:"px-2 py-1 rounded-xl bg-gray-100 text-gray-700 text-xs font-semibold"},ll={key:1,class:"text-gray-400"},rl={key:0,ref:"showModal",class:"fixed z-10 inset-0 overflow-y-auto ease-out duration-400"},nl={class:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0"},al={class:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-7xl sm:w-full",role:"dialog","aria-modal":"true","aria-labelledby":"modal-headline"},il={class:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4"},dl={class:""},ml={key:0,class:"mt-2 text-sm text-indigo-600 font-semibold"},ul={class:"underline"},cl={class:"grid grid-cols-1 sm:grid-cols-3 gap-4"},pl={class:"block text-sm font-medium text-gray-700"},fl=["onUpdate:modelValue"],bl={key:1},gl={key:2,class:"mt-2"},xl=["src","onClick"],yl={class:"relative"},_l=["src"],vl={key:3,class:"mt-2"},wl={class:"py-2"},kl={class:"mt-2 flex"},hl={class:"flex-auto items-center"},Pl=["name","onUpdate:modelValue","disabled"],Vl={class:"flex-auto items-center"},Sl=["name","onUpdate:modelValue","disabled"],Cl={class:"flex-auto items-center"},jl=["name","onUpdate:modelValue","disabled"],Ol={class:"flex-auto items-center"},Ul=["name","onUpdate:modelValue","disabled"],Il={class:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse"},Dl={class:"flex w-full rounded-md shadow-sm sm:ml-3 sm:w-auto"},Al={class:"mt-3 flex w-full rounded-md shadow-sm sm:mt-0 sm:w-auto"};function Nl(o,e,p,s,j,h){const b=R("multiselect"),U=R("Link"),O=R("customer-file"),S=R("customer-history"),C=R("app-layout");return m(),H(C,null,{header:ee(()=>e[64]||(e[64]=[t("h2",{class:"font-semibold text-xl text-white leading-tight"},"Customer Details",-1)])),default:ee(()=>{var D,G,L,A,F,K,J,W,Y,Q,I,M,z,X;return[t("div",ct,[t("div",pt,[t("div",ft,[t("form",{onSubmit:e[63]||(e[63]=We((...l)=>s.submit&&s.submit(...l),["prevent"]))},[t("div",bt,[t("div",gt,[t("ul",xt,[t("li",{class:V(["px-2 lg:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",[s.tab==1?"border-b-2 border-indigo-400 -mb-px":"opacity-50"]])},[t("a",{href:"#",onClick:e[0]||(e[0]=l=>s.tabClick(1)),"preserve-state":""},"General")],2),(D=p.user.role)!=null&&D.installation_supervisor||(G=p.user.role)!=null&&G.installation_oss?(m(),u("li",{key:0,class:V(["px-2 lg:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",[s.tab==7?"border-b-2 border-indigo-400 -mb-px":"opacity-50"]])},[t("a",{href:"#",onClick:e[1]||(e[1]=l=>s.tabClick(7)),"preserve-state":""},"Installation")],2)):x("",!0),t("li",{class:V(["px-2 lg:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",[s.tab==2?"border-b-2 border-indigo-400 -mb-px":"opacity-50"]])},[t("a",{href:"#",onClick:e[2]||(e[2]=l=>s.tabClick(2)),"preserve-state":""},"Documents ")],2),t("li",{class:V(["px-2 lg:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",[s.tab==6?"border-b-2 border-indigo-400 -mb-px":"opacity-50"]])},[t("a",{href:"#",onClick:e[3]||(e[3]=l=>s.tabClick(6)),"preserve-state":""},"Text")],2),t("li",{class:V(["px-2 lg:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",[s.tab==3?"border-b-2 border-indigo-400 -mb-px":"opacity-50"]])},[t("a",{href:"#",onClick:e[4]||(e[4]=l=>s.tabClick(3)),"preserve-state":""},"History")],2)])]),t("div",yt,[t("div",{class:V(["p-4",[s.tab==1?"":"hidden"]])},[t("div",_t,[e[138]||(e[138]=t("h6",{class:"md:min-w-full text-indigo-700 text-xs uppercase font-bold block pt-1 no-underline"}," Customer Basic Information",-1)),t("div",vt,[t("div",wt,[e[66]||(e[66]=t("label",{for:"name",class:"block text-sm font-medium text-gray-700"},[t("span",{class:"text-red-500"},"*"),c(" Customer Name ")],-1)),t("div",kt,[e[65]||(e[65]=t("span",{class:"z-10 leading-snug font-normal text-center text-gray-300 absolute bg-transparent rounded text-base items-center justify-center w-8 pl-3 py-2"},[t("i",{class:"fas fa-user"})],-1)),d(t("input",{type:"text","onUpdate:modelValue":e[5]||(e[5]=l=>s.form.name=l),name:"name",id:"name",class:"pl-10 focus:ring-indigo-500 focus:border-indigo-500 flex-1 block w-full rounded-md sm:text-sm border-gray-300",placeholder:"Customer Name",required:"",disabled:s.checkPerm("name")},null,8,ht),[[y,s.form.name]])]),d(t("p",{class:"mt-2 text-sm text-red-500"},n(o.$page.props.errors.name),513),[[f,o.$page.props.errors.name]])]),t("div",Pt,[e[67]||(e[67]=t("label",{for:"city",class:"block text-sm font-medium text-gray-700"},[t("span",{class:"text-red-500"},"*"),c(" City ")],-1)),p.cities.length!==0?(m(),u("div",Vt,[k(b,{"deselect-label":"Selected already",options:p.cities,"track-by":"id",label:"name",modelValue:s.form.city,"onUpdate:modelValue":[e[6]||(e[6]=l=>s.form.city=l),e[7]||(e[7]=l=>s.form.city_id=l==null?void 0:l.id)],placeholder:"Select City","allow-empty":!1,required:"",disabled:s.checkPerm("city_id")},null,8,["options","modelValue","disabled"])])):x("",!0),d(t("p",{class:"mt-2 text-sm text-red-500"},n(o.$page.props.errors.city_id),513),[[f,o.$page.props.errors.city_id]])]),t("div",St,[e[68]||(e[68]=t("label",{for:"township",class:"block text-sm font-medium text-gray-700"},[t("span",{class:"text-red-500"},"*"),c(" Township ")],-1)),s.filteredTownships.length!==0?(m(),u("div",Ct,[k(b,{"deselect-label":"Selected already",options:s.filteredTownships,"track-by":"id",label:"name",modelValue:s.form.township,"onUpdate:modelValue":[e[8]||(e[8]=l=>s.form.township=l),e[9]||(e[9]=l=>s.form.township_id=l==null?void 0:l.id)],placeholder:"Select Township","allow-empty":!1,required:"",disabled:s.checkPerm("city_id")},null,8,["options","modelValue","disabled"])])):x("",!0),d(t("p",{class:"mt-2 text-sm text-red-500"},n(o.$page.props.errors.township_id),513),[[f,o.$page.props.errors.township_id]])]),t("div",jt,[e[70]||(e[70]=t("label",{for:"phone_1",class:"block text-sm font-medium text-gray-700"},[t("span",{class:"text-red-500"},"*"),c(" Phone No. (e.g. 09-123/09-456)")],-1)),t("div",Ot,[e[69]||(e[69]=t("span",{class:"z-10 leading-snug font-normal absolute text-center text-gray-300 bg-transparent rounded text-base items-center justify-center w-8 pl-3 py-2"},[t("i",{class:"fas fa-phone"})],-1)),d(t("input",{type:"text","onUpdate:modelValue":e[10]||(e[10]=l=>s.form.phone_1=l),name:"phone_1",id:"phone_1",class:"pl-10 focus:ring-indigo-500 focus:border-indigo-500 flex-1 block w-full rounded-md sm:text-sm border-gray-300",placeholder:"e.g 0945000111",required:"",disabled:s.checkPerm("phone_1")},null,8,Ut),[[y,s.form.phone_1]])]),d(t("p",{class:"mt-2 text-sm text-red-500"},n(o.$page.props.errors.phone_1),513),[[f,o.$page.props.errors.phone_1]])]),t("div",It,[e[72]||(e[72]=t("label",{for:"latitude",class:"block text-sm font-medium text-gray-700"},"Latitude ",-1)),t("div",Dt,[e[71]||(e[71]=t("span",{class:"z-10 leading-snug font-normal text-center text-gray-300 absolute bg-transparent rounded text-base items-center justify-center w-8 pl-3 py-3"},[t("i",{class:"fas fa-location-arrow"})],-1)),d(t("input",{type:"text","onUpdate:modelValue":e[11]||(e[11]=l=>s.form.latitude=l),name:"latitude",id:"latitude",class:"pl-10 mt-1 form-input focus:ring-indigo-500 focus:border-indigo-500 flex-1 block w-full rounded-md sm:text-sm border-gray-300",onKeypress:e[12]||(e[12]=l=>s.isNumber(o.event)),disabled:s.checkPerm("city_id")},null,40,At),[[y,s.form.latitude]])]),d(t("p",{class:"mt-2 text-sm text-red-500"},n(o.$page.props.errors.latitude),513),[[f,o.$page.props.errors.latitude]])]),t("div",Nt,[e[74]||(e[74]=t("label",{for:"longitude",class:"block text-sm font-medium text-gray-700"},"Longitude ",-1)),t("div",Tt,[e[73]||(e[73]=t("span",{class:"z-10 leading-snug font-normal text-center text-gray-300 absolute bg-transparent rounded text-base items-center justify-center w-8 pl-3 py-3"},[t("i",{class:"fas fa-location-arrow"})],-1)),d(t("input",{type:"text","onUpdate:modelValue":e[13]||(e[13]=l=>s.form.longitude=l),name:"longitude",id:"longitude",class:"pl-10 mt-1 form-input focus:ring-indigo-500 focus:border-indigo-500 flex-1 block w-full rounded-md sm:text-sm border-gray-300",onKeypress:e[14]||(e[14]=l=>s.isNumber(o.event)),disabled:s.checkPerm("city_id")},null,40,Lt),[[y,s.form.longitude]])]),d(t("p",{class:"mt-2 text-sm text-red-500"},n(o.$page.props.errors.longitude),513),[[f,o.$page.props.errors.longitude]])]),t("div",Ft,[e[76]||(e[76]=t("label",{for:"address",class:"block text-sm font-medium text-gray-700"},[t("span",{class:"text-red-500"},"*"),c(" Full Address ")],-1)),t("div",Mt,[e[75]||(e[75]=t("span",{class:"z-10 leading-snug font-normal absolute text-center text-gray-300 bg-transparent rounded text-base items-center justify-center w-8 pl-3 py-2"},[t("i",{class:"fas fa-map-marker-alt"})],-1)),d(t("textarea",{"onUpdate:modelValue":e[15]||(e[15]=l=>s.form.address=l),name:"address",id:"address",class:"pl-10 focus:ring-indigo-500 focus:border-indigo-500 flex-1 block w-full rounded-md sm:text-sm border-gray-300",required:"",disabled:s.checkPerm("city_id")},null,8,zt),[[y,s.form.address]])]),d(t("p",{class:"mt-2 text-sm text-red-500"},n(o.$page.props.errors.address),513),[[f,o.$page.props.errors.address]])])]),e[139]||(e[139]=t("hr",{class:"my-4 md:min-w-full"},null,-1)),e[140]||(e[140]=t("h6",{class:"md:min-w-full text-indigo-700 text-xs uppercase font-bold block pt-1 no-underline"}," Order Information",-1)),t("div",qt,[o.$page.props.login_type=="isp"?(m(),u("div",Et,[e[77]||(e[77]=t("label",{for:"isp",class:"block text-sm font-medium text-gray-700"}," Unique ID ",-1)),e[78]||(e[78]=t("span",{class:"z-10 leading-snug font-normal text-center text-gray-300 absolute bg-transparent rounded text-base items-center justify-center w-8 pl-3 py-2"},[t("i",{class:"fas fa-id-badge"})],-1)),t("label",Bt,n(s.form.ftth_id),1)])):x("",!0),t("div",Rt,[e[80]||(e[80]=t("label",{for:"isp_ftth_id",class:"block text-sm font-medium text-gray-700"},[t("span",{class:"text-red-500"},"*"),c(" Customer ID ")],-1)),t("div",Ht,[e[79]||(e[79]=t("span",{class:"z-10 leading-snug font-normal text-center text-gray-300 absolute bg-transparent rounded text-base items-center justify-center w-8 pl-3 py-2"},[t("i",{class:"fas fa-id-badge"})],-1)),d(t("input",{"onUpdate:modelValue":e[16]||(e[16]=l=>s.form.isp_ftth_id=l),type:"text",name:"isp_ftth_id",id:"isp_ftth_id",class:"pl-10 focus:ring-indigo-500 focus:border-indigo-500 flex-1 block w-full rounded-md sm:text-sm border-gray-300",required:"",disabled:s.checkPerm("isp_ftth_id")},null,8,Gt),[[y,s.form.isp_ftth_id]])]),d(t("p",{class:"mt-2 text-sm text-red-500"},n(o.$page.props.errors.isp_ftth_id),513),[[f,o.$page.props.errors.isp_ftth_id]])]),t("div",Kt,[e[81]||(e[81]=t("label",{for:"order_date",class:"block text-sm font-medium text-gray-700"},[t("span",{class:"text-red-500"},"*"),c(" Order Date ")],-1)),t("div",Jt,[d(t("input",{type:"date","onUpdate:modelValue":e[17]||(e[17]=l=>s.form.order_date=l),name:"order_date",id:"order_date",class:"focus:ring-indigo-500 focus:border-indigo-500 flex-1 block w-full rounded-md sm:text-sm border-gray-300",required:"",disabled:s.checkPerm("order_date")},null,8,Wt),[[y,s.form.order_date]])]),d(t("p",{class:"mt-2 text-sm text-red-500"},n(o.$page.props.errors.order_date),513),[[f,o.$page.props.errors.order_date]])]),t("div",Yt,[e[83]||(e[83]=t("label",{for:"prefer_install_date",class:"block text-sm font-medium text-gray-700"},[t("span",{class:"text-red-500"},"*"),c(" Prefer Installation Date ")],-1)),t("div",Qt,[e[82]||(e[82]=t("span",{class:"z-10 leading-snug font-normal text-center text-gray-300 absolute bg-transparent rounded text-base items-center justify-center w-8 pl-3 py-2"},[t("i",{class:"fas fa-tools"})],-1)),d(t("input",{"onUpdate:modelValue":e[18]||(e[18]=l=>s.form.prefer_install_date=l),type:"date",name:"prefer_install_date",id:"prefer_install_date",class:"pl-10 focus:ring-indigo-500 focus:border-indigo-500 flex-1 block w-full rounded-md sm:text-sm border-gray-300",disabled:s.checkPerm("prefer_install_date")},null,8,Xt),[[y,s.form.prefer_install_date]])])]),t("div",Zt,[e[84]||(e[84]=t("label",{for:"status",class:"block text-sm font-medium text-gray-700"},[t("span",{class:"text-red-500"},"*"),c(" Customer Status ")],-1)),p.status_list.length!==0?(m(),u("div",$t,[k(b,{"deselect-label":"Selected already",options:s.statusList,"track-by":"id",label:"name",modelValue:s.form.status,"onUpdate:modelValue":e[19]||(e[19]=l=>s.form.status=l),"allow-empty":!1,disabled:s.disableStatus?s.disableStatus:s.checkPerm("status_id")},null,8,["options","modelValue","disabled"])])):x("",!0),d(t("p",{class:"mt-2 text-sm text-red-500"},n(o.$page.props.errors.status),513),[[f,o.$page.props.errors.status]])]),t("div",es,[e[86]||(e[86]=t("label",{for:"bandwidth",class:"block text-sm font-medium text-gray-700"},[t("span",{class:"text-red-500"},"*"),c(" Bandwith ")],-1)),t("div",ts,[d(t("input",{type:"number","onUpdate:modelValue":e[20]||(e[20]=l=>s.form.bandwidth=l),name:"bandwidth",id:"bandwidth",class:"focus:ring-indigo-500 focus:border-indigo-500 flex-1 block w-full rounded-none rounded-l-md sm:text-sm border-gray-300",placeholder:"20, 30 e.g. ",onKeypress:e[21]||(e[21]=l=>s.isNumber(l)),disabled:s.checkPerm("bandwidth"),required:""},null,40,ss),[[y,s.form.bandwidth]]),e[85]||(e[85]=t("span",{class:"inline-flex items-center px-3 rounded-r-md border border-l-0 border-gray-300 bg-gray-50 text-gray-500 text-sm"}," Mbps ",-1))]),d(t("p",{class:"mt-2 text-sm text-red-500"},n(o.$page.props.errors.bandwidth),513),[[f,o.$page.props.errors.bandwidth]])]),t("div",os,[e[88]||(e[88]=t("label",{for:"service_type",class:"block text-sm font-medium text-gray-700"},[t("span",{class:"text-red-500"},"*"),c(" Service Type ")],-1)),t("div",ls,[d(t("select",{"onUpdate:modelValue":e[22]||(e[22]=l=>s.form.service_type=l),name:"service_type",id:"service_type",class:"focus:ring-indigo-500 focus:border-indigo-500 flex-1 block w-full rounded-md sm:text-sm border-gray-300",disabled:s.checkPerm("service_type")},e[87]||(e[87]=[t("option",{value:"FTTH"},"FTTH (Default)",-1),t("option",{value:"DIA"},"DIA",-1),t("option",{value:"IPLC"},"IPLC",-1),t("option",{value:"DPLC"},"DPLC",-1)]),8,rs),[[Ye,s.form.service_type]])]),d(t("p",{class:"mt-2 text-sm text-red-500"},n(o.$page.props.errors.service_type),513),[[f,o.$page.props.errors.service_type]])]),t("div",ns,[e[89]||(e[89]=t("label",{for:"installation_service_id",class:"block text-sm font-medium text-gray-700"},[t("span",{class:"text-red-500"},"*"),c(" Installation ")],-1)),((L=s.filteredInstallationServices)==null?void 0:L.length)>0?(m(),u("div",as,[k(b,{"deselect-label":"Selected already",options:s.filteredInstallationServices,"track-by":"id",label:"name",modelValue:s.form.installation_service,"onUpdate:modelValue":[e[23]||(e[23]=l=>s.form.installation_service=l),e[24]||(e[24]=l=>s.form.installation_service_id=l==null?void 0:l.id)],"allow-empty":!1,disabled:s.checkPerm("installation_service_id")},null,8,["options","modelValue","disabled"])])):(m(),u("div",is,"No Installation Service ")),d(t("p",{class:"mt-2 text-sm text-red-500"},n(o.$page.props.errors.installation_service_id),513),[[f,o.$page.props.errors.installation_service_id]])]),t("div",ds,[e[90]||(e[90]=t("label",{for:"bundle",class:"block text-sm font-medium text-gray-700"}," Additional Materials Request (Leave blank for own materials) ",-1)),p.bundle_equiptments.length!==0?(m(),u("div",ms,[k(b,{"deselect-label":"Selected already",options:p.bundle_equiptments,"track-by":"id",label:"name",modelValue:s.form.bundles,"onUpdate:modelValue":e[25]||(e[25]=l=>s.form.bundles=l),"allow-empty":!0,disabled:s.checkPerm("bundle"),multiple:!0,taggable:!1},null,8,["options","modelValue","disabled"])])):x("",!0),d(t("p",{class:"mt-2 text-sm text-red-500"},n(o.$page.props.errors.bundles),513),[[f,o.$page.props.errors.bundles]])]),t("div",us,[e[91]||(e[91]=t("label",{for:"package",class:"block text-sm font-medium text-gray-700"},[t("span",{class:"text-red-500"},"*"),c(" Maintenance ")],-1)),((A=s.filteredMaintenanceServices)==null?void 0:A.length)>0?(m(),u("div",cs,[k(b,{"deselect-label":"Selected already",options:s.filteredMaintenanceServices,"track-by":"id",label:"name",modelValue:s.form.maintenance_service,"onUpdate:modelValue":[e[26]||(e[26]=l=>s.form.maintenance_service=l),e[27]||(e[27]=l=>s.form.maintenance_service_id=l==null?void 0:l.id)],"allow-empty":!1,disabled:s.checkPerm("maintenance_service_id"),class:V(o.text-o.xs)},null,8,["options","modelValue","disabled","class"])])):x("",!0),d(t("p",{class:"mt-2 text-sm text-red-500"},n(o.$page.props.errors.maintenance_service_id),513),[[f,o.$page.props.errors.maintenance_service_id]])]),t("div",ps,[e[93]||(e[93]=t("label",{for:"order_remark",class:"block text-sm font-medium text-gray-700"}," Order Remark ",-1)),t("div",fs,[e[92]||(e[92]=t("span",{class:"z-10 leading-snug font-normal text-center text-gray-300 absolute bg-transparent rounded text-base items-center justify-center w-8 pl-3 py-2"},[t("i",{class:"fas fa-comment"})],-1)),d(t("textarea",{name:"order_remark","onUpdate:modelValue":e[28]||(e[28]=l=>s.form.order_remark=l),id:"order_remark",class:"pl-10 focus:ring-indigo-500 focus:border-indigo-500 flex-1 block w-full rounded-md sm:text-sm border-gray-300",disabled:s.checkPerm("order_remark")},null,8,bs),[[y,s.form.order_remark]])]),d(t("p",{class:"mt-2 text-sm text-red-500"},n(o.$page.props.errors.order_remark),513),[[f,o.$page.props.errors.order_remark]])]),o.$page.props.login_type=="isp"?(m(),u("div",gs,[e[94]||(e[94]=t("label",{for:"isp",class:"block text-sm font-medium text-gray-700"}," Installation Date ",-1)),e[95]||(e[95]=t("span",{class:"z-10 leading-snug font-normal text-center text-gray-300 absolute bg-transparent rounded text-base items-center justify-center w-8 pl-3 py-2"},[t("i",{class:"fas fa-calendar"})],-1)),t("label",xs,n(s.form.installation_date??"NA"),1)])):x("",!0),o.$page.props.login_type=="isp"?(m(),u("div",ys,[e[96]||(e[96]=t("label",{for:"service_activation_date",class:"block text-sm font-medium text-gray-700"}," Service Activation Date",-1)),e[97]||(e[97]=t("span",{class:"z-10 leading-snug font-normal text-center text-gray-300 absolute bg-transparent rounded text-base items-center justify-center w-8 pl-3 py-2"},[t("i",{class:"fas fa-calendar"})],-1)),t("label",_s,n(s.form.service_activation_date??"NA"),1)])):x("",!0)]),o.$page.props.login_type=="internal"?(m(),u("div",vs,[e[136]||(e[136]=t("hr",{class:"my-4 md:min-w-full"},null,-1)),e[137]||(e[137]=t("h6",{class:"md:min-w-full text-indigo-700 text-xs uppercase font-bold block pt-1 no-underline"}," ODN Information",-1)),t("div",ws,[t("div",ks,[e[98]||(e[98]=t("label",{for:"isp",class:"block text-sm font-medium text-gray-700"}," Customer ID ",-1)),e[99]||(e[99]=t("span",{class:"z-10 mt-1 leading-snug font-normal text-center text-gray-300 absolute bg-transparent rounded text-base items-center justify-center w-8 pl-3 py-2"},[t("i",{class:"fas fa-id-badge"})],-1)),d(t("input",{"onUpdate:modelValue":e[29]||(e[29]=l=>s.form.ftth_id=l),type:"text",name:"ftth_id",id:"ftth_id",class:"mt-1 pl-10 focus:ring-indigo-500 focus:border-indigo-500 flex-1 block w-full rounded-md sm:text-sm border-gray-300",required:"",disabled:s.checkPerm("ftth_id")},null,8,hs),[[y,s.form.ftth_id]]),d(t("p",{class:"mt-2 text-sm text-red-500"},n(o.$page.props.errors.ftth_id),513),[[f,o.$page.props.errors.ftth_id]])]),t("div",Ps,[e[100]||(e[100]=t("label",{for:"isp",class:"block text-sm font-medium text-gray-700"}," ISP Assignment ",-1)),p.isps.length!==0?(m(),u("div",Vs,[k(b,{"deselect-label":"Selected already",options:p.isps,"track-by":"id",label:"name",modelValue:s.form.isp_id,"onUpdate:modelValue":e[30]||(e[30]=l=>s.form.isp_id=l),"allow-empty":!0,disabled:s.checkPerm("isp_id")},null,8,["options","modelValue","disabled"])])):x("",!0),d(t("p",{class:"mt-2 text-sm text-red-500"},n(o.$page.props.errors.isp_id),513),[[f,o.$page.props.errors.isp_id]])]),t("div",Ss,[e[101]||(e[101]=t("label",{for:"pop_site",class:"block text-sm font-medium text-gray-700"},"Choose POP Site ",-1)),s.filteredPops.length!==0?(m(),u("div",Cs,[k(b,{"deselect-label":"Selected already",options:s.filteredPops,"track-by":"id",label:"site_name",modelValue:s.form.pop_id,"onUpdate:modelValue":e[31]||(e[31]=l=>s.form.pop_id=l),"allow-empty":!1,disabled:s.checkPerm("partner_id")},null,8,["options","modelValue","disabled"])])):(m(),u("div",js," Please select a township first to view available POPs "))]),t("div",Os,[e[102]||(e[102]=t("label",{for:"partner",class:"block text-sm font-medium text-gray-700"}," Partner ",-1)),((F=s.filteredPartners)==null?void 0:F.length)!==0?(m(),u("div",Us,[k(b,{"deselect-label":"Selected already",options:s.filteredPartners,"track-by":"id",label:"name",modelValue:s.form.partner,"onUpdate:modelValue":[e[32]||(e[32]=l=>s.form.partner=l),e[33]||(e[33]=l=>s.form.partner_id=l==null?void 0:l.id)],"allow-empty":!0,disabled:s.checkPerm("partner_id")},null,8,["options","modelValue","disabled"])])):x("",!0),d(t("p",{class:"mt-2 text-sm text-red-500"},n(o.$page.props.errors.partner_id),513),[[f,o.$page.props.errors.partner_id]])]),t("div",Is,[e[103]||(e[103]=t("label",{for:"pop_device_id",class:"block text-sm font-medium text-gray-700"}," Choose OLT",-1)),t("div",Ds,[k(b,{"deselect-label":"Selected already",options:s.popDevices,"track-by":"id",label:"device_name",modelValue:s.form.pop_device_id,"onUpdate:modelValue":e[34]||(e[34]=l=>s.form.pop_device_id=l),"allow-empty":!1,disabled:s.checkPerm("partner_id")},null,8,["options","modelValue","disabled"])])]),t("div",As,[e[104]||(e[104]=t("label",{for:"fiber_distance",class:"block text-sm font-medium text-gray-700"}," Please Choose DN ",-1)),s.dnOptions?(m(),u("div",Ns,[k(b,{"deselect-label":"Selected already",options:s.dnOptions,"track-by":"id",label:"name",modelValue:s.form.dn_id,"onUpdate:modelValue":e[35]||(e[35]=l=>s.form.dn_id=l),"allow-empty":!1},null,8,["options","modelValue"])])):x("",!0)]),t("div",Ts,[e[105]||(e[105]=t("label",{for:"fiber_distance",class:"block text-sm font-medium text-gray-700"}," Please Choose SN ",-1)),s.snOptions?(m(),u("div",Ls,[k(b,{"deselect-label":"Selected already",options:s.snOptions,"track-by":"id",label:"name",modelValue:s.form.sn_id,"onUpdate:modelValue":e[36]||(e[36]=l=>s.form.sn_id=l),"allow-empty":!0},null,8,["options","modelValue"])])):x("",!0)]),t("div",Fs,[e[106]||(e[106]=t("label",{for:"splitter_no",class:"block text-sm font-medium text-gray-700"}," SN Port No. ",-1)),s.snPortNoOptions.length!==0?(m(),u("div",Ms,[k(b,{"deselect-label":"Selected already",options:s.snPortNoOptions,"track-by":"id",label:"name",modelValue:s.form.splitter_no,"onUpdate:modelValue":e[37]||(e[37]=l=>s.form.splitter_no=l),"allow-empty":!0},{singleLabel:ee(({option:l})=>[t("strong",null,n(l.name)+" "+n(l.language),1)]),_:1},8,["options","modelValue"])])):x("",!0),d(t("p",{class:"mt-2 text-sm text-red-500 w-full"},n(o.$page.props.errors.splitter_no),513),[[f,o.$page.props.errors.splitter_no]])]),t("div",zs,[e[108]||(e[108]=t("label",{for:"pppoe_username",class:"block text-sm font-medium text-gray-700"}," PPPOE Account",-1)),t("div",qs,[e[107]||(e[107]=t("span",{class:"z-10 leading-snug font-normal text-center text-gray-300 absolute bg-transparent rounded text-base items-center justify-center w-8 pl-3 py-2"},[t("i",{class:"fas fa-tools"})],-1)),d(t("input",{"onUpdate:modelValue":e[38]||(e[38]=l=>s.form.pppoe_username=l),type:"text",name:"pppoe_username",id:"pppoe_username",class:"pl-10 focus:ring-indigo-500 focus:border-indigo-500 flex-1 block w-full rounded-md sm:text-sm border-gray-300",placeholder:"Enter PPPOE Account",disabled:s.checkPerm("pppoe_username")},null,8,Es),[[y,s.form.pppoe_username]]),d(t("p",{class:"mt-2 text-sm text-red-500"},n(o.$page.props.errors.pppoe_username),513),[[f,o.$page.props.errors.pppoe_username]])])]),t("div",Bs,[e[110]||(e[110]=t("label",{for:"pppoe_password",class:"block text-sm font-medium text-gray-700"}," PPPOE Password",-1)),t("div",Rs,[e[109]||(e[109]=t("span",{class:"z-10 leading-snug font-normal text-center text-gray-300 absolute bg-transparent rounded text-base items-center justify-center w-8 pl-3 py-2"},[t("i",{class:"fas fa-tools"})],-1)),d(t("input",{"onUpdate:modelValue":e[39]||(e[39]=l=>s.form.pppoe_password=l),type:"text",name:"pppoe_password",id:"pppoe_password",class:"pl-10 focus:ring-indigo-500 focus:border-indigo-500 flex-1 block w-full rounded-md sm:text-sm border-gray-300",placeholder:"Enter PPPOE Password",disabled:s.checkPerm("pppoe_password")},null,8,Hs),[[y,s.form.pppoe_password]]),d(t("p",{class:"mt-2 text-sm text-red-500"},n(o.$page.props.errors.pppoe_password),513),[[f,o.$page.props.errors.pppoe_password]])])]),t("div",Gs,[e[112]||(e[112]=t("label",{for:"service_activation_date",class:"block text-sm font-medium text-gray-700"}," Service Activation Date ",-1)),t("div",Ks,[e[111]||(e[111]=t("span",{class:"z-10 leading-snug font-normal absolute text-center text-gray-300 bg-transparent rounded text-base items-center justify-center w-8 pl-3 py-2"},[t("i",{class:"fas fa-tools"})],-1)),d(t("input",{"onUpdate:modelValue":e[40]||(e[40]=l=>s.form.service_activation_date=l),type:"date",name:"service_activation_date",id:"service_activation_date",class:"pl-10 focus:ring-indigo-500 focus:border-indigo-500 flex-1 block w-full rounded-md sm:text-sm border-gray-300",disabled:s.checkPerm("service_activation_date")},null,8,Js),[[y,s.form.service_activation_date]])]),d(t("p",{class:"mt-2 text-sm text-red-500"},n(o.$page.props.errors.service_activation_date),513),[[f,o.$page.props.errors.service_activation_date]])]),t("div",Ws,[e[113]||(e[113]=t("label",{for:"supervisor_id",class:"block text-sm font-medium text-gray-700"}," Assign Supervisor ",-1)),t("div",Ys,[k(b,{"deselect-label":"Selected already",options:p.supervisors,"track-by":"id",label:"name",modelValue:s.form.supervisor,"onUpdate:modelValue":[e[41]||(e[41]=l=>s.form.supervisor=l),e[42]||(e[42]=l=>s.form.supervisor_id=l==null?void 0:l.id)],"allow-empty":!1,disabled:s.checkPerm("supervisor_id"),class:V(o.text-o.xs)},null,8,["options","modelValue","disabled","class"])]),d(t("p",{class:"mt-2 text-sm text-red-500"},n(o.$page.props.errors.supervisor_id),513),[[f,o.$page.props.errors.supervisor_id]])])]),s.form.sn_id?(m(),u("div",Qs,[e[132]||(e[132]=t("hr",{class:"my-4 md:min-w-full"},null,-1)),e[133]||(e[133]=t("h6",{class:"md:min-w-full text-indigo-700 text-xs uppercase font-bold block pt-1 no-underline"}," Team Assign Information",-1)),t("div",Xs,[t("div",Zs,[e[114]||(e[114]=t("label",{for:"subcom",class:"block text-sm font-medium text-gray-700"}," Assign Installation Team ",-1)),p.subcoms.length!==0?(m(),u("div",$s,[k(b,{"deselect-label":"Selected already",options:p.subcoms,"track-by":"id",label:"name",modelValue:s.form.subcom,"onUpdate:modelValue":e[43]||(e[43]=l=>s.form.subcom=l),"allow-empty":!0,disabled:s.checkPerm("subcom_id")},null,8,["options","modelValue","disabled"])])):x("",!0),d(t("p",{class:"mt-2 text-sm text-red-500"},n(o.$page.props.errors.subcom),513),[[f,o.$page.props.errors.subcom]])]),t("div",eo,[e[115]||(e[115]=t("label",{for:"installation_status",class:"block text-sm font-medium text-gray-700"}," Installation Status ",-1)),s.installationStatus.length!==0?(m(),u("div",to,[k(b,{"deselect-label":"Selected already",options:s.installationStatus,"track-by":"id",label:"name",modelValue:s.form.installation_status,"onUpdate:modelValue":e[44]||(e[44]=l=>s.form.installation_status=l),"allow-empty":!1,disabled:s.checkPerm("installation_status"),multiple:!1,taggable:!1},null,8,["options","modelValue","disabled"])])):x("",!0),d(t("p",{class:"mt-2 text-sm text-red-500"},n(o.$page.props.errors.installation_status),513),[[f,o.$page.props.errors.installation_status]])]),t("div",so,[e[117]||(e[117]=t("label",{for:"way_list_date",class:"block text-sm font-medium text-gray-700"}," Way List Date ",-1)),t("div",oo,[e[116]||(e[116]=t("span",{class:"z-10 leading-snug font-normal absolute text-center text-gray-300 bg-transparent rounded text-base items-center justify-center w-8 pl-3 py-2"},[t("i",{class:"fas fa-tools"})],-1)),d(t("input",{"onUpdate:modelValue":e[45]||(e[45]=l=>s.form.way_list_date=l),type:"date",name:"way_list_date",id:"way_list_date",class:"pl-10 focus:ring-indigo-500 focus:border-indigo-500 flex-1 block w-full rounded-md sm:text-sm border-gray-300",disabled:s.checkPerm("way_list_date")},null,8,lo),[[y,s.form.way_list_date]])]),d(t("p",{class:"mt-2 text-sm text-red-500"},n(o.$page.props.errors.way_list_date),513),[[f,o.$page.props.errors.way_list_date]])])]),e[134]||(e[134]=t("hr",{class:"my-4 md:min-w-full"},null,-1)),e[135]||(e[135]=t("h6",{class:"md:min-w-full text-indigo-700 text-xs uppercase font-bold block pt-1 no-underline"}," Installation Information",-1)),t("div",ro,[t("div",no,[e[119]||(e[119]=t("label",{for:"installation_date",class:"block text-sm font-medium text-gray-700"}," Actual Installed Date ",-1)),t("div",ao,[e[118]||(e[118]=t("span",{class:"z-10 leading-snug font-normal absolute text-center text-gray-300 bg-transparent rounded text-base items-center justify-center w-8 pl-3 py-2"},[t("i",{class:"fas fa-tools"})],-1)),d(t("input",{"onUpdate:modelValue":e[46]||(e[46]=l=>s.form.installation_date=l),type:"date",name:"installation_date",id:"installation_date",class:"pl-10 focus:ring-indigo-500 focus:border-indigo-500 flex-1 block w-full rounded-md sm:text-sm border-gray-300",disabled:s.checkPerm("installation_date")},null,8,io),[[y,s.form.installation_date]])]),d(t("p",{class:"mt-2 text-sm text-red-500"},n(o.$page.props.errors.installation_date),513),[[f,o.$page.props.errors.installation_date]])]),t("div",mo,[e[121]||(e[121]=t("label",{for:"fiber_distance",class:"block text-sm font-medium text-gray-700"}," Actual Fiber Distance ",-1)),t("div",uo,[d(t("input",{"onUpdate:modelValue":e[47]||(e[47]=l=>s.form.fiber_distance=l),type:"number",name:"fiber_distance",id:"fiber_distance",class:"focus:ring-indigo-500 focus:border-indigo-500 flex-1 block w-full rounded-none rounded-l-md sm:text-sm border-gray-300",disabled:s.checkPerm("fiber_distance")},null,8,co),[[y,s.form.fiber_distance]]),e[120]||(e[120]=t("span",{class:"inline-flex items-center px-3 rounded-r-md border border-l-0 border-gray-300 bg-gray-50 text-gray-500 text-sm"}," Meter ",-1)),d(t("p",{class:"mt-2 text-sm text-red-500"},n(o.$page.props.errors.fiber_distance),513),[[f,o.$page.props.errors.fiber_distance]])])]),t("div",po,[e[123]||(e[123]=t("label",{for:"onu_serial",class:"block text-sm font-medium text-gray-700"}," ONU Serial ",-1)),t("div",fo,[e[122]||(e[122]=t("span",{class:"z-10 leading-snug font-normal text-center text-gray-300 absolute bg-transparent rounded text-base items-center justify-center w-8 pl-3 py-2"},[t("i",{class:"fas fa-tools"})],-1)),d(t("input",{"onUpdate:modelValue":e[48]||(e[48]=l=>s.form.onu_serial=l),type:"text",name:"onu_serial",id:"onu_serial",class:"pl-10 focus:ring-indigo-500 focus:border-indigo-500 flex-1 block w-full rounded-md sm:text-sm border-gray-300",disabled:s.checkPerm("onu_serial")},null,8,bo),[[y,s.form.onu_serial]])]),d(t("p",{class:"mt-2 text-sm text-red-500"},n(o.$page.props.errors.onu_serial),513),[[f,o.$page.props.errors.onu_serial]])]),t("div",go,[e[125]||(e[125]=t("label",{for:"onu_power",class:"block text-sm font-medium text-gray-700"}," ONU Power ",-1)),t("div",xo,[d(t("input",{type:"text","onUpdate:modelValue":e[49]||(e[49]=l=>s.form.onu_power=l),name:"onu_power",id:"onu_power",class:"focus:ring-indigo-500 focus:border-indigo-500 flex-1 block w-full rounded-none rounded-l-md sm:text-sm border-gray-300",disabled:s.checkPerm("onu_power")},null,8,yo),[[y,s.form.onu_power]]),e[124]||(e[124]=t("span",{class:"inline-flex items-center px-3 rounded-r-md border border-l-0 border-gray-300 bg-gray-50 text-gray-500 text-sm"}," dBi ",-1)),d(t("p",{class:"mt-2 text-sm text-red-500"},n(o.$page.props.errors.onu_power),513),[[f,o.$page.props.errors.onu_power]])])]),t("div",_o,[e[127]||(e[127]=t("label",{for:"actual_latitude",class:"block text-sm font-medium text-gray-700"},"Actual Latitude ",-1)),t("div",vo,[e[126]||(e[126]=t("span",{class:"z-10 leading-snug font-normal text-center text-gray-300 absolute bg-transparent rounded text-base items-center justify-center w-8 pl-3 py-3"},[t("i",{class:"fas fa-location-arrow"})],-1)),d(t("input",{type:"text","onUpdate:modelValue":e[50]||(e[50]=l=>s.form.actual_latitude=l),name:"actual_latitude",id:"actual_latitude",class:"pl-10 mt-1 form-input focus:ring-indigo-500 focus:border-indigo-500 flex-1 block w-full rounded-md sm:text-sm border-gray-300",onKeypress:e[51]||(e[51]=l=>s.isNumber(o.event)),disabled:s.checkPerm("city_id")},null,40,wo),[[y,s.form.actual_latitude]])]),d(t("p",{class:"mt-2 text-sm text-red-500"},n(o.$page.props.errors.actual_latitude),513),[[f,o.$page.props.errors.actual_latitude]])]),t("div",ko,[e[129]||(e[129]=t("label",{for:"actual_longitude",class:"block text-sm font-medium text-gray-700"},"Actual Longitude ",-1)),t("div",ho,[e[128]||(e[128]=t("span",{class:"z-10 leading-snug font-normal text-center text-gray-300 absolute bg-transparent rounded text-base items-center justify-center w-8 pl-3 py-3"},[t("i",{class:"fas fa-location-arrow"})],-1)),d(t("input",{type:"text","onUpdate:modelValue":e[52]||(e[52]=l=>s.form.actual_longitude=l),name:"actual_longitude",id:"actual_longitude",class:"pl-10 mt-1 form-input focus:ring-indigo-500 focus:border-indigo-500 flex-1 block w-full rounded-md sm:text-sm border-gray-300",onKeypress:e[53]||(e[53]=l=>s.isNumber(o.event)),disabled:s.checkPerm("city_id")},null,40,Po),[[y,s.form.actual_longitude]])]),d(t("p",{class:"mt-2 text-sm text-red-500"},n(o.$page.props.errors.actual_longitude),513),[[f,o.$page.props.errors.actual_longitude]])]),t("div",Vo,[e[131]||(e[131]=t("label",{for:"installation_remark",class:"block text-sm font-medium text-gray-700"}," Installation Remark ",-1)),t("div",So,[e[130]||(e[130]=t("span",{class:"z-10 leading-snug font-normal text-center text-gray-300 absolute bg-transparent rounded text-base items-center justify-center w-8 pl-3 py-2"},[t("i",{class:"fas fa-comment"})],-1)),d(t("textarea",{name:"installation_remark","onUpdate:modelValue":e[54]||(e[54]=l=>s.form.installation_remark=l),id:"installation_remark",class:"pl-10 focus:ring-indigo-500 focus:border-indigo-500 flex-1 block w-full rounded-md sm:text-sm border-gray-300",disabled:s.checkPerm("installation_remark")},null,8,Co),[[y,s.form.installation_remark]])]),d(t("p",{class:"mt-2 text-sm text-red-500"},n(o.$page.props.errors.installation_remark),513),[[f,o.$page.props.errors.installation_remark]])])])])):x("",!0)])):x("",!0)]),t("div",jo,[k(U,{href:o.route("customer.index"),class:"inline-flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-yellow-600 hover:bg-yellow-700 shadow-sm focus:outline-none focus:border-blue-300 focus:shadow-outline-blue transition ease-in-out duration-150"},{default:ee(()=>e[141]||(e[141]=[c(" Back")])),_:1},8,["href"]),t("button",{onClick:e[55]||(e[55]=(...l)=>o.resetForm&&o.resetForm(...l)),type:"button",class:"ml-2 inline-flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-gray-600 hover:bg-gray-700 shadow-sm focus:outline-none focus:border-blue-300 focus:shadow-outline-blue transition ease-in-out duration-150"},"Reset"),e[142]||(e[142]=t("button",{type:"submit",class:"ml-2 inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"},"Save",-1))])],2),t("div",{class:V(["p-4",[s.tab==2?"":"hidden"]])},[t("div",Oo,[e[143]||(e[143]=t("h6",{class:"md:min-w-full text-indigo-700 text-xs uppercase font-bold block pt-1 no-underline"}," Customer Documents",-1)),e[144]||(e[144]=t("hr",{class:"my-4 md:min-w-full"},null,-1)),(m(),H(Ve,null,[s.tab==2?(m(),H(O,{key:0,data:s.form.id,permission:!!((K=p.user.role)!=null&&K.installation_oss)},null,8,["data","permission"])):x("",!0)],1024))])],2),t("div",{class:V(["p-4",[s.tab==3?"":"hidden"]])},[t("div",Uo,[e[145]||(e[145]=t("h6",{class:"md:min-w-full text-indigo-700 text-xs uppercase font-bold block pt-1 no-underline"}," Customer History",-1)),e[146]||(e[146]=t("hr",{class:"my-4 md:min-w-full"},null,-1)),(m(),H(Ve,null,[s.tab==3?(m(),H(S,{key:0,data:s.form.id,permission:!s.checkPerm("order_date")},null,8,["data","permission"])):x("",!0)],1024))])],2),t("div",{class:V(["p-4",[s.tab==6?"":"hidden"]])},[t("div",Io,[t("div",Do,[e[150]||(e[150]=t("h6",{class:"text-indigo-700 text-xs uppercase font-bold block pt-1 no-underline"},"Text ",-1)),t("span",Ao,[t("a",{href:"#",onClick:e[56]||(e[56]=l=>s.copyText())},e[147]||(e[147]=[c("Copy "),t("i",{class:"ml-2 fa text-xl fa-copy text-right text-indigo-500 hover:text-indigo-700 cursor-pointer"},null,-1)])),e[149]||(e[149]=c(" | ")),t("a",{href:"#",onClick:e[57]||(e[57]=l=>s.shareText())},e[148]||(e[148]=[c(" Share "),t("i",{class:"fa text-xl fa-share-nodes text-right text-indigo-500 hover:text-indigo-700 cursor-pointer"},null,-1)]))])]),e[174]||(e[174]=t("hr",{class:"my-4 md:min-w-full"},null,-1)),t("div",No,[c(" Customer ID  "+n(s.form.ftth_id),1),e[151]||(e[151]=t("br",null,null,-1)),c(" Service Order Date - "+n(s.form.order_date),1),e[152]||(e[152]=t("br",null,null,-1)),c(" Customer Name  "+n(s.form.name),1),e[153]||(e[153]=t("br",null,null,-1)),c(" Contact Number  "+n(s.form.phone_1)+" ",1),e[154]||(e[154]=t("br",null,null,-1)),c(" Township  "+n((J=s.form.township)==null?void 0:J.name),1),e[155]||(e[155]=t("br",null,null,-1)),c(" Fully Address  "+n(s.form.address),1),e[156]||(e[156]=t("br",null,null,-1)),c(" Location  "+n(s.form.latitude)+","+n(s.form.longitude)+" ",1),e[157]||(e[157]=t("br",null,null,-1)),c(" Applied Mbps  "+n(s.form.bandwidth)+" Mbps",1),e[158]||(e[158]=t("br",null,null,-1)),c(" Installation Timeline  "+n((W=p.customer.installation_service)==null?void 0:W.name)+" ",1),e[159]||(e[159]=t("br",null,null,-1)),c(" Maintenance Timeline  "+n((Y=p.customer.maintenance_service)==null?void 0:Y.name)+" ",1),e[160]||(e[160]=t("br",null,null,-1)),c(" Preferred installation date & time  "+n(s.form.prefer_install_date),1),e[161]||(e[161]=t("br",null,null,-1)),s.form.order_remark?(m(),u("span",To,"Order Remark : "+n(s.form.order_remark),1)):x("",!0),e[162]||(e[162]=t("hr",null,null,-1)),c(" Actual Installation Date - "+n(s.form.installation_date),1),e[163]||(e[163]=t("br",null,null,-1)),c(" Service Activation Date - "+n(s.form.service_activation_date),1),e[164]||(e[164]=t("br",null,null,-1)),c(" Devices - "+n(s.bundle),1),e[165]||(e[165]=t("br",null,null,-1)),c(" DN - "+n((Q=s.form.dn_id)==null?void 0:Q.name),1),e[166]||(e[166]=t("br",null,null,-1)),c(" SN - "+n((I=s.form.sn_id)==null?void 0:I.name),1),e[167]||(e[167]=t("br",null,null,-1)),c(" SN Port - "+n(s.snPort),1),e[168]||(e[168]=t("br",null,null,-1)),c(" Fiber Distance - "+n(s.form.fiber_distance)+" Meter",1),e[169]||(e[169]=t("br",null,null,-1)),c(" ONU Serial - "+n(s.form.onu_serial),1),e[170]||(e[170]=t("br",null,null,-1)),c(" ONU Power - "+n(s.form.onu_power)+" ",1),e[171]||(e[171]=t("br",null,null,-1)),c(" Installation Remark - "+n(s.form.installation_remark),1),e[172]||(e[172]=t("br",null,null,-1)),c(" Installation Location  "+n(s.form.actual_latitude)+","+n(s.form.actual_longitude)+" ",1),e[173]||(e[173]=t("br",null,null,-1))],512)])],2),t("div",{class:V(["p-4",[s.tab==7?"":"hidden"]])},[t("div",Lo,[e[185]||(e[185]=t("h6",{class:"text-indigo-700 text-xs uppercase font-bold block pt-1 no-underline"}," Installation Information ",-1)),e[186]||(e[186]=t("hr",{class:"my-4 md:min-w-full"},null,-1)),t("div",Fo,[t("table",Mo,[e[175]||(e[175]=t("thead",{class:"bg-indigo-50"},[t("tr",null,[t("th",{class:"px-4 py-3 text-left text-xs font-semibold text-indigo-700 uppercase tracking-wider"}," Group Name"),t("th",{class:"px-4 py-3 text-center text-xs font-semibold text-indigo-700 uppercase tracking-wider"}," Total"),t("th",{class:"px-4 py-3 text-center text-xs font-semibold text-indigo-700 uppercase tracking-wider"}," Skip"),t("th",{class:"px-4 py-3 text-center text-xs font-semibold text-indigo-700 uppercase tracking-wider"}," Requested"),t("th",{class:"px-4 py-3 text-center text-xs font-semibold text-indigo-700 uppercase tracking-wider"}," Rejected"),t("th",{class:"px-4 py-3 text-center text-xs font-semibold text-indigo-700 uppercase tracking-wider"}," Approved"),t("th",{class:"px-4 py-3 text-center text-xs font-semibold text-indigo-700 uppercase tracking-wider"}," Remaining")])],-1)),t("tbody",null,[(m(!0),u(se,null,ne(p.checkListSummary,l=>(m(),u("tr",{key:l.group_name,onClick:q=>s.selectedGroupId=l.id,class:V(["cursor-pointer transition-colors",s.selectedGroupId===l.id?"bg-indigo-100":"hover:bg-gray-50"])},[t("td",qo,n(l.group_name),1),t("td",Eo,[l.total>0?(m(),u("span",Bo,n(l.total),1)):(m(),u("span",Ro,n(l.total),1))]),t("td",Ho,[l.skip>0?(m(),u("span",Go,n(l.skip),1)):(m(),u("span",Ko,n(l.skip),1))]),t("td",Jo,[l.requested>0?(m(),u("span",Wo,n(l.requested),1)):(m(),u("span",Yo,n(l.requested),1))]),t("td",Qo,[l.rejected>0?(m(),u("span",Xo,n(l.rejected),1)):(m(),u("span",Zo,n(l.rejected),1))]),t("td",$o,[l.approved>0?(m(),u("span",el,n(l.approved),1)):(m(),u("span",tl,n(l.approved),1))]),t("td",sl,[l.remaining>0?(m(),u("span",ol,n(l.remaining),1)):(m(),u("span",ll,n(l.remaining),1))])],10,zo))),128))])])]),s.filteredChecklists?(m(),u("div",rl,[t("div",nl,[e[183]||(e[183]=t("div",{class:"fixed inset-0 transition-opacity"},[t("div",{class:"absolute inset-0 bg-gray-500 opacity-75"})],-1)),e[184]||(e[184]=t("span",{class:"hidden sm:inline-block sm:align-middle sm:h-screen"},null,-1)),t("div",al,[t("div",il,[t("div",dl,[s.selectedGroupId?(m(),u("div",ml,[e[176]||(e[176]=c(" Showing details for: ")),t("span",ul,n((M=p.checkListSummary.find(l=>l.id===s.selectedGroupId))==null?void 0:M.group_name),1)])):x("",!0),t("div",cl,[(m(!0),u(se,null,ne(s.filteredChecklists,(l,q)=>{var N,Z,a,E;return m(),u("div",{key:l.id,class:"mt-6 sm:mt-0"},[t("label",pl,n(l.name),1),s.form2[`checklist_${l.id}_title`]?d((m(),u("input",{key:0,type:"text","onUpdate:modelValue":w=>s.form2[`checklist_${l.id}_title`]=w,class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",disabled:""},null,8,fl)),[[y,s.form2[`checklist_${l.id}_title`]]]):(m(),u("span",bl,"No Data")),l.has_attachment&&p.customer.checklist_images[l.id]?(m(),u("div",gl,[t("div",null,[t("img",{class:"h-40 w-40 object-cover cursor-pointer",src:p.customer.checklist_images&&p.customer.checklist_images[l.id]?`/storage/${p.customer.checklist_images[l.id]}`:null,onClick:w=>s.openFullView(l.id),alt:""},null,8,xl),s.showFullView&&s.selectedImageId===l.id?(m(),u("div",{key:0,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",onClick:e[59]||(e[59]=(...w)=>s.closeFullView&&s.closeFullView(...w))},[t("div",yl,[t("img",{class:"max-h-[90vh] max-w-[90vw]",src:p.customer.checklist_images&&p.customer.checklist_images[l.id]?`/storage/${p.customer.checklist_images[l.id]}`:null,alt:""},null,8,_l),t("button",{class:"absolute top-4 right-4 text-white bg-black bg-opacity-50 rounded-full w-8 h-8 flex items-center justify-center",onClick:e[58]||(e[58]=(...w)=>s.closeFullView&&s.closeFullView(...w))},e[177]||(e[177]=[t("span",{class:"text-xl"},"",-1)]))])])):x("",!0)])])):x("",!0),s.form2[`checklist_${l.id}_title`]?(m(),u("div",vl,[t("div",wl,[e[182]||(e[182]=t("label",{for:"status",class:"block text-md font-medium text-gray-700"}," Status ",-1)),t("div",kl,[t("label",hl,[d(t("input",{type:"radio",class:"form-radio h-5 w-5 text-yellow-600",name:s.form2[`checklist_${l.id}`],"onUpdate:modelValue":w=>s.form2[`checklist_${l.id}_status`]=w,value:"skip",disabled:(N=p.user.role)==null?void 0:N.installation_oss},null,8,Pl),[[te,s.form2[`checklist_${l.id}_status`]]]),e[178]||(e[178]=t("span",{class:"ml-2 text-gray-700 text-sm"},"Skip",-1))]),t("label",Vl,[d(t("input",{type:"radio",class:"form-radio h-5 w-5 text-yellow-600",name:s.form2[`checklist_${l.id}`],"onUpdate:modelValue":w=>s.form2[`checklist_${l.id}_status`]=w,value:"requested",disabled:(Z=p.user.role)==null?void 0:Z.installation_oss},null,8,Sl),[[te,s.form2[`checklist_${l.id}_status`]]]),e[179]||(e[179]=t("span",{class:"ml-2 text-gray-700 text-sm"},"Request",-1))]),t("label",Cl,[d(t("input",{type:"radio",class:"form-radio h-5 w-5 text-red-600",name:s.form2[`checklist_${l.id}`],"onUpdate:modelValue":w=>s.form2[`checklist_${l.id}_status`]=w,value:"declined",disabled:(a=p.user.role)==null?void 0:a.installation_oss},null,8,jl),[[te,s.form2[`checklist_${l.id}_status`]]]),e[180]||(e[180]=t("span",{class:"ml-2 text-gray-700 text-sm"},"Declined",-1))]),t("label",Ol,[d(t("input",{type:"radio",class:"form-radio h-5 w-5 text-green-600",name:s.form2[`checklist_${l.id}`],"onUpdate:modelValue":w=>s.form2[`checklist_${l.id}_status`]=w,value:"approved",disabled:(E=p.user.role)==null?void 0:E.installation_oss},null,8,Ul),[[te,s.form2[`checklist_${l.id}_status`]]]),e[181]||(e[181]=t("span",{class:"ml-2 text-gray-700 text-sm"},"Approved",-1))])])])])):x("",!0),d(t("p",{class:"mt-2 text-sm text-red-500"},n(o.$page.props.errors[`checklist_${l.id}_attachment`]),513),[[f,o.$page.props.errors[`checklist_${l.id}_attachment`]]])])}),128))])])]),t("div",Il,[t("span",Dl,[(z=p.user.role)!=null&&z.installation_supervisor?d((m(),u("button",{key:0,type:"button",onClick:e[60]||(e[60]=(...l)=>s.installationApproval&&s.installationApproval(...l)),class:"inline-flex items-center px-4 py-2 bg-gray-800 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-gray-700 active:bg-gray-900 focus:outline-none focus:border-gray-900 focus:ring focus:ring-gray-300 disabled:opacity-25 transition"}," Save ",512)),[[f,!s.form.id]]):x("",!0),(X=p.user.role)!=null&&X.installation_supervisor?d((m(),u("button",{key:1,type:"button",onClick:e[61]||(e[61]=(...l)=>s.installationApproval&&s.installationApproval(...l)),class:"inline-flex items-center px-4 py-2 bg-gray-800 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-gray-700 active:bg-gray-900 focus:outline-none focus:border-gray-900 focus:ring focus:ring-gray-300 disabled:opacity-25 transition"}," Update ",512)),[[f,s.form.id]]):x("",!0)]),t("span",Al,[t("button",{onClick:e[62]||(e[62]=(...l)=>s.closeModel&&s.closeModel(...l)),type:"button",class:"inline-flex justify-center w-full rounded-md border border-gray-300 px-4 py-2 bg-white text-base leading-6 font-medium text-gray-700 shadow-sm hover:text-gray-500 focus:outline-none focus:border-blue-300 focus:shadow-outline-blue transition ease-in-out duration-150 sm:text-sm sm:leading-5"}," Close ")])])])])],512)):x("",!0)])],2)])])],32)])])])]}),_:1})}const Bl=Ce(ut,[["render",Nl]]);export{Bl as default};
