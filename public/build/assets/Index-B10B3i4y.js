import{A as q}from"./AppLayout-CVXZavmJ.js";import{P as S}from"./Pagination-D_VoWNBv.js";import{T as N,r as h,z as k,c as V,w as _,N as b,o as n,a as e,j as a,k as w,O as U,v as C,d,g as A,F as D,i as F,t as l,e as p,l as T,B as G,b as j}from"./app-BBwOHBX7.js";import{_ as B}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./DropdownLink-DPQd3Dq-.js";const E={name:"SubconChecklistsGroupIndex",components:{AppLayout:q,Pagination:S},props:{groups:Object},setup(i){const t=N({id:null,name:"",category:"installation",description:"",required:!1}),c=h(i.category||""),o=h(!1),x=h(i.search||"");function v(){m(),o.value=!0}function u(){o.value=!1,m()}function y(){t.id?b.put(`/subcon-checklists-group/${t.id}`,t,{onSuccess:r=>{u(),Toast.fire({icon:"success",title:r.props.flash.message})}}):b.post("/subcon-checklists-group",t,{onSuccess:r=>{u(),Toast.fire({icon:"success",title:r.props.flash.message})}})}function g(r){t.id=r.id,t.name=r.name,t.category=r.category,t.description=r.description,t.required=!!r.required,o.value=!0}function m(){t.id=null,t.name="",t.category="installation",t.description="",t.required=!1}function f(r){confirm("Are you sure you want to delete this group?")&&b.delete(`/subcon-checklists-group/${r}`)}function s(){const r={group:x.value,category:c.value};b.get("/subcon-checklists-group",r,{preserveState:!0})}return{form:t,submit:y,editGroup:g,resetForm:m,deleteGroup:f,showModal:o,openModal:v,closeModal:u,search:x,searchGroups:s,categoryFilter:c}}},I={class:"py-12"},z={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},R={class:"bg-white overflow-hidden shadow-xl sm:rounded-lg p-6"},K={class:"flex justify-between mb-6"},L={class:"flex items-center flex-1"},O={class:"w-1/3 flex gap-2"},P={class:"min-w-full divide-y divide-gray-200"},Y={class:"bg-white divide-y divide-gray-200"},H={class:"px-6 py-4 whitespace-nowrap"},J={class:"px-6 py-4 whitespace-nowrap"},Q={class:"px-6 py-4 whitespace-nowrap capitalize"},W={class:"px-6 py-4 whitespace-nowrap"},X={class:"px-6 py-4 whitespace-nowrap"},Z={class:"px-6 py-4 whitespace-nowrap"},$=["onClick"],ee=["onClick"],te={key:0,ref:"showModal",class:"fixed z-10 inset-0 overflow-y-auto ease-out duration-400"},oe={class:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0"},se={class:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full",role:"dialog","aria-modal":"true","aria-labelledby":"modal-headline"},re={class:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4"},ie={class:""},ne={class:"mb-4"},ae={key:0,class:"text-red-500"},le={class:"mb-4"},de={key:0,class:"text-red-500"},ce={class:"mb-4"},me={key:0,class:"text-red-500"},ue={class:"mb-4"},pe={class:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse"},ge={class:"flex w-full rounded-md shadow-sm sm:ml-3 sm:w-auto"},fe={type:"submit",class:"inline-flex items-center px-4 py-2 bg-gray-800 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-gray-700 active:bg-gray-900 focus:outline-none focus:border-gray-900 focus:ring focus:ring-gray-300 disabled:opacity-25 transition"},be={type:"submit",class:"inline-flex items-center px-4 py-2 bg-gray-800 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-gray-700 active:bg-gray-900 focus:outline-none focus:border-gray-900 focus:ring focus:ring-gray-300 disabled:opacity-25 transition"},xe={class:"mt-3 flex w-full rounded-md shadow-sm sm:mt-0 sm:w-auto"},ye={key:1};function he(i,t,c,o,x,v){const u=k("pagination"),y=k("app-layout");return n(),V(y,null,{header:_(()=>t[12]||(t[12]=[e("h2",{class:"font-semibold text-xl text-white leading-tight"},"Subcon Checklist Groups",-1)])),default:_(()=>{var g,m,f;return[e("div",I,[e("div",z,[e("div",R,[e("div",K,[e("div",L,[e("div",O,[a(e("input",{"onUpdate:modelValue":t[0]||(t[0]=s=>o.search=s),type:"text",placeholder:"Search group...",class:"w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",onKeyup:t[1]||(t[1]=U((...s)=>o.searchGroups&&o.searchGroups(...s),["enter"]))},null,544),[[w,o.search]]),a(e("select",{"onUpdate:modelValue":t[2]||(t[2]=s=>o.categoryFilter=s),onChange:t[3]||(t[3]=(...s)=>o.searchGroups&&o.searchGroups(...s)),class:"w-40 rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"},t[13]||(t[13]=[e("option",{value:""},"All Categories",-1),e("option",{value:"installation"},"Installation",-1),e("option",{value:"maintenance"},"Maintenance",-1),e("option",{value:"termination"},"Termination",-1)]),544),[[C,o.categoryFilter]])])]),e("button",{onClick:t[4]||(t[4]=(...s)=>o.searchGroups&&o.searchGroups(...s)),class:"bg-gray-500 hover:bg-gray-700 text-white font-bold py-2 px-4 rounded mr-2"}," Search "),e("button",{onClick:t[5]||(t[5]=(...s)=>o.openModal&&o.openModal(...s)),class:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded"}," Add Group ")]),e("table",P,[t[14]||(t[14]=e("thead",null,[e("tr",null,[e("th",{class:"px-6 py-3 bg-gray-50 text-left text-xs leading-4 font-medium text-gray-500 uppercase tracking-wider"},"No."),e("th",{class:"px-6 py-3 bg-gray-50 text-left text-xs leading-4 font-medium text-gray-500 uppercase tracking-wider"},"Name"),e("th",{class:"px-6 py-3 bg-gray-50 text-left text-xs leading-4 font-medium text-gray-500 uppercase tracking-wider"},"Category"),e("th",{class:"px-6 py-3 bg-gray-50 text-left text-xs leading-4 font-medium text-gray-500 uppercase tracking-wider"},"Description"),e("th",{class:"px-6 py-3 bg-gray-50 text-left text-xs leading-4 font-medium text-gray-500 uppercase tracking-wider"},"Required"),e("th",{class:"px-6 py-3 bg-gray-50 text-left text-xs leading-4 font-medium text-gray-500 uppercase tracking-wider"},"Actions")])],-1)),e("tbody",Y,[(n(!0),d(D,null,A(c.groups.data,(s,r)=>(n(),d("tr",{key:s.id},[e("td",H,l(r+1),1),e("td",J,l(s.name),1),e("td",Q,l(s.category),1),e("td",W,l(s.description),1),e("td",X,l(s.required?"Yes":"No"),1),e("td",Z,[e("a",{href:"#",onClick:M=>o.editGroup(s),class:"text-indigo-600 hover:text-indigo-900 mr-3"},"Edit",8,$),e("a",{href:"#",onClick:M=>o.deleteGroup(s.id),class:"text-red-600 hover:text-red-900"},"Delete",8,ee)])]))),128))])]),o.showModal?(n(),d("div",te,[e("div",oe,[t[21]||(t[21]=e("div",{class:"fixed inset-0 transition-opacity"},[e("div",{class:"absolute inset-0 bg-gray-500 opacity-75"})],-1)),t[22]||(t[22]=e("span",{class:"hidden sm:inline-block sm:align-middle sm:h-screen"},null,-1)),e("div",se,[e("form",{onSubmit:t[11]||(t[11]=F((...s)=>o.submit&&o.submit(...s),["prevent"]))},[e("div",re,[e("div",ie,[e("div",ne,[t[15]||(t[15]=e("label",{for:"name",class:"block text-gray-700 text-sm font-bold mb-2"},"Group Name:",-1)),a(e("input",{type:"text",class:"mt-1 focus:ring-indigo-500 focus:border-indigo-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md",id:"name",placeholder:"Enter Group Name","onUpdate:modelValue":t[6]||(t[6]=s=>o.form.name=s)},null,512),[[w,o.form.name]]),(g=i.$page.props.errors)!=null&&g.name?(n(),d("div",ae,l(i.$page.props.errors.name[0]),1)):p("",!0)]),e("div",le,[t[17]||(t[17]=e("label",{for:"name",class:"block text-gray-700 text-sm font-bold mb-2"},"Group Category:",-1)),a(e("select",{"onUpdate:modelValue":t[7]||(t[7]=s=>o.form.category=s),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"},t[16]||(t[16]=[e("option",{value:"installation"},"Installation",-1),e("option",{value:"maintenance"},"Maintenance",-1),e("option",{value:"termination"},"Termination",-1)]),512),[[C,o.form.category]]),(m=i.$page.props.errors)!=null&&m.category?(n(),d("div",de,l(i.$page.props.errors.category[0]),1)):p("",!0)]),e("div",ce,[t[18]||(t[18]=e("label",{for:"description",class:"block text-gray-700 text-sm font-bold mb-2"},"Description:",-1)),a(e("textarea",{class:"mt-1 focus:ring-indigo-500 focus:border-indigo-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md",id:"description",placeholder:"Enter Description","onUpdate:modelValue":t[8]||(t[8]=s=>o.form.description=s)},null,512),[[w,o.form.description]]),(f=i.$page.props.errors)!=null&&f.description?(n(),d("div",me,l(i.$page.props.errors.description[0]),1)):p("",!0)]),e("div",ue,[t[19]||(t[19]=e("label",{for:"required",class:"block text-gray-700 text-sm font-bold mb-2"},"Required:",-1)),a(e("input",{type:"checkbox",id:"required","onUpdate:modelValue":t[9]||(t[9]=s=>o.form.required=s),class:"mr-2 leading-tight rounded-sm"},null,512),[[T,o.form.required]]),t[20]||(t[20]=e("label",{for:"required",class:"text-gray-700 text-sm font-bold"}," Required ",-1))])])]),e("div",pe,[e("span",ge,[a(e("button",fe," Save ",512),[[G,!o.form.id]]),a(e("button",be," Update ",512),[[G,o.form.id]])]),e("span",xe,[e("button",{onClick:t[10]||(t[10]=(...s)=>o.closeModal&&o.closeModal(...s)),type:"button",class:"inline-flex justify-center w-full rounded-md border border-gray-300 px-4 py-2 bg-white text-base leading-6 font-medium text-gray-700 shadow-sm hover:text-gray-500 focus:outline-none focus:border-blue-300 focus:shadow-outline-blue transition ease-in-out duration-150 sm:text-sm sm:leading-5"}," Cancel ")])])],32)])])],512)):p("",!0),c.groups.links?(n(),d("span",ye,[j(u,{class:"mt-6",links:c.groups.links},null,8,["links"])])):p("",!0)])])])]}),_:1})}const Ge=B(E,[["render",he]]);export{Ge as default};
