import{A as V}from"./AppLayout-DG15ydYj.js";import{M as j}from"./vue3-multiselect.umd.min-BWwxl7cE.js";import{i as P,r as k,T as O,m as S,p as w,c as C,w as _,N,o as g,a as e,h as U,f as p,q as d,v as u,s as m,t as i,d as x,b,e as y}from"./app-w46C5q5-.js";import{_ as A}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./DropdownLink-DlTIZnVz.js";const D={name:"AddCustomer",components:{AppLayout:V,Multiselect:j,Link:P},props:{packages:Object,townships:Object,projects:Object,status_list:Object,subcoms:Object,dn:Object,pops:Object,max_id:Array,errors:Object,user:Object,bundle_equiptments:Object,partners:Object,isps:Object,userPerm:Array},setup(o){let s=k("");const n=O({id:null,name:"",phone_1:"",address:"",latitude:"",longitude:"",order_date:"",installation_date:"",isp_ftth_id:"",package:"",status:"",township:"",prefer_install_date:"",order_remark:"",isp_id:""});function t(){n.reset()}k(Array.from({length:16},(a,l)=>({id:l+1,name:`SN Port ${l+1}`}))),k(Array.from({length:127},(a,l)=>({id:l,name:`OnuID${l}`})));function h(){n._method="POST",N.post("/customer",n,{preserveState:!0,onSuccess:a=>{console.log("success.. "),Toast.fire({icon:"success",title:a.props.flash.message})},onError:a=>{console.log("error ..".errors)}})}function v(a){a=a||window.event;var l=a.which?a.which:a.keyCode;if(l>31&&(l<48||l>57)&&l!==46)a.preventDefault();else return!0}function f(a){var c;const l=(c=o.user)==null?void 0:c.role;return l&&l!=null&&l.read_customer?!0:!o.userPerm.includes(a)}return S(()=>{n.status=o.status_list[0]}),{form:n,submit:h,resetForm:t,isNumber:v,checkPerm:f,res_packages:s}}},T={class:"py-2"},I={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},q={class:"mt-5 md:mt-0"},z={class:"shadow sm:rounded-md sm:overflow-hidden"},B={class:"px-4 py-5 bg-white space-y-6 sm:p-6"},L={class:"grid grid-cols-1 sm:grid-cols-4 gap-2"},M={class:"col-span-1 sm:col-span-1"},F={class:"mt-1 flex rounded-md shadow-sm"},E=["disabled"],K={class:"col-span-1 sm:col-span-1"},R={key:0,class:"mt-1 flex rounded-md shadow-sm"},H={class:"col-span-1 sm:col-span-2"},G={class:"mt-1 flex rounded-md shadow-sm"},J=["disabled"],Q={class:"col-span-1 sm:col-span-1"},W={class:"mt-1 flex rounded-md shadow-sm"},X=["disabled"],Y={class:"col-span-1 sm:col-span-1"},Z={class:"mt-1 flex rounded-md shadow-sm"},$=["disabled"],ee={class:"col-span-1 sm:col-span-2"},se={class:"mt-1 flex rounded-md shadow-sm"},te=["disabled"],oe={class:"grid grid-cols-1 sm:grid-cols-4 gap-2"},re={class:"col-span-1 sm:col-span-1 w-full"},de={class:"mt-1 flex rounded-md shadow-sm"},le=["disabled"],ae={class:"col-span-1 sm:col-span-1"},ne={class:"mt-1 flex rounded-md shadow-sm"},ie=["min","disabled"],me={class:"col-span-1 sm:col-span-1"},pe={key:0,class:"mt-1 flex rounded-md shadow-sm"},ue={class:"col-span-1 sm:col-span-1"},fe={class:"mt-1 p-2 space-x-2 inline-flex"},ce={class:"col-span-1 sm:col-span-1"},ge={class:"mt-1 flex rounded-md shadow-sm"},be=["min","disabled"],xe={class:"col-span-1 sm:col-span-1"},ye={key:0,class:"mt-1 flex rounded-md shadow-sm"},ke={class:"col-span-1 sm:col-span-2"},we={class:"mt-1 flex rounded-md shadow-sm"},_e=["disabled"],he={class:"col-span-1 sm:col-span-1"},ve={key:0,class:"mt-1 flex rounded-md shadow-sm"},Ve={class:"px-4 py-3 bg-gray-50 text-right sm:px-6"};function je(o,s,n,t,h,v){const f=w("multiselect"),a=w("Link"),l=w("app-layout");return g(),C(l,null,{header:_(()=>s[17]||(s[17]=[e("h2",{class:"font-semibold text-xl text-white leading-tight"},"Customer Details",-1)])),default:_(()=>{var c;return[e("div",T,[e("div",I,[e("div",q,[e("form",{onSubmit:s[16]||(s[16]=U((...r)=>t.submit&&t.submit(...r),["prevent"]))},[e("div",z,[e("div",B,[s[40]||(s[40]=e("h6",{class:"md:min-w-full text-indigo-700 text-xs uppercase font-bold block pt-1 no-underline"}," Customer Basic Information",-1)),e("div",L,[e("div",M,[s[19]||(s[19]=e("label",{for:"name",class:"block text-sm font-medium text-gray-700"},[e("span",{class:"text-red-500"},"*"),p(" Customer Name ")],-1)),e("div",F,[s[18]||(s[18]=e("span",{class:"z-10 leading-snug font-normal text-center text-gray-300 absolute bg-transparent rounded text-base items-center justify-center w-8 pl-3 py-2"},[e("i",{class:"fas fa-user"})],-1)),d(e("input",{type:"text","onUpdate:modelValue":s[0]||(s[0]=r=>t.form.name=r),name:"name",id:"name",class:"pl-10 focus:ring-indigo-500 focus:border-indigo-500 flex-1 block w-full rounded-md sm:text-sm border-gray-300",placeholder:"Customer Name",required:"",disabled:t.checkPerm("name")},null,8,E),[[u,t.form.name]])]),d(e("p",{class:"mt-2 text-sm text-red-500"},i(o.$page.props.errors.name),513),[[m,o.$page.props.errors.name]])]),e("div",K,[s[20]||(s[20]=e("label",{for:"township",class:"block text-sm font-medium text-gray-700"},[e("span",{class:"text-red-500"},"*"),p(" Township ")],-1)),n.townships.length!==0?(g(),x("div",R,[b(f,{"deselect-label":"Selected already",options:n.townships,"track-by":"id",label:"name",modelValue:t.form.township,"onUpdate:modelValue":s[1]||(s[1]=r=>t.form.township=r),placeholder:"Select Township","allow-empty":!1,disabled:t.checkPerm("township_id"),required:""},null,8,["options","modelValue","disabled"])])):y("",!0),d(e("p",{class:"mt-2 text-sm text-red-500"},i(o.$page.props.errors.township_id),513),[[m,o.$page.props.errors.township_id]])]),e("div",H,[s[22]||(s[22]=e("label",{for:"phone_1",class:"block text-sm font-medium text-gray-700"},[e("span",{class:"text-red-500"},"*"),p(" Phone No. (e.g. 09-123/09-456)")],-1)),e("div",G,[s[21]||(s[21]=e("span",{class:"z-10 leading-snug font-normal absolute text-center text-gray-300 bg-transparent rounded text-base items-center justify-center w-8 pl-3 py-2"},[e("i",{class:"fas fa-phone"})],-1)),d(e("input",{type:"text","onUpdate:modelValue":s[2]||(s[2]=r=>t.form.phone_1=r),name:"phone_1",id:"phone_1",class:"pl-10 focus:ring-indigo-500 focus:border-indigo-500 flex-1 block w-full rounded-md sm:text-sm border-gray-300",placeholder:"e.g 0945000111",required:"",disabled:t.checkPerm("phone_1")},null,8,J),[[u,t.form.phone_1]])]),d(e("p",{class:"mt-2 text-sm text-red-500"},i(o.$page.props.errors.phone_1),513),[[m,o.$page.props.errors.phone_1]])]),e("div",Q,[s[24]||(s[24]=e("label",{for:"latitude",class:"block text-sm font-medium text-gray-700"},"Latitude ",-1)),e("div",W,[s[23]||(s[23]=e("span",{class:"z-10 leading-snug font-normal text-center text-gray-300 absolute bg-transparent rounded text-base items-center justify-center w-8 pl-3 py-3"},[e("i",{class:"fas fa-location-arrow"})],-1)),d(e("input",{type:"text","onUpdate:modelValue":s[3]||(s[3]=r=>t.form.latitude=r),name:"latitude",id:"latitude",class:"pl-10 mt-1 form-input focus:ring-indigo-500 focus:border-indigo-500 flex-1 block w-full rounded-md sm:text-sm border-gray-300",onKeypress:s[4]||(s[4]=r=>t.isNumber(o.event)),disabled:t.checkPerm("location")},null,40,X),[[u,t.form.latitude]])]),d(e("p",{class:"mt-2 text-sm text-red-500"},i(o.$page.props.errors.latitude),513),[[m,o.$page.props.errors.latitude]])]),e("div",Y,[s[26]||(s[26]=e("label",{for:"longitude",class:"block text-sm font-medium text-gray-700"},"Longitude ",-1)),e("div",Z,[s[25]||(s[25]=e("span",{class:"z-10 leading-snug font-normal text-center text-gray-300 absolute bg-transparent rounded text-base items-center justify-center w-8 pl-3 py-3"},[e("i",{class:"fas fa-location-arrow"})],-1)),d(e("input",{type:"text","onUpdate:modelValue":s[5]||(s[5]=r=>t.form.longitude=r),name:"longitude",id:"longitude",class:"pl-10 mt-1 form-input focus:ring-indigo-500 focus:border-indigo-500 flex-1 block w-full rounded-md sm:text-sm border-gray-300",onKeypress:s[6]||(s[6]=r=>t.isNumber(o.event)),disabled:t.checkPerm("location")},null,40,$),[[u,t.form.longitude]])]),d(e("p",{class:"mt-2 text-sm text-red-500"},i(o.$page.props.errors.longitude),513),[[m,o.$page.props.errors.longitude]])]),e("div",ee,[s[28]||(s[28]=e("label",{for:"address",class:"block text-sm font-medium text-gray-700"},[e("span",{class:"text-red-500"},"*"),p(" Full Address ")],-1)),e("div",se,[s[27]||(s[27]=e("span",{class:"z-10 leading-snug font-normal absolute text-center text-gray-300 bg-transparent rounded text-base items-center justify-center w-8 pl-3 py-2"},[e("i",{class:"fas fa-map-marker-alt"})],-1)),d(e("textarea",{"onUpdate:modelValue":s[7]||(s[7]=r=>t.form.address=r),name:"address",id:"address",class:"pl-10 focus:ring-indigo-500 focus:border-indigo-500 flex-1 block w-full rounded-md sm:text-sm border-gray-300",required:"",disabled:t.checkPerm("address")},null,8,te),[[u,t.form.address]])]),d(e("p",{class:"mt-2 text-sm text-red-500"},i(o.$page.props.errors.address),513),[[m,o.$page.props.errors.address]])])]),s[41]||(s[41]=e("hr",{class:"my-4 md:min-w-full"},null,-1)),s[42]||(s[42]=e("h6",{class:"md:min-w-full text-indigo-700 text-xs uppercase font-bold block pt-1 no-underline"}," Order Information",-1)),e("div",oe,[e("div",re,[s[30]||(s[30]=e("label",{for:"isp_ftth_id",class:"block text-sm font-medium text-gray-700"},[e("span",{class:"text-red-500"},"*"),p(" Customer ID ")],-1)),e("div",de,[s[29]||(s[29]=e("span",{class:"z-10 leading-snug font-normal text-center text-gray-300 absolute bg-transparent rounded text-base items-center justify-center w-8 pl-3 py-2"},[e("i",{class:"fas fa-id-badge"})],-1)),d(e("input",{"onUpdate:modelValue":s[8]||(s[8]=r=>t.form.isp_ftth_id=r),type:"text",name:"isp_ftth_id",id:"isp_ftth_id",class:"pl-10 focus:ring-indigo-500 focus:border-indigo-500 flex-1 block w-full rounded-md sm:text-sm border-gray-300",required:"",disabled:t.checkPerm("isp_ftth_id")},null,8,le),[[u,t.form.isp_ftth_id]])]),d(e("p",{class:"mt-2 text-sm text-red-500"},i(o.$page.props.errors.isp_ftth_id),513),[[m,o.$page.props.errors.isp_ftth_id]])]),e("div",ae,[s[31]||(s[31]=e("label",{for:"order_date",class:"block text-sm font-medium text-gray-700"},[e("span",{class:"text-red-500"},"*"),p(" Order Date ")],-1)),e("div",ne,[d(e("input",{type:"date","onUpdate:modelValue":s[9]||(s[9]=r=>t.form.order_date=r),name:"order_date",id:"order_date",min:new Date().toISOString().split("T")[0],class:"focus:ring-indigo-500 focus:border-indigo-500 flex-1 block w-full rounded-md sm:text-sm border-gray-300",required:"",disabled:t.checkPerm("order_date")},null,8,ie),[[u,t.form.order_date]])]),d(e("p",{class:"mt-2 text-sm text-red-500"},i(o.$page.props.errors.order_date),513),[[m,o.$page.props.errors.order_date]])]),e("div",me,[s[32]||(s[32]=e("label",{for:"package",class:"block text-sm font-medium text-gray-700"},[e("span",{class:"text-red-500"},"*"),p(" Package ")],-1)),n.packages?(g(),x("div",pe,[b(f,{"deselect-label":"Selected already",options:n.packages,"track-by":"id",label:"name",modelValue:t.form.package,"onUpdate:modelValue":s[10]||(s[10]=r=>t.form.package=r),"allow-empty":!1,disabled:t.checkPerm("package_id")},null,8,["options","modelValue","disabled"])])):y("",!0),d(e("p",{class:"mt-2 text-sm text-red-500"},i(o.$page.props.errors.package),513),[[m,o.$page.props.errors.package]])]),e("div",ue,[s[33]||(s[33]=e("label",{class:"block text-sm font-medium text-gray-700"}," Installation Timeline ",-1)),e("div",fe,i((c=t.form.package)==null?void 0:c.installation_timeline)+" "+i(t.form.package?" Hours":""),1)]),e("div",ce,[s[35]||(s[35]=e("label",{for:"prefer_install_date",class:"block text-sm font-medium text-gray-700"},[e("span",{class:"text-red-500"},"*"),p(" Prefer Installation Date ")],-1)),e("div",ge,[s[34]||(s[34]=e("span",{class:"z-10 leading-snug font-normal text-center text-gray-300 absolute bg-transparent rounded text-base items-center justify-center w-8 pl-3 py-2"},[e("i",{class:"fas fa-tools"})],-1)),d(e("input",{"onUpdate:modelValue":s[11]||(s[11]=r=>t.form.prefer_install_date=r),type:"date",name:"prefer_install_date",id:"prefer_install_date",min:new Date().toISOString().split("T")[0],class:"pl-10 focus:ring-indigo-500 focus:border-indigo-500 flex-1 block w-full rounded-md sm:text-sm border-gray-300",disabled:t.checkPerm("prefer_install_date")},null,8,be),[[u,t.form.prefer_install_date]])])]),e("div",xe,[s[36]||(s[36]=e("label",{for:"status",class:"block text-sm font-medium text-gray-700"},[e("span",{class:"text-red-500"},"*"),p(" Customer Status ")],-1)),n.status_list.length!==0?(g(),x("div",ye,[b(f,{"deselect-label":"Selected already",options:n.status_list,"track-by":"id",label:"name",modelValue:t.form.status,"onUpdate:modelValue":s[12]||(s[12]=r=>t.form.status=r),"allow-empty":!1,disabled:t.checkPerm("status_id")},null,8,["options","modelValue","disabled"])])):y("",!0),d(e("p",{class:"mt-2 text-sm text-red-500"},i(o.$page.props.errors.status),513),[[m,o.$page.props.errors.status]])]),e("div",ke,[s[38]||(s[38]=e("label",{for:"order_remark",class:"block text-sm font-medium text-gray-700"}," Order Remark ",-1)),e("div",we,[s[37]||(s[37]=e("span",{class:"z-10 leading-snug font-normal text-center text-gray-300 absolute bg-transparent rounded text-base items-center justify-center w-8 pl-3 py-2"},[e("i",{class:"fas fa-comment"})],-1)),d(e("textarea",{name:"order_remark","onUpdate:modelValue":s[13]||(s[13]=r=>t.form.order_remark=r),id:"order_remark",class:"pl-10 focus:ring-indigo-500 focus:border-indigo-500 flex-1 block w-full rounded-md sm:text-sm border-gray-300",disabled:t.checkPerm("order_remark")},null,8,_e),[[u,t.form.order_remark]])]),d(e("p",{class:"mt-2 text-sm text-red-500"},i(o.$page.props.errors.order_remark),513),[[m,o.$page.props.errors.order_remark]])]),e("div",he,[s[39]||(s[39]=e("label",{for:"isp",class:"block text-sm font-medium text-gray-700"}," ISP Assignment ",-1)),n.isps.length!==0?(g(),x("div",ve,[b(f,{"deselect-label":"Selected already",options:n.isps,"track-by":"id",label:"name",modelValue:t.form.isp_id,"onUpdate:modelValue":s[14]||(s[14]=r=>t.form.isp_id=r),"allow-empty":!0,disabled:t.checkPerm("isp_id")},null,8,["options","modelValue","disabled"])])):y("",!0),d(e("p",{class:"mt-2 text-sm text-red-500"},i(o.$page.props.errors.isp_id),513),[[m,o.$page.props.errors.isp_id]])])])]),e("div",Ve,[b(a,{href:o.route("customer.index"),class:"inline-flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-yellow-600 hover:bg-yellow-700 shadow-sm focus:outline-none focus:border-blue-300 focus:shadow-outline-blue transition ease-in-out duration-150"},{default:_(()=>s[43]||(s[43]=[p("Back")])),_:1},8,["href"]),e("button",{onClick:s[15]||(s[15]=(...r)=>t.resetForm&&t.resetForm(...r)),type:"button",class:"ml-2 inline-flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-gray-600 hover:bg-gray-700 shadow-sm focus:outline-none focus:border-blue-300 focus:shadow-outline-blue transition ease-in-out duration-150"},"Reset"),s[44]||(s[44]=e("button",{"wire:click.prevent":"submit",type:"submit",class:"ml-2 inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"},"Save",-1))])])],32)])])])]}),_:1})}const Ue=A(D,[["render",je]]);export{Ue as default};
