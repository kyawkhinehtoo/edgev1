import{i as F,r as x,T as R,p as H,q as v,c as K,w,o as E,a as t,t as n,h as W,f as k,d as Z,b as p,e as G,s as m,x as a,v as i}from"./app-oZdCU5Z3.js";import{A as J}from"./AppLayout-B_lFvDX5.js";import{_ as Q}from"./ImageUploader-dToE0pX6.js";import{M as X}from"./vue3-multiselect.umd.min-BeUbscqk.js";import{_ as Y}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./DropdownLink-bArowyCE.js";const h={name:"EditCustomer",components:{AppLayout:J,Multiselect:X,Link:F,ImageUploader:Q},props:{customer:Object,bundle_equiptments:Object},setup(o){const e=x(null),r=x(null),s=x(null),U=x(null),b=x(null),d=R({installation_status:null,way_list_date:o.customer.way_list_date,installation_date:o.customer.installation_date,fiber_distance:o.customer.fiber_distance,bundles:"",onu_serial:o.customer.onu_serial,onu_power:o.customer.onu_power,route_kmz_image:null,drum_no_txt:o.customer.drum_no_txt,drum_no_image:null,start_meter_txt:o.customer.start_meter_txt,start_meter_image:null,end_meter_txt:o.customer.end_meter_txt,end_meter_image:null,installation_remark:o.customer.installation_remark}),u=x([{id:"team_assigned",name:"Team Assigned"},{id:"cable_done",name:"Cable Done"},{id:"config_done",name:"Config Done"},{id:"completed",name:"Completed"},{id:"customer_cancel",name:"Customer Cancel"},{id:"pending_odb_issue",name:"Pending ODB Issue"},{id:"pending_port_full",name:"Pending Port Full"},{id:"pending_reappointment",name:"Pending Reappointment"}]);return H(()=>{if(d.installation_status=o.customer.installation_status?u.value.filter(g=>g.id==o.customer.installation_status)[0]:null,o.customer.bundle){let g=o.customer.bundle.split(",").filter(Boolean),_=[];b.value=[],g.forEach(c=>{const f=o.bundle_equiptments.find(y=>y.id==c);f&&(_.push(f),b.value=b.value?`${b.value},${f.name}`:f.name)}),d.bundles=_}}),{submit:()=>{d.post(route("subcom.customer.update",o.customer.id),{preserveScroll:!0,onSuccess:g=>{Toast.fire({icon:"success",title:g.props.flash.message})}})},installationStatus:u,form:d,routeImagePreview:e,drumImagePreview:r,startMeterImagePreview:s,endMeterImagePreview:U}}},$={class:"font-semibold text-xl text-white leading-tight"},tt={class:"py-12"},et={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},st={class:"bg-white overflow-hidden shadow-xl sm:rounded-lg p-6"},ot={class:"grid grid-cols-2 sm:grid-cols-4 gap-2 mb-6 mt-6"},lt={class:"mt-1"},nt={class:"mt-1"},rt={class:"mt-1"},mt={class:"mt-1"},at={class:"mt-1"},it={class:"mt-1"},dt={class:"mt-1"},ut={class:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800"},gt={class:"mt-1"},ft={class:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-yellow-100 text-yellow-800"},pt={class:"mt-1"},xt={class:"mt-1"},bt={class:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-red-100 text-red-800"},_t={class:"mt-1"},ct={class:"mt-1"},yt={class:"grid grid-cols-2 sm:grid-cols-4 gap-2 mb-6 mt-6"},vt={class:"mt-1"},wt={class:"mt-1"},kt={class:"mt-1"},Ut={class:"mt-1"},It={class:"mt-1"},Vt={class:"mt-1"},Pt={class:"mt-1"},Dt={class:"mt-1"},St={class:"grid grid-cols-1 sm:grid-cols-3 gap-6 mt-6"},Nt={class:"col-span-1"},Ct={key:0,class:"mt-1 flex rounded-md shadow-sm"},Mt={class:"col-span-1"},Lt={class:"col-span-1"},Ot={class:"col-span-1"},zt={class:"col-span-1"},At={class:"col-span-1"},Bt={class:"col-span-1"},Tt={class:"col-span-1 sm:col-span-2"},jt={class:"grid grid-cols-1 sm:grid-cols-4 mt-6 gap-4"},qt={class:"col-span-1"},Et={class:"col-span-1"},Ft={class:"mt-2"},Rt={class:"col-span-1"},Ht={class:"mt-2"},Kt={class:"col-span-1"},Wt={class:"mt-2"},Zt={class:"mt-6 flex justify-end"};function Gt(o,e,r,s,U,b){const d=v("multiselect"),u=v("ImageUploader"),I=v("Link"),g=v("AppLayout");return E(),K(g,{title:"Customer Details"},{header:w(()=>[t("h2",$," ID :"+n(r.customer.ftth_id),1)]),default:w(()=>{var _,c,f,y,V,P,D,S,N,C,M,L,O,z,A,B,T,j,q;return[t("div",tt,[t("div",et,[t("div",st,[t("form",{onSubmit:e[20]||(e[20]=W((...l)=>s.submit&&s.submit(...l),["prevent"]))},[e[55]||(e[55]=t("h6",{class:"md:min-w-full text-indigo-700 text-xs uppercase font-bold block pt-1 no-underline"}," Customer Information",-1)),t("div",ot,[t("div",null,[e[21]||(e[21]=t("p",{class:"text-sm font-medium text-gray-500"},"Name",-1)),t("p",lt,n(r.customer.name),1)]),t("div",null,[e[22]||(e[22]=t("p",{class:"text-sm font-medium text-gray-500"},"Phone",-1)),t("p",nt,n(r.customer.phone_1),1)]),t("div",null,[e[23]||(e[23]=t("p",{class:"text-sm font-medium text-gray-500"},"Township",-1)),t("p",rt,n((c=(_=r.customer)==null?void 0:_.township)==null?void 0:c.name),1)]),t("div",null,[e[24]||(e[24]=t("p",{class:"text-sm font-medium text-gray-500"},"Address",-1)),t("p",mt,n(r.customer.address),1)]),t("div",null,[e[25]||(e[25]=t("p",{class:"text-sm font-medium text-gray-500"},"Location",-1)),t("p",at,n(r.customer.location),1)]),t("div",null,[e[26]||(e[26]=t("p",{class:"text-sm font-medium text-gray-500"},"Customer ID",-1)),t("p",it,n(r.customer.ftth_id),1)]),t("div",null,[e[27]||(e[27]=t("p",{class:"text-sm font-medium text-gray-500"},"Order Date",-1)),t("p",dt,[t("span",ut,n(r.customer.order_date),1)])]),t("div",null,[e[28]||(e[28]=t("p",{class:"text-sm font-medium text-gray-500"},"Assign Date",-1)),t("p",gt,[t("span",ft,n(r.customer.subcom_assign_date),1)])]),t("div",null,[e[29]||(e[29]=t("p",{class:"text-sm font-medium text-gray-500"},"Package",-1)),t("p",pt,n((f=r.customer.package)==null?void 0:f.name)+", "+n((y=r.customer.package)==null?void 0:y.speed)+" Mbps",1)]),t("div",null,[e[30]||(e[30]=t("p",{class:"text-sm font-medium text-gray-500"},"Installation Timeline",-1)),t("p",xt,[t("span",bt,n((V=r.customer.package)==null?void 0:V.installation_timeline)+" "+n(r.customer.package?"Hours":""),1)])]),t("div",null,[e[31]||(e[31]=t("p",{class:"text-sm font-medium text-gray-500"},"Prefer Install Date",-1)),t("p",_t,n(r.customer.prefer_install_date),1)]),t("div",null,[e[32]||(e[32]=t("p",{class:"text-sm font-medium text-gray-500"},"Order Remark",-1)),t("p",ct,n(r.customer.order_remark),1)])]),e[56]||(e[56]=t("hr",{class:"my-4 md:min-w-full"},null,-1)),e[57]||(e[57]=t("h6",{class:"md:min-w-full text-indigo-700 text-xs uppercase font-bold block pt-1 no-underline"}," ODN Information",-1)),t("div",yt,[t("div",null,[e[33]||(e[33]=t("p",{class:"text-sm font-medium text-gray-500"},"Internet Service Provider",-1)),t("p",vt,n((D=(P=r.customer)==null?void 0:P.isp)==null?void 0:D.name),1)]),t("div",null,[e[34]||(e[34]=t("p",{class:"text-sm font-medium text-gray-500"},"POP ID",-1)),t("p",wt,n((N=(S=r.customer)==null?void 0:S.pop)==null?void 0:N.site_name),1)]),t("div",null,[e[35]||(e[35]=t("p",{class:"text-sm font-medium text-gray-500"},"DN Name",-1)),t("p",kt,n((M=(C=r.customer)==null?void 0:C.dn)==null?void 0:M.name),1)]),t("div",null,[e[36]||(e[36]=t("p",{class:"text-sm font-medium text-gray-500"},"DN Location",-1)),t("p",Ut,n((O=(L=r.customer)==null?void 0:L.dn)==null?void 0:O.location),1)]),t("div",null,[e[37]||(e[37]=t("p",{class:"text-sm font-medium text-gray-500"},"SN Name",-1)),t("p",It,n((A=(z=r.customer)==null?void 0:z.sn)==null?void 0:A.name),1)]),t("div",null,[e[38]||(e[38]=t("p",{class:"text-sm font-medium text-gray-500"},"SN Location",-1)),t("p",Vt,n((T=(B=r.customer)==null?void 0:B.sn)==null?void 0:T.location),1)]),t("div",null,[e[39]||(e[39]=t("p",{class:"text-sm font-medium text-gray-500"},"SN Description",-1)),t("p",Pt,n((q=(j=r.customer)==null?void 0:j.sn)==null?void 0:q.description),1)]),t("div",null,[e[40]||(e[40]=t("p",{class:"text-sm font-medium text-gray-500"},"SN Port No.",-1)),t("p",Dt,"SN Port "+n(r.customer.splitter_no),1)])]),e[58]||(e[58]=t("hr",{class:"my-4 md:min-w-full"},null,-1)),e[59]||(e[59]=t("h6",{class:"md:min-w-full text-indigo-700 text-xs uppercase font-bold block pt-1 no-underline"}," Installation Information",-1)),t("div",St,[t("div",Nt,[e[41]||(e[41]=t("label",{class:"block text-sm font-medium text-gray-700"},[t("span",{class:"text-red-500"},"*"),k(" Installation Status")],-1)),s.installationStatus.length!==0?(E(),Z("div",Ct,[p(d,{"deselect-label":"Selected already",options:s.installationStatus,"track-by":"id",label:"name",modelValue:s.form.installation_status,"onUpdate:modelValue":e[0]||(e[0]=l=>s.form.installation_status=l),"allow-empty":!1,multiple:!1,taggable:!1},null,8,["options","modelValue"])])):G("",!0),m(t("p",{class:"mt-2 text-sm text-red-500"},n(o.$page.props.errors.installation_status),513),[[a,o.$page.props.errors.installation_status]])]),t("div",Mt,[e[42]||(e[42]=t("label",{class:"block text-sm font-medium text-gray-700"},[t("span",{class:"text-red-500"},"*"),k(" Way List Date")],-1)),m(t("input",{type:"date","onUpdate:modelValue":e[1]||(e[1]=l=>s.form.way_list_date=l),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"},null,512),[[i,s.form.way_list_date]]),m(t("p",{class:"mt-2 text-sm text-red-500"},n(o.$page.props.errors.way_list_date),513),[[a,o.$page.props.errors.way_list_date]])]),t("div",Lt,[e[43]||(e[43]=t("label",{class:"block text-sm font-medium text-gray-700"},"Installation Date",-1)),m(t("input",{type:"date","onUpdate:modelValue":e[2]||(e[2]=l=>s.form.installation_date=l),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"},null,512),[[i,s.form.installation_date]]),m(t("p",{class:"mt-2 text-sm text-red-500"},n(o.$page.props.errors.installation_date),513),[[a,o.$page.props.errors.installation_date]])]),t("div",Ot,[e[44]||(e[44]=t("label",{class:"block text-sm font-medium text-gray-700"},"Fiber Distance",-1)),m(t("input",{type:"number","onUpdate:modelValue":e[3]||(e[3]=l=>s.form.fiber_distance=l),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"},null,512),[[i,s.form.fiber_distance]]),m(t("p",{class:"mt-2 text-sm text-red-500"},n(o.$page.props.errors.fiber_distance),513),[[a,o.$page.props.errors.fiber_distance]])]),t("div",zt,[e[45]||(e[45]=t("label",{class:"block text-sm font-medium text-gray-700"},"Devices",-1)),p(d,{"deselect-label":"Selected already",options:r.bundle_equiptments,"track-by":"id",label:"name",modelValue:s.form.bundles,"onUpdate:modelValue":e[4]||(e[4]=l=>s.form.bundles=l),"allow-empty":!1,multiple:!0,taggable:!1},null,8,["options","modelValue"]),m(t("p",{class:"mt-2 text-sm text-red-500"},n(o.$page.props.errors.bundles),513),[[a,o.$page.props.errors.bundles]])]),t("div",At,[e[46]||(e[46]=t("label",{class:"block text-sm font-medium text-gray-700"},"ONU Serial",-1)),m(t("input",{type:"text","onUpdate:modelValue":e[5]||(e[5]=l=>s.form.onu_serial=l),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"},null,512),[[i,s.form.onu_serial]]),m(t("p",{class:"mt-2 text-sm text-red-500"},n(o.$page.props.errors.onu_serial),513),[[a,o.$page.props.errors.onu_serial]])]),t("div",Bt,[e[47]||(e[47]=t("label",{class:"block text-sm font-medium text-gray-700"},"ONU Power",-1)),m(t("input",{type:"text","onUpdate:modelValue":e[6]||(e[6]=l=>s.form.onu_power=l),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"},null,512),[[i,s.form.onu_power]]),m(t("p",{class:"mt-2 text-sm text-red-500"},n(o.$page.props.errors.onu_power),513),[[a,o.$page.props.errors.onu_power]])]),t("div",Tt,[e[48]||(e[48]=t("label",{class:"block text-sm font-medium text-gray-700"},"Installation Remark",-1)),m(t("textarea",{"onUpdate:modelValue":e[7]||(e[7]=l=>s.form.installation_remark=l),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"},null,512),[[i,s.form.installation_remark]]),m(t("p",{class:"mt-2 text-sm text-red-500"},n(o.$page.props.errors.installation_remark),513),[[a,o.$page.props.errors.installation_remark]])])]),e[60]||(e[60]=t("hr",{class:"my-4 md:min-w-full"},null,-1)),e[61]||(e[61]=t("h6",{class:"md:min-w-full text-indigo-700 text-xs uppercase font-bold block pt-1 no-underline"}," Installation Data",-1)),t("div",jt,[t("div",qt,[e[49]||(e[49]=t("label",{class:"block text-sm font-medium text-gray-700"},"Fiber Route",-1)),e[50]||(e[50]=t("div",{class:"mt-2 flex"},[t("label",{for:"route_kmz_image",class:"block py-3 text-sm font-medium text-gray-500"}," Upload Fiber Route KMZ Below:")],-1)),p(u,{modelValue:s.form.route_kmz_image,"onUpdate:modelValue":e[8]||(e[8]=l=>s.form.route_kmz_image=l),imageUrl:s.routeImagePreview,"onUpdate:imageUrl":e[9]||(e[9]=l=>s.routeImagePreview=l),existingImage:r.customer.route_kmz_image?`/storage/${r.customer.route_kmz_image}`:null,"upload-text":"Upload route image"},null,8,["modelValue","imageUrl","existingImage"]),m(t("p",{class:"mt-2 text-sm text-red-500"},n(o.$page.props.errors.route_kmz_image),513),[[a,o.$page.props.errors.route_kmz_image]])]),t("div",Et,[e[51]||(e[51]=t("label",{class:"block text-sm font-medium text-gray-700"},"Fiber Drum Number",-1)),m(t("input",{type:"text","onUpdate:modelValue":e[10]||(e[10]=l=>s.form.drum_no_txt=l),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"},null,512),[[i,s.form.drum_no_txt]]),t("div",Ft,[p(u,{modelValue:s.form.drum_no_image,"onUpdate:modelValue":e[11]||(e[11]=l=>s.form.drum_no_image=l),imageUrl:s.drumImagePreview,"onUpdate:imageUrl":e[12]||(e[12]=l=>s.drumImagePreview=l),existingImage:r.customer.drum_no_image?`/storage/${r.customer.drum_no_image}`:null,"upload-text":"Upload drum image"},null,8,["modelValue","imageUrl","existingImage"])]),m(t("p",{class:"mt-2 text-sm text-red-500"},n(o.$page.props.errors.drum_no_image),513),[[a,o.$page.props.errors.drum_no_image]])]),t("div",Rt,[e[52]||(e[52]=t("label",{class:"block text-sm font-medium text-gray-700"},"Start Meter",-1)),m(t("input",{type:"text","onUpdate:modelValue":e[13]||(e[13]=l=>s.form.start_meter_txt=l),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"},null,512),[[i,s.form.start_meter_txt]]),t("div",Ht,[p(u,{modelValue:s.form.start_meter_image,"onUpdate:modelValue":e[14]||(e[14]=l=>s.form.start_meter_image=l),imageUrl:s.startMeterImagePreview,"onUpdate:imageUrl":e[15]||(e[15]=l=>s.startMeterImagePreview=l),existingImage:r.customer.start_meter_image?`/storage/${r.customer.start_meter_image}`:null,"upload-text":"Upload start meter image"},null,8,["modelValue","imageUrl","existingImage"])]),m(t("p",{class:"mt-2 text-sm text-red-500"},n(o.$page.props.errors.start_meter_image),513),[[a,o.$page.props.errors.start_meter_image]])]),t("div",Kt,[e[53]||(e[53]=t("label",{class:"block text-sm font-medium text-gray-700"},"End Meter",-1)),m(t("input",{type:"text","onUpdate:modelValue":e[16]||(e[16]=l=>s.form.end_meter_txt=l),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"},null,512),[[i,s.form.end_meter_txt]]),t("div",Wt,[p(u,{modelValue:s.form.end_meter_image,"onUpdate:modelValue":e[17]||(e[17]=l=>s.form.end_meter_image=l),imageUrl:s.endMeterImagePreview,"onUpdate:imageUrl":e[18]||(e[18]=l=>s.endMeterImagePreview=l),existingImage:r.customer.end_meter_image?`/storage/${r.customer.end_meter_image}`:null,"upload-text":"Upload end meter image"},null,8,["modelValue","imageUrl","existingImage"])]),m(t("p",{class:"mt-2 text-sm text-red-500"},n(o.$page.props.errors.end_meter_image),513),[[a,o.$page.props.errors.end_meter_image]])])]),t("div",Zt,[p(I,{href:o.route("customer.index"),class:"inline-flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-yellow-600 hover:bg-yellow-700 shadow-sm focus:outline-none focus:border-blue-300 focus:shadow-outline-blue transition ease-in-out duration-150"},{default:w(()=>e[54]||(e[54]=[k("Back")])),_:1},8,["href"]),t("button",{type:"button",onClick:e[19]||(e[19]=(...l)=>s.submit&&s.submit(...l)),class:"ml-3 inline-flex justify-center rounded-md border border-transparent bg-indigo-600 py-2 px-4 text-sm font-medium text-white shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2"}," Save Changes ")])],32)])])])]}),_:1})}const te=Y(h,[["render",Gt]]);export{te as default};
