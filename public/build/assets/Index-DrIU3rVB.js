import{A as G}from"./AppLayout-Bgml6ADg.js";import{P as q}from"./Pagination-ByOLJ610.js";import{T as M,r as w,z as v,c as S,w as k,N as g,o as n,a as e,j as l,k as y,O as N,d as c,g as V,t as u,F as A,i as D,e as f,l as j,A as _,b as U}from"./app-D5k6tgHT.js";import{_ as B}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./DropdownLink-PRWvlaXF.js";const E={name:"SubconChecklistsGroupIndex",components:{AppLayout:G,Pagination:q},props:{groups:Object},setup(a){const t=M({id:null,name:"",description:"",required:!1}),i=w(!1),s=w(a.search||"");function h(){d(),i.value=!0}function p(){i.value=!1,d()}function b(){t.id?g.put(`/subcon-checklists-group/${t.id}`,t,{onSuccess:r=>{p(),Toast.fire({icon:"success",title:r.props.flash.message})}}):g.post("/subcon-checklists-group",t,{onSuccess:r=>{p(),Toast.fire({icon:"success",title:r.props.flash.message})}})}function x(r){t.id=r.id,t.name=r.name,t.description=r.description,t.required=!!r.required,i.value=!0}function d(){t.id=null,t.name="",t.description="",t.required=!1}function m(r){confirm("Are you sure you want to delete this group?")&&g.delete(`/subcon-checklists-group/${r}`)}function o(){const r={group:s.value};g.get("/subcon-checklists-group",r,{preserveState:!0})}return{form:t,submit:b,editGroup:x,resetForm:d,deleteGroup:m,showModal:i,openModal:h,closeModal:p,search:s,searchGroups:o}}},T={class:"py-12"},F={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},R={class:"bg-white overflow-hidden shadow-xl sm:rounded-lg p-6"},z={class:"flex justify-between mb-6"},I={class:"flex items-center flex-1"},K={class:"w-1/3"},L={class:"min-w-full divide-y divide-gray-200"},O={class:"bg-white divide-y divide-gray-200"},P={class:"px-6 py-4 whitespace-nowrap"},Y={class:"px-6 py-4 whitespace-nowrap"},H={class:"px-6 py-4 whitespace-nowrap"},J={class:"px-6 py-4 whitespace-nowrap"},Q={class:"px-6 py-4 whitespace-nowrap"},W=["onClick"],X=["onClick"],Z={key:0,ref:"showModal",class:"fixed z-10 inset-0 overflow-y-auto ease-out duration-400"},$={class:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0"},ee={class:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full",role:"dialog","aria-modal":"true","aria-labelledby":"modal-headline"},te={class:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4"},se={class:""},oe={class:"mb-4"},re={key:0,class:"text-red-500"},ie={class:"mb-4"},ne={key:0,class:"text-red-500"},ae={class:"mb-4"},de={class:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse"},le={class:"flex w-full rounded-md shadow-sm sm:ml-3 sm:w-auto"},ce={type:"submit",class:"inline-flex items-center px-4 py-2 bg-gray-800 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-gray-700 active:bg-gray-900 focus:outline-none focus:border-gray-900 focus:ring focus:ring-gray-300 disabled:opacity-25 transition"},ue={type:"submit",class:"inline-flex items-center px-4 py-2 bg-gray-800 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-gray-700 active:bg-gray-900 focus:outline-none focus:border-gray-900 focus:ring focus:ring-gray-300 disabled:opacity-25 transition"},pe={class:"mt-3 flex w-full rounded-md shadow-sm sm:mt-0 sm:w-auto"},me={key:1};function ge(a,t,i,s,h,p){const b=v("pagination"),x=v("app-layout");return n(),S(x,null,{header:k(()=>t[9]||(t[9]=[e("h2",{class:"font-semibold text-xl text-white leading-tight"},"Subcon Checklist Groups",-1)])),default:k(()=>{var d,m;return[e("div",T,[e("div",F,[e("div",R,[e("div",z,[e("div",I,[e("div",K,[l(e("input",{"onUpdate:modelValue":t[0]||(t[0]=o=>s.search=o),type:"text",placeholder:"Search group...",class:"w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",onKeyup:t[1]||(t[1]=N((...o)=>s.searchGroups&&s.searchGroups(...o),["enter"]))},null,544),[[y,s.search]])])]),e("button",{onClick:t[2]||(t[2]=(...o)=>s.searchGroups&&s.searchGroups(...o)),class:"bg-gray-500 hover:bg-gray-700 text-white font-bold py-2 px-4 rounded mr-2"}," Search "),e("button",{onClick:t[3]||(t[3]=(...o)=>s.openModal&&s.openModal(...o)),class:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded"}," Add Group ")]),e("table",L,[t[10]||(t[10]=e("thead",null,[e("tr",null,[e("th",{class:"px-6 py-3 bg-gray-50 text-left text-xs leading-4 font-medium text-gray-500 uppercase tracking-wider"},"No."),e("th",{class:"px-6 py-3 bg-gray-50 text-left text-xs leading-4 font-medium text-gray-500 uppercase tracking-wider"},"Name"),e("th",{class:"px-6 py-3 bg-gray-50 text-left text-xs leading-4 font-medium text-gray-500 uppercase tracking-wider"},"Description"),e("th",{class:"px-6 py-3 bg-gray-50 text-left text-xs leading-4 font-medium text-gray-500 uppercase tracking-wider"},"Required"),e("th",{class:"px-6 py-3 bg-gray-50 text-left text-xs leading-4 font-medium text-gray-500 uppercase tracking-wider"},"Actions")])],-1)),e("tbody",O,[(n(!0),c(A,null,V(i.groups.data,(o,r)=>(n(),c("tr",{key:o.id},[e("td",P,u(r+1),1),e("td",Y,u(o.name),1),e("td",H,u(o.description),1),e("td",J,u(o.required?"Yes":"No"),1),e("td",Q,[e("a",{href:"#",onClick:C=>s.editGroup(o),class:"text-indigo-600 hover:text-indigo-900 mr-3"},"Edit",8,W),e("a",{href:"#",onClick:C=>s.deleteGroup(o.id),class:"text-red-600 hover:text-red-900"},"Delete",8,X)])]))),128))])]),s.showModal?(n(),c("div",Z,[e("div",$,[t[15]||(t[15]=e("div",{class:"fixed inset-0 transition-opacity"},[e("div",{class:"absolute inset-0 bg-gray-500 opacity-75"})],-1)),t[16]||(t[16]=e("span",{class:"hidden sm:inline-block sm:align-middle sm:h-screen"},null,-1)),e("div",ee,[e("form",{onSubmit:t[8]||(t[8]=D((...o)=>s.submit&&s.submit(...o),["prevent"]))},[e("div",te,[e("div",se,[e("div",oe,[t[11]||(t[11]=e("label",{for:"name",class:"block text-gray-700 text-sm font-bold mb-2"},"Group Name:",-1)),l(e("input",{type:"text",class:"mt-1 focus:ring-indigo-500 focus:border-indigo-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md",id:"name",placeholder:"Enter Group Name","onUpdate:modelValue":t[4]||(t[4]=o=>s.form.name=o)},null,512),[[y,s.form.name]]),(d=a.$page.props.errors)!=null&&d.name?(n(),c("div",re,u(a.$page.props.errors.name[0]),1)):f("",!0)]),e("div",ie,[t[12]||(t[12]=e("label",{for:"description",class:"block text-gray-700 text-sm font-bold mb-2"},"Description:",-1)),l(e("textarea",{class:"mt-1 focus:ring-indigo-500 focus:border-indigo-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md",id:"description",placeholder:"Enter Description","onUpdate:modelValue":t[5]||(t[5]=o=>s.form.description=o)},null,512),[[y,s.form.description]]),(m=a.$page.props.errors)!=null&&m.description?(n(),c("div",ne,u(a.$page.props.errors.description[0]),1)):f("",!0)]),e("div",ae,[t[13]||(t[13]=e("label",{for:"required",class:"block text-gray-700 text-sm font-bold mb-2"},"Required:",-1)),l(e("input",{type:"checkbox",id:"required","onUpdate:modelValue":t[6]||(t[6]=o=>s.form.required=o),class:"mr-2 leading-tight rounded-sm"},null,512),[[j,s.form.required]]),t[14]||(t[14]=e("label",{for:"required",class:"text-gray-700 text-sm font-bold"}," Required ",-1))])])]),e("div",de,[e("span",le,[l(e("button",ce," Save ",512),[[_,!s.form.id]]),l(e("button",ue," Update ",512),[[_,s.form.id]])]),e("span",pe,[e("button",{onClick:t[7]||(t[7]=(...o)=>s.closeModal&&s.closeModal(...o)),type:"button",class:"inline-flex justify-center w-full rounded-md border border-gray-300 px-4 py-2 bg-white text-base leading-6 font-medium text-gray-700 shadow-sm hover:text-gray-500 focus:outline-none focus:border-blue-300 focus:shadow-outline-blue transition ease-in-out duration-150 sm:text-sm sm:leading-5"}," Cancel ")])])],32)])])],512)):f("",!0),i.groups.links?(n(),c("span",me,[U(b,{class:"mt-6",links:i.groups.links},null,8,["links"])])):f("",!0)])])])]}),_:1})}const we=B(E,[["render",ge]]);export{we as default};
