import{r as b,q as h,c as k,w as g,o,a as t,i as v,j as x,k as y,v as _,d as i,g as m,F as p,t as a,N as T}from"./app-DEFBMW71.js";import{A as S}from"./AppLayout-BnzSYYjy.js";import"./DropdownLink-9oXNaPVi.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const Z={class:"py-12"},z={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},A={class:"bg-white overflow-hidden shadow-xl sm:rounded-lg mb-6"},C={class:"p-6 bg-white border-b border-gray-200"},D=["value"],N=["value"],F={class:"bg-white overflow-hidden shadow-xl sm:rounded-lg mb-6"},O={class:"p-6 bg-white border-b border-gray-200"},V={class:"overflow-x-auto"},B={class:"min-w-full divide-y divide-gray-200"},U={class:"bg-white divide-y divide-gray-200"},j={class:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900"},H={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 font-semibold"},M={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},E={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},I={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},L={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},P={class:"bg-gray-100 font-semibold"},R={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 font-bold"},$={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 font-bold"},q={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 font-bold"},G={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 font-bold"},J={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 font-bold"},K={class:"bg-white overflow-hidden shadow-xl sm:rounded-lg"},Q={class:"p-6 bg-white border-b border-gray-200"},W={class:"overflow-x-auto"},X={class:"min-w-full divide-y divide-gray-200"},Y={class:"bg-white divide-y divide-gray-200"},tt={key:0,class:"bg-yellow-100"},et={colspan:"7",class:"px-6 py-3 text-sm font-bold text-gray-900"},st={key:1,class:"hover:bg-gray-50"},at={class:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900"},ot={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},it={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},rt={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},dt={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},nt={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},mt={__name:"OssTeamDashboard",props:{ticket_types:Object,zone_matrix:Array,township_matrix:Array,grand_total:Object,zones:Array,cities:Array,city_id:[String,Number],zone_id:[String,Number],date_from:String,date_to:String},setup(r){const l=r,d=b({date_from:l.date_from||"",date_to:l.date_to||"",city_id:l.city_id||"",zone_id:l.zone_id||""}),f=h(()=>{const c=[];let e=null;return[...l.township_matrix].sort((n,u)=>n.zone_name!==u.zone_name?n.zone_name.localeCompare(u.zone_name):n.township_name.localeCompare(u.township_name)).forEach(n=>{e!==n.zone_name&&(c.push({...n,isZoneHeader:!0}),e=n.zone_name),c.push({...n,isZoneHeader:!1})}),c}),w=()=>{T.get(route("oss-team-dashboard"),d.value,{preserveState:!0,preserveScroll:!0})};return(c,e)=>(o(),k(S,{title:"OSS Team Dashboard"},{header:g(()=>e[4]||(e[4]=[t("h2",{class:"font-semibold text-xl text-white leading-tight"}," OSS Team Dashboard ",-1)])),default:g(()=>[t("div",Z,[t("div",z,[t("div",A,[t("div",C,[e[12]||(e[12]=t("h3",{class:"text-lg font-medium text-gray-900 mb-4"},"Daily Ticket Count by Zone (City Filter)",-1)),t("form",{onSubmit:v(w,["prevent"]),class:"grid grid-cols-1 md:grid-cols-5 gap-4"},[t("div",null,[e[5]||(e[5]=t("label",{class:"block text-sm font-medium text-gray-700"},"Date From",-1)),x(t("input",{type:"date","onUpdate:modelValue":e[0]||(e[0]=s=>d.value.date_from=s),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"},null,512),[[y,d.value.date_from]])]),t("div",null,[e[6]||(e[6]=t("label",{class:"block text-sm font-medium text-gray-700"},"Date To",-1)),x(t("input",{type:"date","onUpdate:modelValue":e[1]||(e[1]=s=>d.value.date_to=s),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"},null,512),[[y,d.value.date_to]])]),t("div",null,[e[8]||(e[8]=t("label",{class:"block text-sm font-medium text-gray-700"},"City",-1)),x(t("select",{"onUpdate:modelValue":e[2]||(e[2]=s=>d.value.city_id=s),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"},[e[7]||(e[7]=t("option",{value:""},"All Cities",-1)),(o(!0),i(p,null,m(r.cities,s=>(o(),i("option",{key:s.id,value:s.id},a(s.name),9,D))),128))],512),[[_,d.value.city_id]])]),t("div",null,[e[10]||(e[10]=t("label",{class:"block text-sm font-medium text-gray-700"},"Zone",-1)),x(t("select",{"onUpdate:modelValue":e[3]||(e[3]=s=>d.value.zone_id=s),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"},[e[9]||(e[9]=t("option",{value:""},"All Zones",-1)),(o(!0),i(p,null,m(r.zones,s=>(o(),i("option",{key:s.id,value:s.id},a(s.name),9,N))),128))],512),[[_,d.value.zone_id]])]),e[11]||(e[11]=t("div",{class:"flex items-end"},[t("button",{type:"submit",class:"w-full bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 focus:ring-2 focus:ring-blue-500"}," Apply Filters ")],-1))],32)])]),t("div",F,[t("div",O,[e[15]||(e[15]=t("h3",{class:"text-lg font-medium text-gray-900 mb-4"},"Zone Summary",-1)),t("div",V,[t("table",B,[e[14]||(e[14]=t("thead",{class:"bg-gray-50"},[t("tr",null,[t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Zone "),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Total Ticket "),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," New Installation Ticket "),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Rectification Ticket "),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Suspend Ticket "),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Plan Change Ticket ")])],-1)),t("tbody",U,[(o(!0),i(p,null,m(r.zone_matrix,s=>(o(),i("tr",{key:s.zone_id,class:"hover:bg-gray-50"},[t("td",j," Zone "+a(s.zone_name),1),t("td",H,a(s.total_ticket),1),t("td",M,a(s.new_installation_ticket),1),t("td",E,a(s.rectification_ticket),1),t("td",I,a(s.suspend_ticket),1),t("td",L,a(s.plan_change_ticket),1)]))),128)),t("tr",P,[e[13]||(e[13]=t("td",{class:"px-6 py-4 whitespace-nowrap text-sm font-bold text-gray-900"}," Grand Total ",-1)),t("td",R,a(r.grand_total.total_ticket),1),t("td",$,a(r.grand_total.new_installation_ticket),1),t("td",q,a(r.grand_total.rectification_ticket),1),t("td",G,a(r.grand_total.suspend_ticket),1),t("td",J,a(r.grand_total.plan_change_ticket),1)])])])])])]),t("div",K,[t("div",Q,[e[18]||(e[18]=t("h3",{class:"text-lg font-medium text-gray-900 mb-4"},"Township Detail",-1)),t("div",W,[t("table",X,[e[17]||(e[17]=t("thead",{class:"bg-gray-50"},[t("tr",null,[t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Zone "),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Township "),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Total Ticket "),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," New Installation Ticket "),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Rectification Ticket "),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Suspend Ticket "),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Plan Change Ticket ")])],-1)),t("tbody",Y,[(o(!0),i(p,null,m(f.value,s=>(o(),i(p,{key:`${s.zone_name}-${s.township_name}`},[s.isZoneHeader?(o(),i("tr",tt,[t("td",et," Zone "+a(s.zone_name),1)])):(o(),i("tr",st,[e[16]||(e[16]=t("td",{class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},null,-1)),t("td",at,a(s.township_name),1),t("td",ot,a(s.total_ticket),1),t("td",it,a(s.new_installation_ticket),1),t("td",rt,a(s.rectification_ticket),1),t("td",dt,a(s.suspend_ticket),1),t("td",nt,a(s.plan_change_ticket),1)]))],64))),128))])])])])])])])]),_:1}))}};export{mt as default};
