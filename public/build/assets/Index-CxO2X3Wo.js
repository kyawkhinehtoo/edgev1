import{r as g,q as m,c as L,w as u,o,a as t,b as d,f as y,u as f,m as v,j as k,k as B,v as G,d as a,g as b,F as h,e as _,t as p,n as j}from"./app-jvevrBWz.js";import{A as q}from"./AppLayout-BZ3UfX5C.js";import{_ as S}from"./Badge-DF3TO0VL.js";import"./DropdownLink-BTHkLhSF.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const D={class:"py-12"},E={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},O={class:"bg-white shadow-xl sm:rounded-lg p-6"},$={class:"flex justify-between mb-6"},I={class:"space-y-4"},M=["value"],R={class:"flex flex-wrap gap-2"},U=["onClick"],z={class:"min-w-full divide-y divide-gray-200 mt-4"},H={class:"bg-white divide-y divide-gray-200 text-xs"},J={class:"px-3 py-4 whitespace-nowrap"},K={class:"px-3 py-4 whitespace-nowrap"},P={class:"px-3 py-4 whitespace-nowrap"},Q={class:"px-3 py-4 whitespace-nowrap"},W={class:"px-3 py-4 whitespace-nowrap"},X={class:"px-3 py-4 whitespace-nowrap"},Y={key:0},le={__name:"Index",props:{checklists:Array},setup(C){const c=C,i=g(""),l=g([]),n=g(""),A=m(()=>{const r=new Set(c.checklists.map(e=>e.service_type));return Array.from(r)}),N=m(()=>{const r={};return c.checklists.forEach(e=>{e.group&&e.group.id&&(r[e.group.id]=e.group.name)}),Object.entries(r).map(([e,s])=>({id:e,name:s}))}),w=m(()=>{let r=c.checklists;return i.value&&(r=r.filter(e=>e.name.toLowerCase().includes(i.value.toLowerCase()))),l.value.length>0&&(r=r.filter(e=>l.value.includes(e.service_type))),n.value&&(r=r.filter(e=>e.group&&String(e.group.id)===String(n.value))),r}),T=r=>{const e=l.value.indexOf(r);e===-1?l.value.push(r):l.value.splice(e,1)},F=r=>l.value.includes(r),V=()=>{l.value=[],i.value="",n.value=""};return(r,e)=>(o(),L(q,{title:"Subcon Checklists"},{header:u(()=>e[3]||(e[3]=[t("h2",{class:"font-semibold text-xl text-white leading-tight"}," Subcon Checklists ",-1)])),default:u(()=>[t("div",D,[t("div",E,[t("div",O,[t("div",$,[e[5]||(e[5]=t("h3",{class:"text-lg font-medium"},"Subcon Checklist List",-1)),d(f(v),{href:r.route("subcon-checklists.create"),class:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700"},{default:u(()=>e[4]||(e[4]=[y(" Add New Checklist ")])),_:1},8,["href"])]),t("div",I,[t("div",null,[k(t("input",{"onUpdate:modelValue":e[0]||(e[0]=s=>i.value=s),type:"text",placeholder:"Search checklists...",class:"w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},null,512),[[B,i.value]])]),t("div",null,[e[7]||(e[7]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Filter by Group",-1)),k(t("select",{"onUpdate:modelValue":e[1]||(e[1]=s=>n.value=s),class:"w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},[e[6]||(e[6]=t("option",{value:""},"All Groups",-1)),(o(!0),a(h,null,b(N.value,s=>(o(),a("option",{key:s.id,value:s.id},p(s.name),9,M))),128))],512),[[G,n.value]])]),t("div",null,[e[8]||(e[8]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Filter by Service Type",-1)),t("div",R,[(o(!0),a(h,null,b(A.value,s=>(o(),a("button",{key:s,onClick:x=>T(s),class:j(["px-3 py-1 text-xs rounded-full border",F(s)?"bg-blue-100 border-blue-500 text-blue-800":"bg-gray-100 border-gray-300 text-gray-700 hover:bg-gray-200"])},p(s),11,U))),128)),l.value.length>0||i.value||n.value?(o(),a("button",{key:0,onClick:V,class:"px-3 py-1 text-xs rounded-full bg-red-100 border border-red-300 text-red-700 hover:bg-red-200"}," Clear Filters ")):_("",!0)])])]),t("table",z,[e[12]||(e[12]=t("thead",null,[t("tr",null,[t("th",{class:"px-3 py-3 bg-gray-50 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Name"),t("th",{class:"px-3 py-3 bg-gray-50 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Group"),t("th",{class:"px-3 py-3 bg-gray-50 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Service Type"),t("th",{class:"px-3 py-3 bg-gray-50 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Attachment"),t("th",{class:"px-3 py-3 bg-gray-50 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Status"),t("th",{class:"px-3 py-3 bg-gray-50 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Actions")])],-1)),t("tbody",H,[(o(!0),a(h,null,b(w.value,s=>{var x;return o(),a("tr",{key:s.id},[t("td",J,p(s.name),1),t("td",K,p((x=s.group)==null?void 0:x.name),1),t("td",P,p(s.service_type),1),t("td",Q,[d(S,{color:s.has_attachment?"green":"gray",text:s.has_attachment?"Required":"Not Required"},null,8,["color","text"])]),t("td",W,[d(S,{color:s.status==="active"?"green":"red",text:s.status},null,8,["color","text"])]),t("td",X,[d(f(v),{href:r.route("subcon-checklists.edit",s.id),class:"text-indigo-600 hover:text-indigo-900 mr-3"},{default:u(()=>e[9]||(e[9]=[y(" Edit ")])),_:2},1032,["href"]),d(f(v),{href:r.route("subcon-checklists.destroy",s.id),method:"delete",as:"button",class:"text-red-600 hover:text-red-900",onClick:e[2]||(e[2]=Z=>r.confirm("Are you sure you want to delete this checklist?"))},{default:u(()=>e[10]||(e[10]=[y(" Delete ")])),_:2},1032,["href"])])])}),128)),w.value.length===0?(o(),a("tr",Y,e[11]||(e[11]=[t("td",{colspan:"5",class:"px-3 py-4 whitespace-nowrap text-sm text-gray-500 text-center"},"No checklists found",-1)]))):_("",!0)])])])])])]),_:1}))}};export{le as default};
