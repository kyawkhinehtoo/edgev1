import{T as w,k as f,c as C,w as c,o as d,a as o,h as S,b as r,u as s,d as i,t as a,e as u,f as j,i as B}from"./app-DEu5QESI.js";import{A as P}from"./AppLayout-DK4lvVE5.js";import{M as m}from"./vue3-multiselect.umd.min-B-YpTmQF.js";import"./DropdownLink-COMCezEv.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const U={class:"py-12"},A={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},D={class:"bg-white overflow-hidden shadow-xl sm:rounded-lg p-6"},N={class:"grid grid-cols-1 gap-6"},v={class:"grid grid-cols-3 gap-4"},M={key:0,class:"text-red-500 text-sm mt-1"},G={key:0,class:"text-red-500 text-sm mt-1"},O={key:0,class:"text-red-500 text-sm mt-1"},T={class:"grid grid-cols-3 gap-4"},E={key:0,class:"text-red-500 text-sm mt-1"},I={key:0,class:"text-red-500 text-sm mt-1"},J={key:0,class:"text-red-500 text-sm mt-1"},L={key:0,class:"text-red-500 text-sm mt-1"},R={key:0,class:"text-red-500 text-sm mt-1"},W={class:"flex justify-end space-x-3"},q=["disabled"],X={__name:"Create",props:{fiberCables:Array,jcBoxes:Array,usedPorts:Object},setup(p){const x=p,l=w({source:"",source_id:"",source_color:"",source_color_id:"",source_port:"",source_port_id:"",dest:"",dest_id:"",dest_color:"",dest_color_id:"",dest_port:"",dest_port_id:"",jc:"",jc_id:"",status:"",status_id:""}),y=[{id:"blue",name:"Blue"},{id:"orange",name:"Orange"},{id:"green",name:"Green"},{id:"brown",name:"Brown"},{id:"gray",name:"Gray"},{id:"white",name:"White"},{id:"red",name:"Red"},{id:"black",name:"Black"}],_=[{id:"active",name:"Active"},{id:"inactive",name:"Inactive"}],b=[{id:"1",name:"1"},{id:"2",name:"2"},{id:"3",name:"3"},{id:"4",name:"4"},{id:"5",name:"5"},{id:"6",name:"6"},{id:"7",name:"7"},{id:"8",name:"8"},{id:"9",name:"9"},{id:"10",name:"10"},{id:"11",name:"11"},{id:"12",name:"12"}],g=()=>{l.post(route("core-assignments.store"),{onSuccess:()=>{l.reset()}})},k=f(()=>{var e;if(!l.source_id)return b;const n=((e=x.usedPorts[l.source_id])==null?void 0:e.source_ports)||[];return b.filter(t=>!n.includes(t.id))}),V=f(()=>{var e;if(!l.dest_id)return b;const n=((e=x.usedPorts[l.dest_id])==null?void 0:e.dest_ports)||[];return b.filter(t=>!n.includes(t.id))});return(n,e)=>(d(),C(P,{title:"Create Core Assignment"},{header:c(()=>e[16]||(e[16]=[o("h2",{class:"font-semibold text-xl text-white leading-tight"}," Create Core Assignment ",-1)])),default:c(()=>[o("div",U,[o("div",A,[o("div",D,[o("form",{onSubmit:S(g,["prevent"])},[o("div",N,[o("div",v,[o("div",null,[e[17]||(e[17]=o("label",{class:"block text-sm font-medium text-gray-700"},"Source Cable",-1)),r(s(m),{"deselect-label":"Selected already",options:p.fiberCables,"track-by":"id",label:"name",modelValue:s(l).source,"onUpdate:modelValue":[e[0]||(e[0]=t=>s(l).source=t),e[1]||(e[1]=t=>s(l).source_id=t==null?void 0:t.id)],"allow-empty":!1,multiple:!1,tabindex:"1"},null,8,["options","modelValue"]),s(l).errors.source_id?(d(),i("div",M,a(s(l).errors.source_id),1)):u("",!0)]),o("div",null,[e[18]||(e[18]=o("label",{class:"block text-sm font-medium text-gray-700"},"Source Color",-1)),r(s(m),{"deselect-label":"Selected already",options:y,"track-by":"id",label:"name",modelValue:s(l).source_color,"onUpdate:modelValue":[e[2]||(e[2]=t=>s(l).source_color=t),e[3]||(e[3]=t=>s(l).source_color_id=t==null?void 0:t.id)],"allow-empty":!1,multiple:!1,tabindex:"2"},null,8,["modelValue"]),s(l).errors.source_color_id?(d(),i("div",G,a(s(l).errors.source_color_id),1)):u("",!0)]),o("div",null,[e[19]||(e[19]=o("label",{class:"block text-sm font-medium text-gray-700"},"Source Port",-1)),r(s(m),{"deselect-label":"Selected already",options:k.value,"track-by":"id",label:"name",modelValue:s(l).source_port,"onUpdate:modelValue":[e[4]||(e[4]=t=>s(l).source_port=t),e[5]||(e[5]=t=>s(l).source_port_id=t==null?void 0:t.id)],"allow-empty":!1,multiple:!1,tabindex:"3"},null,8,["options","modelValue"]),s(l).errors.source_port_id?(d(),i("div",O,a(s(l).errors.source_port_id),1)):u("",!0)])]),o("div",T,[o("div",null,[e[20]||(e[20]=o("label",{class:"block text-sm font-medium text-gray-700"},"Destination Cable",-1)),r(s(m),{"deselect-label":"Selected already",options:p.fiberCables,"track-by":"id",label:"name",modelValue:s(l).dest,"onUpdate:modelValue":[e[6]||(e[6]=t=>s(l).dest=t),e[7]||(e[7]=t=>s(l).dest_id=t==null?void 0:t.id)],"allow-empty":!1,multiple:!1,tabindex:"4"},null,8,["options","modelValue"]),s(l).errors.dest_id?(d(),i("div",E,a(s(l).errors.dest_id),1)):u("",!0)]),o("div",null,[e[21]||(e[21]=o("label",{class:"block text-sm font-medium text-gray-700"},"Destination Color",-1)),r(s(m),{"deselect-label":"Selected already",options:y,"track-by":"id",label:"name",modelValue:s(l).dest_color,"onUpdate:modelValue":[e[8]||(e[8]=t=>s(l).dest_color=t),e[9]||(e[9]=t=>s(l).dest_color_id=t==null?void 0:t.id)],"allow-empty":!1,multiple:!1,tabindex:"5"},null,8,["modelValue"]),s(l).errors.dest_color_id?(d(),i("div",I,a(s(l).errors.dest_color_id),1)):u("",!0)]),o("div",null,[e[22]||(e[22]=o("label",{class:"block text-sm font-medium text-gray-700"},"Destination Port",-1)),r(s(m),{"deselect-label":"Selected already",options:V.value,"track-by":"id",label:"name",modelValue:s(l).dest_port,"onUpdate:modelValue":[e[10]||(e[10]=t=>s(l).dest_port=t),e[11]||(e[11]=t=>s(l).dest_port_id=t==null?void 0:t.id)],"allow-empty":!1,multiple:!1,tabindex:"6"},null,8,["options","modelValue"]),s(l).errors.dest_port_id?(d(),i("div",J,a(s(l).errors.dest_port_id),1)):u("",!0)])]),o("div",null,[e[23]||(e[23]=o("label",{class:"block text-sm font-medium text-gray-700"},"JC Box",-1)),r(s(m),{"deselect-label":"Selected already",options:p.jcBoxes,"track-by":"id",label:"name",modelValue:s(l).jc,"onUpdate:modelValue":[e[12]||(e[12]=t=>s(l).jc=t),e[13]||(e[13]=t=>s(l).jc_id=t==null?void 0:t.id)],"allow-empty":!1,multiple:!1,tabindex:"7"},null,8,["options","modelValue"]),s(l).errors.jc_id?(d(),i("div",L,a(s(l).errors.jc_id),1)):u("",!0)]),o("div",null,[e[24]||(e[24]=o("label",{class:"block text-sm font-medium text-gray-700"},"Status",-1)),r(s(m),{"deselect-label":"Selected already",options:_,"track-by":"id",label:"name",modelValue:s(l).status,"onUpdate:modelValue":[e[14]||(e[14]=t=>s(l).status=t),e[15]||(e[15]=t=>s(l).status_id=t==null?void 0:t.id)],"allow-empty":!1,multiple:!1,tabindex:"8"},null,8,["modelValue"]),s(l).errors.status_id?(d(),i("div",R,a(s(l).errors.status_id),1)):u("",!0)]),o("div",W,[r(s(B),{href:n.route("core-assignments.index"),class:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50"},{default:c(()=>e[25]||(e[25]=[j(" Cancel ")])),_:1},8,["href"]),o("button",{type:"submit",class:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",disabled:s(l).processing}," Create ",8,q)])])],32)])])])]),_:1}))}};export{X as default};
